var cx=Object.defineProperty;var ux=(t,e,r)=>e in t?cx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Is=(t,e,r)=>ux(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fm={exports:{}},lo={},hm={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=Symbol.for("react.element"),fx=Symbol.for("react.portal"),hx=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),px=Symbol.for("react.profiler"),gx=Symbol.for("react.provider"),xx=Symbol.for("react.context"),yx=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),vx=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),Od=Symbol.iterator;function Ex(t){return t===null||typeof t!="object"?null:(t=Od&&t[Od]||t["@@iterator"],typeof t=="function"?t:null)}var mm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pm=Object.assign,gm={};function Ns(t,e,r){this.props=t,this.context=e,this.refs=gm,this.updater=r||mm}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xm(){}xm.prototype=Ns.prototype;function xu(t,e,r){this.props=t,this.context=e,this.refs=gm,this.updater=r||mm}var yu=xu.prototype=new xm;yu.constructor=xu;pm(yu,Ns.prototype);yu.isPureReactComponent=!0;var Fd=Array.isArray,ym=Object.prototype.hasOwnProperty,wu={current:null},wm={key:!0,ref:!0,__self:!0,__source:!0};function vm(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)ym.call(e,n)&&!wm.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ci,type:t,key:a,ref:o,props:i,_owner:wu.current}}function Nx(t,e){return{$$typeof:Ci,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ci}function Sx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Dd=/\/+/g;function Mo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sx(""+t.key):e.toString(36)}function ha(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ci:case fx:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Mo(o,0):n,Fd(i)?(r="",t!=null&&(r=t.replace(Dd,"$&/")+"/"),ha(i,e,r,"",function(u){return u})):i!=null&&(vu(i)&&(i=Nx(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Fd(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Mo(a,l);o+=ha(a,e,r,c,i)}else if(c=Ex(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Mo(a,l++),o+=ha(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Li(t,e,r){if(t==null)return t;var n=[],i=0;return ha(t,n,"","",function(a){return e.call(r,a,i++)}),n}function jx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},ma={transition:null},_x={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:ma,ReactCurrentOwner:wu};function bm(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Li,forEach:function(t,e,r){Li(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Li(t,function(){e++}),e},toArray:function(t){return Li(t,function(e){return e})||[]},only:function(t){if(!vu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Ns;_e.Fragment=hx;_e.Profiler=px;_e.PureComponent=xu;_e.StrictMode=mx;_e.Suspense=wx;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x;_e.act=bm;_e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pm({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=wu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ym.call(e,c)&&!wm.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ci,type:t.type,key:i,ref:a,props:n,_owner:o}};_e.createContext=function(t){return t={$$typeof:xx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gx,_context:t},t.Consumer=t};_e.createElement=vm;_e.createFactory=function(t){var e=vm.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:yx,render:t}};_e.isValidElement=vu;_e.lazy=function(t){return{$$typeof:bx,_payload:{_status:-1,_result:t},_init:jx}};_e.memo=function(t,e){return{$$typeof:vx,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=ma.transition;ma.transition={};try{t()}finally{ma.transition=e}};_e.unstable_act=bm;_e.useCallback=function(t,e){return vt.current.useCallback(t,e)};_e.useContext=function(t){return vt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return vt.current.useEffect(t,e)};_e.useId=function(){return vt.current.useId()};_e.useImperativeHandle=function(t,e,r){return vt.current.useImperativeHandle(t,e,r)};_e.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return vt.current.useMemo(t,e)};_e.useReducer=function(t,e,r){return vt.current.useReducer(t,e,r)};_e.useRef=function(t){return vt.current.useRef(t)};_e.useState=function(t){return vt.current.useState(t)};_e.useSyncExternalStore=function(t,e,r){return vt.current.useSyncExternalStore(t,e,r)};_e.useTransition=function(){return vt.current.useTransition()};_e.version="18.3.1";hm.exports=_e;var ne=hm.exports;const rr=dx(ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx=ne,kx=Symbol.for("react.element"),Ax=Symbol.for("react.fragment"),Tx=Object.prototype.hasOwnProperty,Ix=Cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Px={key:!0,ref:!0,__self:!0,__source:!0};function Em(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Tx.call(e,n)&&!Px.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:kx,type:t,key:a,ref:o,props:i,_owner:Ix.current}}lo.Fragment=Ax;lo.jsx=Em;lo.jsxs=Em;fm.exports=lo;var s=fm.exports,Nm={exports:{}},Pt={},Sm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,R){var J=U.length;U.push(R);e:for(;0<J;){var F=J-1>>>1,C=U[F];if(0<i(C,R))U[F]=R,U[J]=C,J=F;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var R=U[0],J=U.pop();if(J!==R){U[0]=J;e:for(var F=0,C=U.length,G=C>>>1;F<G;){var q=2*(F+1)-1,re=U[q],K=q+1,j=U[K];if(0>i(re,J))K<C&&0>i(j,re)?(U[F]=j,U[K]=J,F=K):(U[F]=re,U[q]=J,F=q);else if(K<C&&0>i(j,J))U[F]=j,U[K]=J,F=K;else break e}}return R}function i(U,R){var J=U.sortIndex-R.sortIndex;return J!==0?J:U.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],p=1,g=null,y=3,m=!1,b=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=U)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function T(U){if(v=!1,w(U),!b)if(r(c)!==null)b=!0,Y(P);else{var R=r(u);R!==null&&D(T,R.startTime-U)}}function P(U,R){b=!1,v&&(v=!1,h(Q),Q=-1),m=!0;var J=y;try{for(w(R),g=r(c);g!==null&&(!(g.expirationTime>R)||U&&!ce());){var F=g.callback;if(typeof F=="function"){g.callback=null,y=g.priorityLevel;var C=F(g.expirationTime<=R);R=t.unstable_now(),typeof C=="function"?g.callback=C:g===r(c)&&n(c),w(R)}else n(c);g=r(c)}if(g!==null)var G=!0;else{var q=r(u);q!==null&&D(T,q.startTime-R),G=!1}return G}finally{g=null,y=J,m=!1}}var H=!1,W=null,Q=-1,I=5,ee=-1;function ce(){return!(t.unstable_now()-ee<I)}function M(){if(W!==null){var U=t.unstable_now();ee=U;var R=!0;try{R=W(!0,U)}finally{R?te():(H=!1,W=null)}}else H=!1}var te;if(typeof x=="function")te=function(){x(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,V=A.port2;A.port1.onmessage=M,te=function(){V.postMessage(null)}}else te=function(){_(M,0)};function Y(U){W=U,H||(H=!0,te())}function D(U,R){Q=_(function(){U(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,Y(P))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var R=3;break;default:R=y}var J=y;y=R;try{return U()}finally{y=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,R){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=y;y=U;try{return R()}finally{y=J}},t.unstable_scheduleCallback=function(U,R,J){var F=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?F+J:F):J=F,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,U={id:p++,callback:R,priorityLevel:U,startTime:J,expirationTime:C,sortIndex:-1},J>F?(U.sortIndex=J,e(u,U),r(c)===null&&U===r(u)&&(v?(h(Q),Q=-1):v=!0,D(T,J-F))):(U.sortIndex=C,e(c,U),b||m||(b=!0,Y(P))),U},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(U){var R=y;return function(){var J=y;y=R;try{return U.apply(this,arguments)}finally{y=J}}}})(jm);Sm.exports=jm;var Rx=Sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=ne,It=Rx;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,ai={};function kn(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(ai[t]=e,t=0;t<e.length;t++)_m.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=Object.prototype.hasOwnProperty,Fx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ld={},Bd={};function Dx(t){return oc.call(Bd,t)?!0:oc.call(Ld,t)?!1:Fx.test(t)?Bd[t]=!0:(Ld[t]=!0,!1)}function Lx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bx(t,e,r,n){if(e===null||typeof e>"u"||Lx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bu=/[\-:]([a-z])/g;function Eu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bu,Eu);at[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bu,Eu);at[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bu,Eu);at[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nu(t,e,r,n){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bx(e,r,i,n)&&(r=null),n||i===null?Dx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ar=Ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),km=Symbol.for("react.context"),ju=Symbol.for("react.forward_ref"),cc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),_u=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),Am=Symbol.for("react.offscreen"),Md=Symbol.iterator;function Rs(t){return t===null||typeof t!="object"?null:(t=Md&&t[Md]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Uo;function Hs(t){if(Uo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Uo=e&&e[1]||""}return`
`+Uo+t}var zo=!1;function $o(t,e){if(!t||zo)return"";zo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{zo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hs(t):""}function Mx(t){switch(t.tag){case 5:return Hs(t.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return t=$o(t.type,!1),t;case 11:return t=$o(t.type.render,!1),t;case 1:return t=$o(t.type,!0),t;default:return""}}function dc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Un:return"Fragment";case Mn:return"Portal";case lc:return"Profiler";case Su:return"StrictMode";case cc:return"Suspense";case uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case km:return(t.displayName||"Context")+".Consumer";case Cm:return(t._context.displayName||"Context")+".Provider";case ju:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _u:return e=t.displayName||null,e!==null?e:dc(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return dc(t(e))}catch{}}return null}function Ux(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dc(e);case 8:return e===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zx(t){var e=Tm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mi(t){t._valueTracker||(t._valueTracker=zx(t))}function Im(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Tm(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fc(t,e){var r=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ud(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pm(t,e){e=e.checked,e!=null&&Nu(t,"checked",e,!1)}function hc(t,e){Pm(t,e);var r=Qr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mc(t,e.type,r):e.hasOwnProperty("defaultValue")&&mc(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mc(t,e,r){(e!=="number"||ka(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gs=Array.isArray;function Qn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $d(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(Gs(r)){if(1<r.length)throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qr(r)}}function Rm(t,e){var r=Qr(e.value),n=Qr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Vd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Om(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Om(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ui,Fm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ui.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$x=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(t){$x.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qs[e]=Qs[t]})});function Dm(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qs.hasOwnProperty(t)&&Qs[t]?(""+e).trim():e+"px"}function Lm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Dm(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Vx=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xc(t,e){if(e){if(Vx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function yc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=null;function Cu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vc=null,Jn=null,Zn=null;function Wd(t){if(t=Ti(t)){if(typeof vc!="function")throw Error(me(280));var e=t.stateNode;e&&(e=mo(e),vc(t.stateNode,t.type,e))}}function Bm(t){Jn?Zn?Zn.push(t):Zn=[t]:Jn=t}function Mm(){if(Jn){var t=Jn,e=Zn;if(Zn=Jn=null,Wd(t),e)for(t=0;t<e.length;t++)Wd(e[t])}}function Um(t,e){return t(e)}function zm(){}var Vo=!1;function $m(t,e,r){if(Vo)return t(e,r);Vo=!0;try{return Um(t,e,r)}finally{Vo=!1,(Jn!==null||Zn!==null)&&(zm(),Mm())}}function li(t,e){var r=t.stateNode;if(r===null)return null;var n=mo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var bc=!1;if(jr)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{bc=!1}function Wx(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(p){this.onError(p)}}var Js=!1,Aa=null,Ta=!1,Ec=null,Hx={onError:function(t){Js=!0,Aa=t}};function Gx(t,e,r,n,i,a,o,l,c){Js=!1,Aa=null,Wx.apply(Hx,arguments)}function qx(t,e,r,n,i,a,o,l,c){if(Gx.apply(this,arguments),Js){if(Js){var u=Aa;Js=!1,Aa=null}else throw Error(me(198));Ta||(Ta=!0,Ec=u)}}function An(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Vm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hd(t){if(An(t)!==t)throw Error(me(188))}function Kx(t){var e=t.alternate;if(!e){if(e=An(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Hd(i),t;if(a===n)return Hd(i),e;a=a.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function Wm(t){return t=Kx(t),t!==null?Hm(t):null}function Hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hm(t);if(e!==null)return e;t=t.sibling}return null}var Gm=It.unstable_scheduleCallback,Gd=It.unstable_cancelCallback,Yx=It.unstable_shouldYield,Xx=It.unstable_requestPaint,Ye=It.unstable_now,Qx=It.unstable_getCurrentPriorityLevel,ku=It.unstable_ImmediatePriority,qm=It.unstable_UserBlockingPriority,Ia=It.unstable_NormalPriority,Jx=It.unstable_LowPriority,Km=It.unstable_IdlePriority,co=null,cr=null;function Zx(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(co,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:ry,ey=Math.log,ty=Math.LN2;function ry(t){return t>>>=0,t===0?32:31-(ey(t)/ty|0)|0}var zi=64,$i=4194304;function qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=qs(l):(a&=o,a!==0&&(n=qs(a)))}else o=r&~i,o!==0?n=qs(o):a!==0&&(n=qs(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qt(e),i=1<<r,n|=t[r],e&=~i;return n}function ny(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sy(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Qt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=ny(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Nc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ym(){var t=zi;return zi<<=1,!(zi&4194240)&&(zi=64),t}function Wo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ki(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=r}function iy(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Qt(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Au(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ie=0;function Xm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qm,Tu,Jm,Zm,ep,Sc=!1,Vi=[],zr=null,$r=null,Vr=null,ci=new Map,ui=new Map,Lr=[],ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(e.pointerId)}}function Fs(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ti(e),e!==null&&Tu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oy(t,e,r,n,i){switch(e){case"focusin":return zr=Fs(zr,t,e,r,n,i),!0;case"dragenter":return $r=Fs($r,t,e,r,n,i),!0;case"mouseover":return Vr=Fs(Vr,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ci.set(a,Fs(ci.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ui.set(a,Fs(ui.get(a)||null,t,e,r,n,i)),!0}return!1}function tp(t){var e=dn(t.target);if(e!==null){var r=An(e);if(r!==null){if(e=r.tag,e===13){if(e=Vm(r),e!==null){t.blockedOn=e,ep(t.priority,function(){Jm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wc=n,r.target.dispatchEvent(n),wc=null}else return e=Ti(r),e!==null&&Tu(e),t.blockedOn=r,!1;e.shift()}return!0}function Kd(t,e,r){pa(t)&&r.delete(e)}function ly(){Sc=!1,zr!==null&&pa(zr)&&(zr=null),$r!==null&&pa($r)&&($r=null),Vr!==null&&pa(Vr)&&(Vr=null),ci.forEach(Kd),ui.forEach(Kd)}function Ds(t,e){t.blockedOn===e&&(t.blockedOn=null,Sc||(Sc=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,ly)))}function di(t){function e(i){return Ds(i,t)}if(0<Vi.length){Ds(Vi[0],t);for(var r=1;r<Vi.length;r++){var n=Vi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zr!==null&&Ds(zr,t),$r!==null&&Ds($r,t),Vr!==null&&Ds(Vr,t),ci.forEach(e),ui.forEach(e),r=0;r<Lr.length;r++)n=Lr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)tp(r),r.blockedOn===null&&Lr.shift()}var es=Ar.ReactCurrentBatchConfig,Ra=!0;function cy(t,e,r,n){var i=Ie,a=es.transition;es.transition=null;try{Ie=1,Iu(t,e,r,n)}finally{Ie=i,es.transition=a}}function uy(t,e,r,n){var i=Ie,a=es.transition;es.transition=null;try{Ie=4,Iu(t,e,r,n)}finally{Ie=i,es.transition=a}}function Iu(t,e,r,n){if(Ra){var i=jc(t,e,r,n);if(i===null)el(t,e,n,Oa,r),qd(t,n);else if(oy(i,t,e,r,n))n.stopPropagation();else if(qd(t,n),e&4&&-1<ay.indexOf(t)){for(;i!==null;){var a=Ti(i);if(a!==null&&Qm(a),a=jc(t,e,r,n),a===null&&el(t,e,n,Oa,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else el(t,e,n,null,r)}}var Oa=null;function jc(t,e,r,n){if(Oa=null,t=Cu(n),t=dn(t),t!==null)if(e=An(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Vm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oa=t,null}function rp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qx()){case ku:return 1;case qm:return 4;case Ia:case Jx:return 16;case Km:return 536870912;default:return 16}default:return 16}}var Mr=null,Pu=null,ga=null;function np(){if(ga)return ga;var t,e=Pu,r=e.length,n,i="value"in Mr?Mr.value:Mr.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return ga=i.slice(t,1<n?1-n:void 0)}function xa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function Yd(){return!1}function Rt(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wi:Yd,this.isPropagationStopped=Yd,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),e}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=Rt(Ss),Ai=Ve({},Ss,{view:0,detail:0}),dy=Rt(Ai),Ho,Go,Ls,uo=Ve({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ls&&(Ls&&t.type==="mousemove"?(Ho=t.screenX-Ls.screenX,Go=t.screenY-Ls.screenY):Go=Ho=0,Ls=t),Ho)},movementY:function(t){return"movementY"in t?t.movementY:Go}}),Xd=Rt(uo),fy=Ve({},uo,{dataTransfer:0}),hy=Rt(fy),my=Ve({},Ai,{relatedTarget:0}),qo=Rt(my),py=Ve({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=Rt(py),xy=Ve({},Ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yy=Rt(xy),wy=Ve({},Ss,{data:0}),Qd=Rt(wy),vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},by={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ny(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ey[t])?!!e[t]:!1}function Ou(){return Ny}var Sy=Ve({},Ai,{key:function(t){if(t.key){var e=vy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?by[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(t){return t.type==="keypress"?xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jy=Rt(Sy),_y=Ve({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=Rt(_y),Cy=Ve({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),ky=Rt(Cy),Ay=Ve({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=Rt(Ay),Iy=Ve({},uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Py=Rt(Iy),Ry=[9,13,27,32],Fu=jr&&"CompositionEvent"in window,Zs=null;jr&&"documentMode"in document&&(Zs=document.documentMode);var Oy=jr&&"TextEvent"in window&&!Zs,sp=jr&&(!Fu||Zs&&8<Zs&&11>=Zs),Zd=" ",ef=!1;function ip(t,e){switch(t){case"keyup":return Ry.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zn=!1;function Fy(t,e){switch(t){case"compositionend":return ap(e);case"keypress":return e.which!==32?null:(ef=!0,Zd);case"textInput":return t=e.data,t===Zd&&ef?null:t;default:return null}}function Dy(t,e){if(zn)return t==="compositionend"||!Fu&&ip(t,e)?(t=np(),ga=Pu=Mr=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sp&&e.locale!=="ko"?null:e.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ly[t.type]:e==="textarea"}function op(t,e,r,n){Bm(n),e=Fa(e,"onChange"),0<e.length&&(r=new Ru("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ei=null,fi=null;function By(t){yp(t,0)}function fo(t){var e=Wn(t);if(Im(e))return t}function My(t,e){if(t==="change")return e}var lp=!1;if(jr){var Ko;if(jr){var Yo="oninput"in document;if(!Yo){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Yo=typeof rf.oninput=="function"}Ko=Yo}else Ko=!1;lp=Ko&&(!document.documentMode||9<document.documentMode)}function nf(){ei&&(ei.detachEvent("onpropertychange",cp),fi=ei=null)}function cp(t){if(t.propertyName==="value"&&fo(fi)){var e=[];op(e,fi,t,Cu(t)),$m(By,e)}}function Uy(t,e,r){t==="focusin"?(nf(),ei=e,fi=r,ei.attachEvent("onpropertychange",cp)):t==="focusout"&&nf()}function zy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fo(fi)}function $y(t,e){if(t==="click")return fo(e)}function Vy(t,e){if(t==="input"||t==="change")return fo(e)}function Wy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zt=typeof Object.is=="function"?Object.is:Wy;function hi(t,e){if(Zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!oc.call(e,i)||!Zt(t[i],e[i]))return!1}return!0}function sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,e){var r=sf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sf(r)}}function up(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?up(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dp(){for(var t=window,e=ka();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ka(t.document)}return e}function Du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hy(t){var e=dp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&up(r.ownerDocument.documentElement,r)){if(n!==null&&Du(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=af(r,a);var o=af(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gy=jr&&"documentMode"in document&&11>=document.documentMode,$n=null,_c=null,ti=null,Cc=!1;function of(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||$n==null||$n!==ka(n)||(n=$n,"selectionStart"in n&&Du(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ti&&hi(ti,n)||(ti=n,n=Fa(_c,"onSelect"),0<n.length&&(e=new Ru("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$n)))}function Hi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vn={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},Xo={},fp={};jr&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function ho(t){if(Xo[t])return Xo[t];if(!Vn[t])return t;var e=Vn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in fp)return Xo[t]=e[r];return t}var hp=ho("animationend"),mp=ho("animationiteration"),pp=ho("animationstart"),gp=ho("transitionend"),xp=new Map,lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(t,e){xp.set(t,e),kn(e,[t])}for(var Qo=0;Qo<lf.length;Qo++){var Jo=lf[Qo],qy=Jo.toLowerCase(),Ky=Jo[0].toUpperCase()+Jo.slice(1);en(qy,"on"+Ky)}en(hp,"onAnimationEnd");en(mp,"onAnimationIteration");en(pp,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(gp,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function cf(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qx(n,e,void 0,t),t.currentTarget=null}function yp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;cf(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;cf(i,l,u),a=c}}}if(Ta)throw t=Ec,Ta=!1,Ec=null,t}function Be(t,e){var r=e[Pc];r===void 0&&(r=e[Pc]=new Set);var n=t+"__bubble";r.has(n)||(wp(e,t,2,!1),r.add(n))}function Zo(t,e,r){var n=0;e&&(n|=4),wp(r,t,n,e)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function mi(t){if(!t[Gi]){t[Gi]=!0,_m.forEach(function(r){r!=="selectionchange"&&(Yy.has(r)||Zo(r,!1,t),Zo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gi]||(e[Gi]=!0,Zo("selectionchange",!1,e))}}function wp(t,e,r,n){switch(rp(e)){case 1:var i=cy;break;case 4:i=uy;break;default:i=Iu}r=i.bind(null,e,r,t),i=void 0,!bc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function el(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=dn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}$m(function(){var u=a,p=Cu(r),g=[];e:{var y=xp.get(t);if(y!==void 0){var m=Ru,b=t;switch(t){case"keypress":if(xa(r)===0)break e;case"keydown":case"keyup":m=jy;break;case"focusin":b="focus",m=qo;break;case"focusout":b="blur",m=qo;break;case"beforeblur":case"afterblur":m=qo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ky;break;case hp:case mp:case pp:m=gy;break;case gp:m=Ty;break;case"scroll":m=dy;break;case"wheel":m=Py;break;case"copy":case"cut":case"paste":m=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jd}var v=(e&4)!==0,_=!v&&t==="scroll",h=v?y!==null?y+"Capture":null:y;v=[];for(var x=u,w;x!==null;){w=x;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,h!==null&&(T=li(x,h),T!=null&&v.push(pi(x,T,w)))),_)break;x=x.return}0<v.length&&(y=new m(y,b,null,r,p),g.push({event:y,listeners:v}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",y&&r!==wc&&(b=r.relatedTarget||r.fromElement)&&(dn(b)||b[_r]))break e;if((m||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,m?(b=r.relatedTarget||r.toElement,m=u,b=b?dn(b):null,b!==null&&(_=An(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(v=Xd,T="onMouseLeave",h="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=Jd,T="onPointerLeave",h="onPointerEnter",x="pointer"),_=m==null?y:Wn(m),w=b==null?y:Wn(b),y=new v(T,x+"leave",m,r,p),y.target=_,y.relatedTarget=w,T=null,dn(p)===u&&(v=new v(h,x+"enter",b,r,p),v.target=w,v.relatedTarget=_,T=v),_=T,m&&b)t:{for(v=m,h=b,x=0,w=v;w;w=On(w))x++;for(w=0,T=h;T;T=On(T))w++;for(;0<x-w;)v=On(v),x--;for(;0<w-x;)h=On(h),w--;for(;x--;){if(v===h||h!==null&&v===h.alternate)break t;v=On(v),h=On(h)}v=null}else v=null;m!==null&&uf(g,y,m,v,!1),b!==null&&_!==null&&uf(g,_,b,v,!0)}}e:{if(y=u?Wn(u):window,m=y.nodeName&&y.nodeName.toLowerCase(),m==="select"||m==="input"&&y.type==="file")var P=My;else if(tf(y))if(lp)P=Vy;else{P=zy;var H=Uy}else(m=y.nodeName)&&m.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(P=$y);if(P&&(P=P(t,u))){op(g,P,r,p);break e}H&&H(t,y,u),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&mc(y,"number",y.value)}switch(H=u?Wn(u):window,t){case"focusin":(tf(H)||H.contentEditable==="true")&&($n=H,_c=u,ti=null);break;case"focusout":ti=_c=$n=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,of(g,r,p);break;case"selectionchange":if(Gy)break;case"keydown":case"keyup":of(g,r,p)}var W;if(Fu)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else zn?ip(t,r)&&(Q="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(sp&&r.locale!=="ko"&&(zn||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&zn&&(W=np()):(Mr=p,Pu="value"in Mr?Mr.value:Mr.textContent,zn=!0)),H=Fa(u,Q),0<H.length&&(Q=new Qd(Q,t,null,r,p),g.push({event:Q,listeners:H}),W?Q.data=W:(W=ap(r),W!==null&&(Q.data=W)))),(W=Oy?Fy(t,r):Dy(t,r))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(p=new Qd("onBeforeInput","beforeinput",null,r,p),g.push({event:p,listeners:u}),p.data=W))}yp(g,e)})}function pi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Fa(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=li(t,r),a!=null&&n.unshift(pi(t,a,i)),a=li(t,e),a!=null&&n.push(pi(t,a,i))),t=t.return}return n}function On(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uf(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=li(r,a),c!=null&&o.unshift(pi(r,c,l))):i||(c=li(r,a),c!=null&&o.push(pi(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Xy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function df(t){return(typeof t=="string"?t:""+t).replace(Xy,`
`).replace(Qy,"")}function qi(t,e,r){if(e=df(e),df(t)!==e&&r)throw Error(me(425))}function Da(){}var kc=null,Ac=null;function Tc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(ew)}:Ic;function ew(t){setTimeout(function(){throw t})}function tl(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),di(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);di(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var js=Math.random().toString(36).slice(2),or="__reactFiber$"+js,gi="__reactProps$"+js,_r="__reactContainer$"+js,Pc="__reactEvents$"+js,tw="__reactListeners$"+js,rw="__reactHandles$"+js;function dn(t){var e=t[or];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_r]||r[or]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hf(t);t!==null;){if(r=t[or])return r;t=hf(t)}return e}t=r,r=t.parentNode}return null}function Ti(t){return t=t[or]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function mo(t){return t[gi]||null}var Rc=[],Hn=-1;function tn(t){return{current:t}}function Me(t){0>Hn||(t.current=Rc[Hn],Rc[Hn]=null,Hn--)}function Le(t,e){Hn++,Rc[Hn]=t.current,t.current=e}var Jr={},mt=tn(Jr),St=tn(!1),bn=Jr;function cs(t,e){var r=t.type.contextTypes;if(!r)return Jr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jt(t){return t=t.childContextTypes,t!=null}function La(){Me(St),Me(mt)}function mf(t,e,r){if(mt.current!==Jr)throw Error(me(168));Le(mt,e),Le(St,r)}function vp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(me(108,Ux(t)||"Unknown",i));return Ve({},r,n)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,bn=mt.current,Le(mt,t),Le(St,St.current),!0}function pf(t,e,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=vp(t,e,bn),n.__reactInternalMemoizedMergedChildContext=t,Me(St),Me(mt),Le(mt,t)):Me(St),Le(St,r)}var gr=null,po=!1,rl=!1;function bp(t){gr===null?gr=[t]:gr.push(t)}function nw(t){po=!0,bp(t)}function rn(){if(!rl&&gr!==null){rl=!0;var t=0,e=Ie;try{var r=gr;for(Ie=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gr=null,po=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),Gm(ku,rn),i}finally{Ie=e,rl=!1}}return null}var Gn=[],qn=0,Ma=null,Ua=0,Dt=[],Lt=0,En=null,xr=1,yr="";function on(t,e){Gn[qn++]=Ua,Gn[qn++]=Ma,Ma=t,Ua=e}function Ep(t,e,r){Dt[Lt++]=xr,Dt[Lt++]=yr,Dt[Lt++]=En,En=t;var n=xr;t=yr;var i=32-Qt(n)-1;n&=~(1<<i),r+=1;var a=32-Qt(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,xr=1<<32-Qt(e)+i|r<<i|n,yr=a+t}else xr=1<<a|r<<i|n,yr=t}function Lu(t){t.return!==null&&(on(t,1),Ep(t,1,0))}function Bu(t){for(;t===Ma;)Ma=Gn[--qn],Gn[qn]=null,Ua=Gn[--qn],Gn[qn]=null;for(;t===En;)En=Dt[--Lt],Dt[Lt]=null,yr=Dt[--Lt],Dt[Lt]=null,xr=Dt[--Lt],Dt[Lt]=null}var Tt=null,At=null,Ue=!1,Yt=null;function Np(t,e){var r=Bt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function gf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,At=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=En!==null?{id:xr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Bt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Tt=t,At=null,!0):!1;default:return!1}}function Oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fc(t){if(Ue){var e=At;if(e){var r=e;if(!gf(t,e)){if(Oc(t))throw Error(me(418));e=Wr(r.nextSibling);var n=Tt;e&&gf(t,e)?Np(n,r):(t.flags=t.flags&-4097|2,Ue=!1,Tt=t)}}else{if(Oc(t))throw Error(me(418));t.flags=t.flags&-4097|2,Ue=!1,Tt=t}}}function xf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function Ki(t){if(t!==Tt)return!1;if(!Ue)return xf(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tc(t.type,t.memoizedProps)),e&&(e=At)){if(Oc(t))throw Sp(),Error(me(418));for(;e;)Np(t,e),e=Wr(e.nextSibling)}if(xf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){At=Wr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}At=null}}else At=Tt?Wr(t.stateNode.nextSibling):null;return!0}function Sp(){for(var t=At;t;)t=Wr(t.nextSibling)}function us(){At=Tt=null,Ue=!1}function Mu(t){Yt===null?Yt=[t]:Yt.push(t)}var sw=Ar.ReactCurrentBatchConfig;function Bs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function Yi(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yf(t){var e=t._init;return e(t._payload)}function jp(t){function e(h,x){if(t){var w=h.deletions;w===null?(h.deletions=[x],h.flags|=16):w.push(x)}}function r(h,x){if(!t)return null;for(;x!==null;)e(h,x),x=x.sibling;return null}function n(h,x){for(h=new Map;x!==null;)x.key!==null?h.set(x.key,x):h.set(x.index,x),x=x.sibling;return h}function i(h,x){return h=Kr(h,x),h.index=0,h.sibling=null,h}function a(h,x,w){return h.index=w,t?(w=h.alternate,w!==null?(w=w.index,w<x?(h.flags|=2,x):w):(h.flags|=2,x)):(h.flags|=1048576,x)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,x,w,T){return x===null||x.tag!==6?(x=cl(w,h.mode,T),x.return=h,x):(x=i(x,w),x.return=h,x)}function c(h,x,w,T){var P=w.type;return P===Un?p(h,x,w.props.children,T,w.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fr&&yf(P)===x.type)?(T=i(x,w.props),T.ref=Bs(h,x,w),T.return=h,T):(T=Sa(w.type,w.key,w.props,null,h.mode,T),T.ref=Bs(h,x,w),T.return=h,T)}function u(h,x,w,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=ul(w,h.mode,T),x.return=h,x):(x=i(x,w.children||[]),x.return=h,x)}function p(h,x,w,T,P){return x===null||x.tag!==7?(x=yn(w,h.mode,T,P),x.return=h,x):(x=i(x,w),x.return=h,x)}function g(h,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=cl(""+x,h.mode,w),x.return=h,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bi:return w=Sa(x.type,x.key,x.props,null,h.mode,w),w.ref=Bs(h,null,x),w.return=h,w;case Mn:return x=ul(x,h.mode,w),x.return=h,x;case Fr:var T=x._init;return g(h,T(x._payload),w)}if(Gs(x)||Rs(x))return x=yn(x,h.mode,w,null),x.return=h,x;Yi(h,x)}return null}function y(h,x,w,T){var P=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:l(h,x,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bi:return w.key===P?c(h,x,w,T):null;case Mn:return w.key===P?u(h,x,w,T):null;case Fr:return P=w._init,y(h,x,P(w._payload),T)}if(Gs(w)||Rs(w))return P!==null?null:p(h,x,w,T,null);Yi(h,w)}return null}function m(h,x,w,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return h=h.get(w)||null,l(x,h,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bi:return h=h.get(T.key===null?w:T.key)||null,c(x,h,T,P);case Mn:return h=h.get(T.key===null?w:T.key)||null,u(x,h,T,P);case Fr:var H=T._init;return m(h,x,w,H(T._payload),P)}if(Gs(T)||Rs(T))return h=h.get(w)||null,p(x,h,T,P,null);Yi(x,T)}return null}function b(h,x,w,T){for(var P=null,H=null,W=x,Q=x=0,I=null;W!==null&&Q<w.length;Q++){W.index>Q?(I=W,W=null):I=W.sibling;var ee=y(h,W,w[Q],T);if(ee===null){W===null&&(W=I);break}t&&W&&ee.alternate===null&&e(h,W),x=a(ee,x,Q),H===null?P=ee:H.sibling=ee,H=ee,W=I}if(Q===w.length)return r(h,W),Ue&&on(h,Q),P;if(W===null){for(;Q<w.length;Q++)W=g(h,w[Q],T),W!==null&&(x=a(W,x,Q),H===null?P=W:H.sibling=W,H=W);return Ue&&on(h,Q),P}for(W=n(h,W);Q<w.length;Q++)I=m(W,h,Q,w[Q],T),I!==null&&(t&&I.alternate!==null&&W.delete(I.key===null?Q:I.key),x=a(I,x,Q),H===null?P=I:H.sibling=I,H=I);return t&&W.forEach(function(ce){return e(h,ce)}),Ue&&on(h,Q),P}function v(h,x,w,T){var P=Rs(w);if(typeof P!="function")throw Error(me(150));if(w=P.call(w),w==null)throw Error(me(151));for(var H=P=null,W=x,Q=x=0,I=null,ee=w.next();W!==null&&!ee.done;Q++,ee=w.next()){W.index>Q?(I=W,W=null):I=W.sibling;var ce=y(h,W,ee.value,T);if(ce===null){W===null&&(W=I);break}t&&W&&ce.alternate===null&&e(h,W),x=a(ce,x,Q),H===null?P=ce:H.sibling=ce,H=ce,W=I}if(ee.done)return r(h,W),Ue&&on(h,Q),P;if(W===null){for(;!ee.done;Q++,ee=w.next())ee=g(h,ee.value,T),ee!==null&&(x=a(ee,x,Q),H===null?P=ee:H.sibling=ee,H=ee);return Ue&&on(h,Q),P}for(W=n(h,W);!ee.done;Q++,ee=w.next())ee=m(W,h,Q,ee.value,T),ee!==null&&(t&&ee.alternate!==null&&W.delete(ee.key===null?Q:ee.key),x=a(ee,x,Q),H===null?P=ee:H.sibling=ee,H=ee);return t&&W.forEach(function(M){return e(h,M)}),Ue&&on(h,Q),P}function _(h,x,w,T){if(typeof w=="object"&&w!==null&&w.type===Un&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bi:e:{for(var P=w.key,H=x;H!==null;){if(H.key===P){if(P=w.type,P===Un){if(H.tag===7){r(h,H.sibling),x=i(H,w.props.children),x.return=h,h=x;break e}}else if(H.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fr&&yf(P)===H.type){r(h,H.sibling),x=i(H,w.props),x.ref=Bs(h,H,w),x.return=h,h=x;break e}r(h,H);break}else e(h,H);H=H.sibling}w.type===Un?(x=yn(w.props.children,h.mode,T,w.key),x.return=h,h=x):(T=Sa(w.type,w.key,w.props,null,h.mode,T),T.ref=Bs(h,x,w),T.return=h,h=T)}return o(h);case Mn:e:{for(H=w.key;x!==null;){if(x.key===H)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(h,x.sibling),x=i(x,w.children||[]),x.return=h,h=x;break e}else{r(h,x);break}else e(h,x);x=x.sibling}x=ul(w,h.mode,T),x.return=h,h=x}return o(h);case Fr:return H=w._init,_(h,x,H(w._payload),T)}if(Gs(w))return b(h,x,w,T);if(Rs(w))return v(h,x,w,T);Yi(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(h,x.sibling),x=i(x,w),x.return=h,h=x):(r(h,x),x=cl(w,h.mode,T),x.return=h,h=x),o(h)):r(h,x)}return _}var ds=jp(!0),_p=jp(!1),za=tn(null),$a=null,Kn=null,Uu=null;function zu(){Uu=Kn=$a=null}function $u(t){var e=za.current;Me(za),t._currentValue=e}function Dc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ts(t,e){$a=t,Uu=Kn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Uu!==t)if(t={context:t,memoizedValue:e,next:null},Kn===null){if($a===null)throw Error(me(308));Kn=t,$a.dependencies={lanes:0,firstContext:t}}else Kn=Kn.next=t;return e}var fn=null;function Vu(t){fn===null?fn=[t]:fn.push(t)}function Cp(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Vu(e)):(r.next=i.next,i.next=r),e.interleaved=r,Cr(t,n)}function Cr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Dr=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Cr(t,r)}return i=n.interleaved,i===null?(e.next=e,Vu(n)):(e.next=i.next,i.next=e),n.interleaved=e,Cr(t,r)}function ya(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Au(t,r)}}function wf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Va(t,e,r,n){var i=t.updateQueue;Dr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=c))}if(a!==null){var g=i.baseState;o=0,p=u=c=null,l=a;do{var y=l.lane,m=l.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,v=l;switch(y=e,m=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){g=b.call(m,g,y);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,y=typeof b=="function"?b.call(m,g,y):b,y==null)break e;g=Ve({},g,y);break e;case 2:Dr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else m={eventTime:m,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=m,c=g):p=p.next=m,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Sn|=o,t.lanes=o,t.memoizedState=g}}function vf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var Ii={},ur=tn(Ii),xi=tn(Ii),yi=tn(Ii);function hn(t){if(t===Ii)throw Error(me(174));return t}function Hu(t,e){switch(Le(yi,e),Le(xi,t),Le(ur,Ii),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gc(e,t)}Me(ur),Le(ur,e)}function fs(){Me(ur),Me(xi),Me(yi)}function Ap(t){hn(yi.current);var e=hn(ur.current),r=gc(e,t.type);e!==r&&(Le(xi,t),Le(ur,r))}function Gu(t){xi.current===t&&(Me(ur),Me(xi))}var ze=tn(0);function Wa(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nl=[];function qu(){for(var t=0;t<nl.length;t++)nl[t]._workInProgressVersionPrimary=null;nl.length=0}var wa=Ar.ReactCurrentDispatcher,sl=Ar.ReactCurrentBatchConfig,Nn=0,$e=null,Je=null,et=null,Ha=!1,ri=!1,wi=0,iw=0;function lt(){throw Error(me(321))}function Ku(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Zt(t[r],e[r]))return!1;return!0}function Yu(t,e,r,n,i,a){if(Nn=a,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wa.current=t===null||t.memoizedState===null?cw:uw,t=r(n,i),ri){a=0;do{if(ri=!1,wi=0,25<=a)throw Error(me(301));a+=1,et=Je=null,e.updateQueue=null,wa.current=dw,t=r(n,i)}while(ri)}if(wa.current=Ga,e=Je!==null&&Je.next!==null,Nn=0,et=Je=$e=null,Ha=!1,e)throw Error(me(300));return t}function Xu(){var t=wi!==0;return wi=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?$e.memoizedState=et=t:et=et.next=t,et}function Vt(){if(Je===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=et===null?$e.memoizedState:et.next;if(e!==null)et=e,Je=t;else{if(t===null)throw Error(me(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?$e.memoizedState=et=t:et=et.next=t}return et}function vi(t,e){return typeof e=="function"?e(t):e}function il(t){var e=Vt(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=Je,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var p=u.lane;if((Nn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var g={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,o=n):c=c.next=g,$e.lanes|=p,Sn|=p}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Zt(n,e.memoizedState)||(Nt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,$e.lanes|=a,Sn|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function al(t){var e=Vt(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Zt(a,e.memoizedState)||(Nt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Tp(){}function Ip(t,e){var r=$e,n=Vt(),i=e(),a=!Zt(n.memoizedState,i);if(a&&(n.memoizedState=i,Nt=!0),n=n.queue,Qu(Op.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,bi(9,Rp.bind(null,r,n,i,e),void 0,null),tt===null)throw Error(me(349));Nn&30||Pp(r,e,i)}return i}function Pp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Rp(t,e,r,n){e.value=r,e.getSnapshot=n,Fp(e)&&Dp(t)}function Op(t,e,r){return r(function(){Fp(e)&&Dp(t)})}function Fp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Zt(t,r)}catch{return!0}}function Dp(t){var e=Cr(t,1);e!==null&&Jt(e,t,1,-1)}function bf(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},e.queue=t,t=t.dispatch=lw.bind(null,$e,t),[e.memoizedState,t]}function bi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Lp(){return Vt().memoizedState}function va(t,e,r,n){var i=nr();$e.flags|=t,i.memoizedState=bi(1|e,r,void 0,n===void 0?null:n)}function go(t,e,r,n){var i=Vt();n=n===void 0?null:n;var a=void 0;if(Je!==null){var o=Je.memoizedState;if(a=o.destroy,n!==null&&Ku(n,o.deps)){i.memoizedState=bi(e,r,a,n);return}}$e.flags|=t,i.memoizedState=bi(1|e,r,a,n)}function Ef(t,e){return va(8390656,8,t,e)}function Qu(t,e){return go(2048,8,t,e)}function Bp(t,e){return go(4,2,t,e)}function Mp(t,e){return go(4,4,t,e)}function Up(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zp(t,e,r){return r=r!=null?r.concat([t]):null,go(4,4,Up.bind(null,e,t),r)}function Ju(){}function $p(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ku(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Vp(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ku(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Wp(t,e,r){return Nn&21?(Zt(r,e)||(r=Ym(),$e.lanes|=r,Sn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=r)}function aw(t,e){var r=Ie;Ie=r!==0&&4>r?r:4,t(!0);var n=sl.transition;sl.transition={};try{t(!1),e()}finally{Ie=r,sl.transition=n}}function Hp(){return Vt().memoizedState}function ow(t,e,r){var n=qr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gp(t))qp(e,r);else if(r=Cp(t,e,r,n),r!==null){var i=yt();Jt(r,t,n,i),Kp(r,e,n)}}function lw(t,e,r){var n=qr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gp(t))qp(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Zt(l,o)){var c=e.interleaved;c===null?(i.next=i,Vu(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=Cp(t,e,i,n),r!==null&&(i=yt(),Jt(r,t,n,i),Kp(r,e,n))}}function Gp(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function qp(t,e){ri=Ha=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Kp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Au(t,r)}}var Ga={readContext:$t,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},cw={readContext:$t,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:Ef,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,va(4194308,4,Up.bind(null,e,t),r)},useLayoutEffect:function(t,e){return va(4194308,4,t,e)},useInsertionEffect:function(t,e){return va(4,2,t,e)},useMemo:function(t,e){var r=nr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ow.bind(null,$e,t),[n.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:bf,useDebugValue:Ju,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=bf(!1),e=t[0];return t=aw.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=$e,i=nr();if(Ue){if(r===void 0)throw Error(me(407));r=r()}else{if(r=e(),tt===null)throw Error(me(349));Nn&30||Pp(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Ef(Op.bind(null,n,a,t),[t]),n.flags|=2048,bi(9,Rp.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=nr(),e=tt.identifierPrefix;if(Ue){var r=yr,n=xr;r=(n&~(1<<32-Qt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uw={readContext:$t,useCallback:$p,useContext:$t,useEffect:Qu,useImperativeHandle:zp,useInsertionEffect:Bp,useLayoutEffect:Mp,useMemo:Vp,useReducer:il,useRef:Lp,useState:function(){return il(vi)},useDebugValue:Ju,useDeferredValue:function(t){var e=Vt();return Wp(e,Je.memoizedState,t)},useTransition:function(){var t=il(vi)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:Tp,useSyncExternalStore:Ip,useId:Hp,unstable_isNewReconciler:!1},dw={readContext:$t,useCallback:$p,useContext:$t,useEffect:Qu,useImperativeHandle:zp,useInsertionEffect:Bp,useLayoutEffect:Mp,useMemo:Vp,useReducer:al,useRef:Lp,useState:function(){return al(vi)},useDebugValue:Ju,useDeferredValue:function(t){var e=Vt();return Je===null?e.memoizedState=t:Wp(e,Je.memoizedState,t)},useTransition:function(){var t=al(vi)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:Tp,useSyncExternalStore:Ip,useId:Hp,unstable_isNewReconciler:!1};function qt(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Lc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ve({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xo={isMounted:function(t){return(t=t._reactInternals)?An(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=yt(),i=qr(t),a=Er(n,i);a.payload=e,r!=null&&(a.callback=r),e=Hr(t,a,i),e!==null&&(Jt(e,t,i,n),ya(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=yt(),i=qr(t),a=Er(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Hr(t,a,i),e!==null&&(Jt(e,t,i,n),ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yt(),n=qr(t),i=Er(r,n);i.tag=2,e!=null&&(i.callback=e),e=Hr(t,i,n),e!==null&&(Jt(e,t,n,r),ya(e,t,n))}};function Nf(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!hi(r,n)||!hi(i,a):!0}function Yp(t,e,r){var n=!1,i=Jr,a=e.contextType;return typeof a=="object"&&a!==null?a=$t(a):(i=jt(e)?bn:mt.current,n=e.contextTypes,a=(n=n!=null)?cs(t,i):Jr),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Sf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xo.enqueueReplaceState(e,e.state,null)}function Bc(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Wu(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=$t(a):(a=jt(e)?bn:mt.current,i.context=cs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Lc(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xo.enqueueReplaceState(i,i.state,null),Va(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hs(t,e){try{var r="",n=e;do r+=Mx(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ol(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Mc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fw=typeof WeakMap=="function"?WeakMap:Map;function Xp(t,e,r){r=Er(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ka||(Ka=!0,Yc=n),Mc(t,e)},r}function Qp(t,e,r){r=Er(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Mc(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Mc(t,e),typeof n!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function jf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new fw;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=_w.bind(null,t,e,r),e.then(t,t))}function _f(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cf(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Er(-1,1),e.tag=2,Hr(r,e,1))),r.lanes|=1),t)}var hw=Ar.ReactCurrentOwner,Nt=!1;function xt(t,e,r,n){e.child=t===null?_p(e,null,r,n):ds(e,t.child,r,n)}function kf(t,e,r,n,i){r=r.render;var a=e.ref;return ts(e,i),n=Yu(t,e,r,n,a,i),r=Xu(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Ue&&r&&Lu(e),e.flags|=1,xt(t,e,n,i),e.child)}function Af(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!ad(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Jp(t,e,a,n,i)):(t=Sa(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:hi,r(o,n)&&t.ref===e.ref)return kr(t,e,i)}return e.flags|=1,t=Kr(a,n),t.ref=e.ref,t.return=e,e.child=t}function Jp(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(hi(a,n)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,kr(t,e,i)}return Uc(t,e,r,n,i)}function Zp(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Xn,Ct),Ct|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Xn,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Le(Xn,Ct),Ct|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Le(Xn,Ct),Ct|=n;return xt(t,e,i,r),e.child}function eg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Uc(t,e,r,n,i){var a=jt(r)?bn:mt.current;return a=cs(e,a),ts(e,i),r=Yu(t,e,r,n,a,i),n=Xu(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Ue&&n&&Lu(e),e.flags|=1,xt(t,e,r,i),e.child)}function Tf(t,e,r,n,i){if(jt(r)){var a=!0;Ba(e)}else a=!1;if(ts(e,i),e.stateNode===null)ba(t,e),Yp(e,r,n),Bc(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=jt(r)?bn:mt.current,u=cs(e,u));var p=r.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Sf(e,o,n,u),Dr=!1;var y=e.memoizedState;o.state=y,Va(e,n,o,i),c=e.memoizedState,l!==n||y!==c||St.current||Dr?(typeof p=="function"&&(Lc(e,r,p,n),c=e.memoizedState),(l=Dr||Nf(e,r,l,n,y,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,kp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:qt(e.type,l),o.props=u,g=e.pendingProps,y=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=$t(c):(c=jt(r)?bn:mt.current,c=cs(e,c));var m=r.getDerivedStateFromProps;(p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||y!==c)&&Sf(e,o,n,c),Dr=!1,y=e.memoizedState,o.state=y,Va(e,n,o,i);var b=e.memoizedState;l!==g||y!==b||St.current||Dr?(typeof m=="function"&&(Lc(e,r,m,n),b=e.memoizedState),(u=Dr||Nf(e,r,u,n,y,b,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return zc(t,e,r,n,a,i)}function zc(t,e,r,n,i,a){eg(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&pf(e,r,!1),kr(t,e,a);n=e.stateNode,hw.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ds(e,t.child,null,a),e.child=ds(e,null,l,a)):xt(t,e,l,a),e.memoizedState=n.state,i&&pf(e,r,!0),e.child}function tg(t){var e=t.stateNode;e.pendingContext?mf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mf(t,e.context,!1),Hu(t,e.containerInfo)}function If(t,e,r,n,i){return us(),Mu(i),e.flags|=256,xt(t,e,r,n),e.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function rg(t,e,r){var n=e.pendingProps,i=ze.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(ze,i&1),t===null)return Fc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=vo(o,n,0,null),t=yn(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Vc(r),e.memoizedState=$c,t):Zu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return mw(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Kr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Kr(l,a):(a=yn(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Vc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=$c,n}return a=t.child,t=a.sibling,n=Kr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Zu(t,e){return e=vo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xi(t,e,r,n){return n!==null&&Mu(n),ds(e,t.child,null,r),t=Zu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mw(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=ol(Error(me(422))),Xi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=vo({mode:"visible",children:n.children},i,0,null),a=yn(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ds(e,t.child,null,o),e.child.memoizedState=Vc(o),e.memoizedState=$c,a);if(!(e.mode&1))return Xi(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(me(419)),n=ol(a,n,void 0),Xi(t,e,o,n)}if(l=(o&t.childLanes)!==0,Nt||l){if(n=tt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Cr(t,i),Jt(n,t,i,-1))}return id(),n=ol(Error(me(421))),Xi(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Cw.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,At=Wr(i.nextSibling),Tt=e,Ue=!0,Yt=null,t!==null&&(Dt[Lt++]=xr,Dt[Lt++]=yr,Dt[Lt++]=En,xr=t.id,yr=t.overflow,En=e),e=Zu(e,n.children),e.flags|=4096,e)}function Pf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Dc(t.return,e,r)}function ll(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ng(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(xt(t,e,n.children,r),n=ze.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pf(t,r,e);else if(t.tag===19)Pf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Le(ze,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Wa(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ll(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wa(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ll(e,!0,r,null,a);break;case"together":ll(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ba(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=Kr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Kr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function pw(t,e,r){switch(e.tag){case 3:tg(e),us();break;case 5:Ap(e);break;case 1:jt(e.type)&&Ba(e);break;case 4:Hu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Le(za,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Le(ze,ze.current&1),e.flags|=128,null):r&e.child.childLanes?rg(t,e,r):(Le(ze,ze.current&1),t=kr(t,e,r),t!==null?t.sibling:null);Le(ze,ze.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ng(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(ze,ze.current),n)break;return null;case 22:case 23:return e.lanes=0,Zp(t,e,r)}return kr(t,e,r)}var sg,Wc,ig,ag;sg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wc=function(){};ig=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,hn(ur.current);var a=null;switch(r){case"input":i=fc(t,i),n=fc(t,n),a=[];break;case"select":i=Ve({},i,{value:void 0}),n=Ve({},n,{value:void 0}),a=[];break;case"textarea":i=pc(t,i),n=pc(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Da)}xc(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ai.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ai.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};ag=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ms(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function gw(t,e,r){var n=e.pendingProps;switch(Bu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return jt(e.type)&&La(),ct(e),null;case 3:return n=e.stateNode,fs(),Me(St),Me(mt),qu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ki(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(Jc(Yt),Yt=null))),Wc(t,e),ct(e),null;case 5:Gu(e);var i=hn(yi.current);if(r=e.type,t!==null&&e.stateNode!=null)ig(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(me(166));return ct(e),null}if(t=hn(ur.current),Ki(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[or]=e,n[gi]=a,t=(e.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Be(Ks[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Ud(n,a),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Be("invalid",n);break;case"textarea":$d(n,a),Be("invalid",n)}xc(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&qi(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&qi(n.textContent,l,t),i=["children",""+l]):ai.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",n)}switch(r){case"input":Mi(n),zd(n,a,!0);break;case"textarea":Mi(n),Vd(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Da)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Om(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[or]=e,t[gi]=n,sg(t,e,!1,!1),e.stateNode=t;e:{switch(o=yc(r,n),r){case"dialog":Be("cancel",t),Be("close",t),i=n;break;case"iframe":case"object":case"embed":Be("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ks.length;i++)Be(Ks[i],t);i=n;break;case"source":Be("error",t),i=n;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=n;break;case"details":Be("toggle",t),i=n;break;case"input":Ud(t,n),i=fc(t,n),Be("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ve({},n,{value:void 0}),Be("invalid",t);break;case"textarea":$d(t,n),i=pc(t,n),Be("invalid",t);break;default:i=n}xc(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Lm(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fm(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&oi(t,c):typeof c=="number"&&oi(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ai.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Be("scroll",t):c!=null&&Nu(t,a,c,o))}switch(r){case"input":Mi(t),zd(t,n,!1);break;case"textarea":Mi(t),Vd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Qn(t,!!n.multiple,a,!1):n.defaultValue!=null&&Qn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Da)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)ag(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(me(166));if(r=hn(yi.current),hn(ur.current),Ki(e)){if(n=e.stateNode,r=e.memoizedProps,n[or]=e,(a=n.nodeValue!==r)&&(t=Tt,t!==null))switch(t.tag){case 3:qi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qi(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[or]=e,e.stateNode=n}return ct(e),null;case 13:if(Me(ze),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&At!==null&&e.mode&1&&!(e.flags&128))Sp(),us(),e.flags|=98560,a=!1;else if(a=Ki(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(me(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(me(317));a[or]=e}else us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),a=!1}else Yt!==null&&(Jc(Yt),Yt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?Ze===0&&(Ze=3):id())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return fs(),Wc(t,e),t===null&&mi(e.stateNode.containerInfo),ct(e),null;case 10:return $u(e.type._context),ct(e),null;case 17:return jt(e.type)&&La(),ct(e),null;case 19:if(Me(ze),a=e.memoizedState,a===null)return ct(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ms(a,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wa(t),o!==null){for(e.flags|=128,Ms(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Le(ze,ze.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ye()>ms&&(e.flags|=128,n=!0,Ms(a,!1),e.lanes=4194304)}else{if(!n)if(t=Wa(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ms(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ue)return ct(e),null}else 2*Ye()-a.renderingStartTime>ms&&r!==1073741824&&(e.flags|=128,n=!0,Ms(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ye(),e.sibling=null,r=ze.current,Le(ze,n?r&1|2:r&1),e):(ct(e),null);case 22:case 23:return sd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ct&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function xw(t,e){switch(Bu(e),e.tag){case 1:return jt(e.type)&&La(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fs(),Me(St),Me(mt),qu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gu(e),null;case 13:if(Me(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(ze),null;case 4:return fs(),null;case 10:return $u(e.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var Qi=!1,dt=!1,yw=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Yn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){We(t,e,n)}else r.current=null}function Hc(t,e,r){try{r()}catch(n){We(t,e,n)}}var Rf=!1;function ww(t,e){if(kc=Ra,t=dp(),Du(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,p=0,g=t,y=null;t:for(;;){for(var m;g!==r||i!==0&&g.nodeType!==3||(l=o+i),g!==a||n!==0&&g.nodeType!==3||(c=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(m=g.firstChild)!==null;)y=g,g=m;for(;;){if(g===t)break t;if(y===r&&++u===i&&(l=o),y===a&&++p===n&&(c=o),(m=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ac={focusedElem:t,selectionRange:r},Ra=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,_=b.memoizedState,h=e.stateNode,x=h.getSnapshotBeforeUpdate(e.elementType===e.type?v:qt(e.type,v),_);h.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(T){We(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return b=Rf,Rf=!1,b}function ni(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Hc(e,r,a)}i=i.next}while(i!==n)}}function yo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function og(t){var e=t.alternate;e!==null&&(t.alternate=null,og(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[gi],delete e[Pc],delete e[tw],delete e[rw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lg(t){return t.tag===5||t.tag===3||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Da));else if(n!==4&&(t=t.child,t!==null))for(qc(t,e,r),t=t.sibling;t!==null;)qc(t,e,r),t=t.sibling}function Kc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kc(t,e,r),t=t.sibling;t!==null;)Kc(t,e,r),t=t.sibling}var nt=null,Kt=!1;function Rr(t,e,r){for(r=r.child;r!==null;)cg(t,e,r),r=r.sibling}function cg(t,e,r){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(co,r)}catch{}switch(r.tag){case 5:dt||Yn(r,e);case 6:var n=nt,i=Kt;nt=null,Rr(t,e,r),nt=n,Kt=i,nt!==null&&(Kt?(t=nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(Kt?(t=nt,r=r.stateNode,t.nodeType===8?tl(t.parentNode,r):t.nodeType===1&&tl(t,r),di(t)):tl(nt,r.stateNode));break;case 4:n=nt,i=Kt,nt=r.stateNode.containerInfo,Kt=!0,Rr(t,e,r),nt=n,Kt=i;break;case 0:case 11:case 14:case 15:if(!dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Hc(r,e,o),i=i.next}while(i!==n)}Rr(t,e,r);break;case 1:if(!dt&&(Yn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){We(r,e,l)}Rr(t,e,r);break;case 21:Rr(t,e,r);break;case 22:r.mode&1?(dt=(n=dt)||r.memoizedState!==null,Rr(t,e,r),dt=n):Rr(t,e,r);break;default:Rr(t,e,r)}}function Ff(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yw),e.forEach(function(n){var i=kw.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ht(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,Kt=!1;break e;case 3:nt=l.stateNode.containerInfo,Kt=!0;break e;case 4:nt=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(nt===null)throw Error(me(160));cg(a,o,i),nt=null,Kt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ug(e,t),e=e.sibling}function ug(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),tr(t),n&4){try{ni(3,t,t.return),yo(3,t)}catch(v){We(t,t.return,v)}try{ni(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:Ht(e,t),tr(t),n&512&&r!==null&&Yn(r,r.return);break;case 5:if(Ht(e,t),tr(t),n&512&&r!==null&&Yn(r,r.return),t.flags&32){var i=t.stateNode;try{oi(i,"")}catch(v){We(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Pm(i,a),yc(l,o);var u=yc(l,a);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?Lm(i,g):p==="dangerouslySetInnerHTML"?Fm(i,g):p==="children"?oi(i,g):Nu(i,p,g,u)}switch(l){case"input":hc(i,a);break;case"textarea":Rm(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Qn(i,!!a.multiple,m,!1):y!==!!a.multiple&&(a.defaultValue!=null?Qn(i,!!a.multiple,a.defaultValue,!0):Qn(i,!!a.multiple,a.multiple?[]:"",!1))}i[gi]=a}catch(v){We(t,t.return,v)}}break;case 6:if(Ht(e,t),tr(t),n&4){if(t.stateNode===null)throw Error(me(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){We(t,t.return,v)}}break;case 3:if(Ht(e,t),tr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{di(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:Ht(e,t),tr(t);break;case 13:Ht(e,t),tr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(rd=Ye())),n&4&&Ff(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(dt=(u=dt)||p,Ht(e,t),dt=u):Ht(e,t),tr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(ye=t,p=t.child;p!==null;){for(g=ye=p;ye!==null;){switch(y=ye,m=y.child,y.tag){case 0:case 11:case 14:case 15:ni(4,y,y.return);break;case 1:Yn(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){We(n,r,v)}}break;case 5:Yn(y,y.return);break;case 22:if(y.memoizedState!==null){Lf(g);continue}}m!==null?(m.return=y,ye=m):Lf(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dm("display",o))}catch(v){We(t,t.return,v)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(v){We(t,t.return,v)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ht(e,t),tr(t),n&4&&Ff(t);break;case 21:break;default:Ht(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lg(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(oi(i,""),n.flags&=-33);var a=Of(t);Kc(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Of(t);qc(t,l,o);break;default:throw Error(me(161))}}catch(c){We(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vw(t,e,r){ye=t,dg(t)}function dg(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var i=ye,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Qi;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||dt;l=Qi;var u=dt;if(Qi=o,(dt=c)&&!u)for(ye=i;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?Bf(i):c!==null?(c.return=o,ye=c):Bf(i);for(;a!==null;)ye=a,dg(a),a=a.sibling;ye=i,Qi=l,dt=u}Df(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ye=a):Df(t)}}function Df(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||yo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!dt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:qt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&vf(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vf(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&di(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}dt||e.flags&512&&Gc(e)}catch(y){We(e,e.return,y)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function Lf(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function Bf(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yo(4,e)}catch(c){We(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){We(e,i,c)}}var a=e.return;try{Gc(e)}catch(c){We(e,a,c)}break;case 5:var o=e.return;try{Gc(e)}catch(c){We(e,o,c)}}}catch(c){We(e,e.return,c)}if(e===t){ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ye=l;break}ye=e.return}}var bw=Math.ceil,qa=Ar.ReactCurrentDispatcher,ed=Ar.ReactCurrentOwner,Mt=Ar.ReactCurrentBatchConfig,ke=0,tt=null,Qe=null,it=0,Ct=0,Xn=tn(0),Ze=0,Ei=null,Sn=0,wo=0,td=0,si=null,Et=null,rd=0,ms=1/0,pr=null,Ka=!1,Yc=null,Gr=null,Ji=!1,Ur=null,Ya=0,ii=0,Xc=null,Ea=-1,Na=0;function yt(){return ke&6?Ye():Ea!==-1?Ea:Ea=Ye()}function qr(t){return t.mode&1?ke&2&&it!==0?it&-it:sw.transition!==null?(Na===0&&(Na=Ym()),Na):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:rp(t.type)),t):1}function Jt(t,e,r,n){if(50<ii)throw ii=0,Xc=null,Error(me(185));ki(t,r,n),(!(ke&2)||t!==tt)&&(t===tt&&(!(ke&2)&&(wo|=r),Ze===4&&Br(t,it)),_t(t,n),r===1&&ke===0&&!(e.mode&1)&&(ms=Ye()+500,po&&rn()))}function _t(t,e){var r=t.callbackNode;sy(t,e);var n=Pa(t,t===tt?it:0);if(n===0)r!==null&&Gd(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Gd(r),e===1)t.tag===0?nw(Mf.bind(null,t)):bp(Mf.bind(null,t)),Zy(function(){!(ke&6)&&rn()}),r=null;else{switch(Xm(n)){case 1:r=ku;break;case 4:r=qm;break;case 16:r=Ia;break;case 536870912:r=Km;break;default:r=Ia}r=wg(r,fg.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function fg(t,e){if(Ea=-1,Na=0,ke&6)throw Error(me(327));var r=t.callbackNode;if(rs()&&t.callbackNode!==r)return null;var n=Pa(t,t===tt?it:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Xa(t,n);else{e=n;var i=ke;ke|=2;var a=mg();(tt!==t||it!==e)&&(pr=null,ms=Ye()+500,xn(t,e));do try{Sw();break}catch(l){hg(t,l)}while(!0);zu(),qa.current=a,ke=i,Qe!==null?e=0:(tt=null,it=0,e=Ze)}if(e!==0){if(e===2&&(i=Nc(t),i!==0&&(n=i,e=Qc(t,i))),e===1)throw r=Ei,xn(t,0),Br(t,n),_t(t,Ye()),r;if(e===6)Br(t,n);else{if(i=t.current.alternate,!(n&30)&&!Ew(i)&&(e=Xa(t,n),e===2&&(a=Nc(t),a!==0&&(n=a,e=Qc(t,a))),e===1))throw r=Ei,xn(t,0),Br(t,n),_t(t,Ye()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(me(345));case 2:ln(t,Et,pr);break;case 3:if(Br(t,n),(n&130023424)===n&&(e=rd+500-Ye(),10<e)){if(Pa(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ic(ln.bind(null,t,Et,pr),e);break}ln(t,Et,pr);break;case 4:if(Br(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Qt(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bw(n/1960))-n,10<n){t.timeoutHandle=Ic(ln.bind(null,t,Et,pr),n);break}ln(t,Et,pr);break;case 5:ln(t,Et,pr);break;default:throw Error(me(329))}}}return _t(t,Ye()),t.callbackNode===r?fg.bind(null,t):null}function Qc(t,e){var r=si;return t.current.memoizedState.isDehydrated&&(xn(t,e).flags|=256),t=Xa(t,e),t!==2&&(e=Et,Et=r,e!==null&&Jc(e)),t}function Jc(t){Et===null?Et=t:Et.push.apply(Et,t)}function Ew(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Zt(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~td,e&=~wo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qt(e),n=1<<r;t[r]=-1,e&=~n}}function Mf(t){if(ke&6)throw Error(me(327));rs();var e=Pa(t,0);if(!(e&1))return _t(t,Ye()),null;var r=Xa(t,e);if(t.tag!==0&&r===2){var n=Nc(t);n!==0&&(e=n,r=Qc(t,n))}if(r===1)throw r=Ei,xn(t,0),Br(t,e),_t(t,Ye()),r;if(r===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ln(t,Et,pr),_t(t,Ye()),null}function nd(t,e){var r=ke;ke|=1;try{return t(e)}finally{ke=r,ke===0&&(ms=Ye()+500,po&&rn())}}function jn(t){Ur!==null&&Ur.tag===0&&!(ke&6)&&rs();var e=ke;ke|=1;var r=Mt.transition,n=Ie;try{if(Mt.transition=null,Ie=1,t)return t()}finally{Ie=n,Mt.transition=r,ke=e,!(ke&6)&&rn()}}function sd(){Ct=Xn.current,Me(Xn)}function xn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Jy(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(Bu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&La();break;case 3:fs(),Me(St),Me(mt),qu();break;case 5:Gu(n);break;case 4:fs();break;case 13:Me(ze);break;case 19:Me(ze);break;case 10:$u(n.type._context);break;case 22:case 23:sd()}r=r.return}if(tt=t,Qe=t=Kr(t.current,null),it=Ct=e,Ze=0,Ei=null,td=wo=Sn=0,Et=si=null,fn!==null){for(e=0;e<fn.length;e++)if(r=fn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}fn=null}return t}function hg(t,e){do{var r=Qe;try{if(zu(),wa.current=Ga,Ha){for(var n=$e.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ha=!1}if(Nn=0,et=Je=$e=null,ri=!1,wi=0,ed.current=null,r===null||r.return===null){Ze=1,Ei=e,Qe=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=it,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=_f(o);if(m!==null){m.flags&=-257,Cf(m,o,l,a,e),m.mode&1&&jf(a,u,e),e=m,c=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(c),e.updateQueue=v}else b.add(c);break e}else{if(!(e&1)){jf(a,u,e),id();break e}c=Error(me(426))}}else if(Ue&&l.mode&1){var _=_f(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Cf(_,o,l,a,e),Mu(hs(c,l));break e}}a=c=hs(c,l),Ze!==4&&(Ze=2),si===null?si=[a]:si.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var h=Xp(a,c,e);wf(a,h);break e;case 1:l=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gr===null||!Gr.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var T=Qp(a,l,e);wf(a,T);break e}}a=a.return}while(a!==null)}gg(r)}catch(P){e=P,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function mg(){var t=qa.current;return qa.current=Ga,t===null?Ga:t}function id(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),tt===null||!(Sn&268435455)&&!(wo&268435455)||Br(tt,it)}function Xa(t,e){var r=ke;ke|=2;var n=mg();(tt!==t||it!==e)&&(pr=null,xn(t,e));do try{Nw();break}catch(i){hg(t,i)}while(!0);if(zu(),ke=r,qa.current=n,Qe!==null)throw Error(me(261));return tt=null,it=0,Ze}function Nw(){for(;Qe!==null;)pg(Qe)}function Sw(){for(;Qe!==null&&!Yx();)pg(Qe)}function pg(t){var e=yg(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?gg(t):Qe=e,ed.current=null}function gg(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xw(r,e),r!==null){r.flags&=32767,Qe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(r=gw(r,e,Ct),r!==null){Qe=r;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function ln(t,e,r){var n=Ie,i=Mt.transition;try{Mt.transition=null,Ie=1,jw(t,e,r,n)}finally{Mt.transition=i,Ie=n}return null}function jw(t,e,r,n){do rs();while(Ur!==null);if(ke&6)throw Error(me(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(iy(t,a),t===tt&&(Qe=tt=null,it=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ji||(Ji=!0,wg(Ia,function(){return rs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mt.transition,Mt.transition=null;var o=Ie;Ie=1;var l=ke;ke|=4,ed.current=null,ww(t,r),ug(r,t),Hy(Ac),Ra=!!kc,Ac=kc=null,t.current=r,vw(r),Xx(),ke=l,Ie=o,Mt.transition=a}else t.current=r;if(Ji&&(Ji=!1,Ur=t,Ya=i),a=t.pendingLanes,a===0&&(Gr=null),Zx(r.stateNode),_t(t,Ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ka)throw Ka=!1,t=Yc,Yc=null,t;return Ya&1&&t.tag!==0&&rs(),a=t.pendingLanes,a&1?t===Xc?ii++:(ii=0,Xc=t):ii=0,rn(),null}function rs(){if(Ur!==null){var t=Xm(Ya),e=Mt.transition,r=Ie;try{if(Mt.transition=null,Ie=16>t?16:t,Ur===null)var n=!1;else{if(t=Ur,Ur=null,Ya=0,ke&6)throw Error(me(331));var i=ke;for(ke|=4,ye=t.current;ye!==null;){var a=ye,o=a.child;if(ye.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ye=u;ye!==null;){var p=ye;switch(p.tag){case 0:case 11:case 15:ni(8,p,a)}var g=p.child;if(g!==null)g.return=p,ye=g;else for(;ye!==null;){p=ye;var y=p.sibling,m=p.return;if(og(p),p===u){ye=null;break}if(y!==null){y.return=m,ye=y;break}ye=m}}}var b=a.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ye=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ye=o;else e:for(;ye!==null;){if(a=ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ni(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,ye=h;break e}ye=a.return}}var x=t.current;for(ye=x;ye!==null;){o=ye;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ye=w;else e:for(o=x;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yo(9,l)}}catch(P){We(l,l.return,P)}if(l===o){ye=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ye=T;break e}ye=l.return}}if(ke=i,rn(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(co,t)}catch{}n=!0}return n}finally{Ie=r,Mt.transition=e}}return!1}function Uf(t,e,r){e=hs(r,e),e=Xp(t,e,1),t=Hr(t,e,1),e=yt(),t!==null&&(ki(t,1,e),_t(t,e))}function We(t,e,r){if(t.tag===3)Uf(t,t,r);else for(;e!==null;){if(e.tag===3){Uf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gr===null||!Gr.has(n))){t=hs(r,t),t=Qp(e,t,1),e=Hr(e,t,1),t=yt(),e!==null&&(ki(e,1,t),_t(e,t));break}}e=e.return}}function _w(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&r,tt===t&&(it&r)===r&&(Ze===4||Ze===3&&(it&130023424)===it&&500>Ye()-rd?xn(t,0):td|=r),_t(t,e)}function xg(t,e){e===0&&(t.mode&1?(e=$i,$i<<=1,!($i&130023424)&&($i=4194304)):e=1);var r=yt();t=Cr(t,e),t!==null&&(ki(t,e,r),_t(t,r))}function Cw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xg(t,r)}function kw(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(e),xg(t,r)}var yg;yg=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Nt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Nt=!1,pw(t,e,r);Nt=!!(t.flags&131072)}else Nt=!1,Ue&&e.flags&1048576&&Ep(e,Ua,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ba(t,e),t=e.pendingProps;var i=cs(e,mt.current);ts(e,r),i=Yu(null,e,n,t,i,r);var a=Xu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(n)?(a=!0,Ba(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wu(e),i.updater=xo,e.stateNode=i,i._reactInternals=e,Bc(e,n,t,r),e=zc(null,e,n,!0,a,r)):(e.tag=0,Ue&&a&&Lu(e),xt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ba(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Tw(n),t=qt(n,t),i){case 0:e=Uc(null,e,n,t,r);break e;case 1:e=Tf(null,e,n,t,r);break e;case 11:e=kf(null,e,n,t,r);break e;case 14:e=Af(null,e,n,qt(n.type,t),r);break e}throw Error(me(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),Uc(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),Tf(t,e,n,i,r);case 3:e:{if(tg(e),t===null)throw Error(me(387));n=e.pendingProps,a=e.memoizedState,i=a.element,kp(t,e),Va(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=hs(Error(me(423)),e),e=If(t,e,n,r,i);break e}else if(n!==i){i=hs(Error(me(424)),e),e=If(t,e,n,r,i);break e}else for(At=Wr(e.stateNode.containerInfo.firstChild),Tt=e,Ue=!0,Yt=null,r=_p(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(us(),n===i){e=kr(t,e,r);break e}xt(t,e,n,r)}e=e.child}return e;case 5:return Ap(e),t===null&&Fc(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Tc(n,i)?o=null:a!==null&&Tc(n,a)&&(e.flags|=32),eg(t,e),xt(t,e,o,r),e.child;case 6:return t===null&&Fc(e),null;case 13:return rg(t,e,r);case 4:return Hu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ds(e,null,n,r):xt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),kf(t,e,n,i,r);case 7:return xt(t,e,e.pendingProps,r),e.child;case 8:return xt(t,e,e.pendingProps.children,r),e.child;case 12:return xt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Le(za,n._currentValue),n._currentValue=o,a!==null)if(Zt(a.value,o)){if(a.children===i.children&&!St.current){e=kr(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Er(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Dc(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(me(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Dc(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}xt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ts(e,r),i=$t(i),n=n(i),e.flags|=1,xt(t,e,n,r),e.child;case 14:return n=e.type,i=qt(n,e.pendingProps),i=qt(n.type,i),Af(t,e,n,i,r);case 15:return Jp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),ba(t,e),e.tag=1,jt(n)?(t=!0,Ba(e)):t=!1,ts(e,r),Yp(e,n,i),Bc(e,n,i,r),zc(null,e,n,!0,t,r);case 19:return ng(t,e,r);case 22:return Zp(t,e,r)}throw Error(me(156,e.tag))};function wg(t,e){return Gm(t,e)}function Aw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,r,n){return new Aw(t,e,r,n)}function ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tw(t){if(typeof t=="function")return ad(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ju)return 11;if(t===_u)return 14}return 2}function Kr(t,e){var r=t.alternate;return r===null?(r=Bt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Sa(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")ad(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Un:return yn(r.children,i,a,e);case Su:o=8,i|=8;break;case lc:return t=Bt(12,r,e,i|2),t.elementType=lc,t.lanes=a,t;case cc:return t=Bt(13,r,e,i),t.elementType=cc,t.lanes=a,t;case uc:return t=Bt(19,r,e,i),t.elementType=uc,t.lanes=a,t;case Am:return vo(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cm:o=10;break e;case km:o=9;break e;case ju:o=11;break e;case _u:o=14;break e;case Fr:o=16,n=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=Bt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function yn(t,e,r,n){return t=Bt(7,t,n,e),t.lanes=r,t}function vo(t,e,r,n){return t=Bt(22,t,n,e),t.elementType=Am,t.lanes=r,t.stateNode={isHidden:!1},t}function cl(t,e,r){return t=Bt(6,t,null,e),t.lanes=r,t}function ul(t,e,r){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Iw(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function od(t,e,r,n,i,a,o,l,c){return t=new Iw(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Bt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(a),t}function Pw(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vg(t){if(!t)return Jr;t=t._reactInternals;e:{if(An(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var r=t.type;if(jt(r))return vp(t,r,e)}return e}function bg(t,e,r,n,i,a,o,l,c){return t=od(r,n,!0,t,i,a,o,l,c),t.context=vg(null),r=t.current,n=yt(),i=qr(r),a=Er(n,i),a.callback=e??null,Hr(r,a,i),t.current.lanes=i,ki(t,i,n),_t(t,n),t}function bo(t,e,r,n){var i=e.current,a=yt(),o=qr(i);return r=vg(r),e.context===null?e.context=r:e.pendingContext=r,e=Er(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Hr(i,e,o),t!==null&&(Jt(t,i,o,a),ya(t,i,o)),o}function Qa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ld(t,e){zf(t,e),(t=t.alternate)&&zf(t,e)}function Rw(){return null}var Eg=typeof reportError=="function"?reportError:function(t){console.error(t)};function cd(t){this._internalRoot=t}Eo.prototype.render=cd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));bo(t,e,null,null)};Eo.prototype.unmount=cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jn(function(){bo(null,t,null,null)}),e[_r]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Lr.length&&e!==0&&e<Lr[r].priority;r++);Lr.splice(r,0,t),r===0&&tp(t)}};function ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function No(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $f(){}function Ow(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Qa(o);a.call(u)}}var o=bg(e,n,t,0,null,!1,!1,"",$f);return t._reactRootContainer=o,t[_r]=o.current,mi(t.nodeType===8?t.parentNode:t),jn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Qa(c);l.call(u)}}var c=od(t,0,!1,null,null,!1,!1,"",$f);return t._reactRootContainer=c,t[_r]=c.current,mi(t.nodeType===8?t.parentNode:t),jn(function(){bo(e,c,r,n)}),c}function So(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Qa(o);l.call(c)}}bo(e,o,t,i)}else o=Ow(r,e,t,i,n);return Qa(o)}Qm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=qs(e.pendingLanes);r!==0&&(Au(e,r|1),_t(e,Ye()),!(ke&6)&&(ms=Ye()+500,rn()))}break;case 13:jn(function(){var n=Cr(t,1);if(n!==null){var i=yt();Jt(n,t,1,i)}}),ld(t,1)}};Tu=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var r=yt();Jt(e,t,134217728,r)}ld(t,134217728)}};Jm=function(t){if(t.tag===13){var e=qr(t),r=Cr(t,e);if(r!==null){var n=yt();Jt(r,t,e,n)}ld(t,e)}};Zm=function(){return Ie};ep=function(t,e){var r=Ie;try{return Ie=t,e()}finally{Ie=r}};vc=function(t,e,r){switch(e){case"input":if(hc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=mo(n);if(!i)throw Error(me(90));Im(n),hc(n,i)}}}break;case"textarea":Rm(t,r);break;case"select":e=r.value,e!=null&&Qn(t,!!r.multiple,e,!1)}};Um=nd;zm=jn;var Fw={usingClientEntryPoint:!1,Events:[Ti,Wn,mo,Bm,Mm,nd]},Us={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dw={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wm(t),t===null?null:t.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Rw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{co=Zi.inject(Dw),cr=Zi}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw;Pt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ud(e))throw Error(me(200));return Pw(t,e,null,r)};Pt.createRoot=function(t,e){if(!ud(t))throw Error(me(299));var r=!1,n="",i=Eg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=od(t,1,!1,null,null,r,!1,n,i),t[_r]=e.current,mi(t.nodeType===8?t.parentNode:t),new cd(e)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=Wm(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return jn(t)};Pt.hydrate=function(t,e,r){if(!No(e))throw Error(me(200));return So(null,t,e,!0,r)};Pt.hydrateRoot=function(t,e,r){if(!ud(t))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Eg;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=bg(e,null,t,1,r??null,i,!1,a,o),t[_r]=e.current,mi(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Eo(e)};Pt.render=function(t,e,r){if(!No(e))throw Error(me(200));return So(null,t,e,!1,r)};Pt.unmountComponentAtNode=function(t){if(!No(t))throw Error(me(40));return t._reactRootContainer?(jn(function(){So(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};Pt.unstable_batchedUpdates=nd;Pt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!No(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return So(t,e,r,!1,n)};Pt.version="18.3.1-next-f1338f8080-20240426";function Ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ng)}catch(t){console.error(t)}}Ng(),Nm.exports=Pt;var Lw=Nm.exports,Sg,Vf=Lw;Sg=Vf.createRoot,Vf.hydrateRoot;const Bw="modulepreload",Mw=function(t){return"/"+t},Wf={},wr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=Mw(c),c in Wf)return;Wf[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":Bw,u||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((y,m)=>{g.addEventListener("load",y),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Uw="";class zw{constructor(){Is(this,"baseURL");Is(this,"token",null);this.baseURL=Uw,this.token=localStorage.getItem("nup_aim_auth_token")}setAuthToken(e){this.token=e,e?localStorage.setItem("nup_aim_auth_token",e):localStorage.removeItem("nup_aim_auth_token")}async request(e,r={}){const n=`${this.baseURL}${e}`,i={"Content-Type":"application/json",...r.headers||{}};this.token&&(i.Authorization=`Bearer ${this.token}`);try{const a=await fetch(n,{...r,headers:i}),o=a.headers.get("content-type"),l=o&&o.includes("application/json");let c=null;if(l){const u=await a.text();if(u&&u.trim())try{c=JSON.parse(u)}catch(p){return console.error("JSON parse error:",p),{success:!1,error:"Invalid JSON response from server"}}}return a.ok?{success:!0,data:c}:{success:!1,error:(c==null?void 0:c.error)||`HTTP ${a.status}: ${a.statusText}`}}catch(a){return console.error("API Request failed:",a),{success:!1,error:a instanceof Error?a.message:"Network error occurred"}}}async healthCheck(){return this.request("/health")}async login(e,r){var i;const n=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:r})});return n.success&&((i=n.data)!=null&&i.token)&&this.setAuthToken(n.data.token),n}async register(e){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}async verifyEmail(e){return this.request("/api/auth/verify-email",{method:"POST",body:JSON.stringify({token:e})})}async resendVerificationEmail(e){return this.request("/api/auth/resend-verification",{method:"POST",body:JSON.stringify({email:e})})}async getProfiles(){return this.request("/api/profiles")}async getProjects(){return this.request("/api/projects")}async createProject(e){return this.request("/api/projects",{method:"POST",body:JSON.stringify(e)})}async getAnalyses(){return this.request("/api/analyses")}async createAnalysis(e){return this.request("/api/analyses",{method:"POST",body:JSON.stringify(e)})}async updateAnalysis(e,r){return this.request(`/api/analyses/${e}`,{method:"PUT",body:JSON.stringify(r)})}async deleteAnalysis(e){return this.request(`/api/analyses/${e}`,{method:"DELETE"})}async initializeDatabase(){return this.request("/api/db/init",{method:"POST"})}logout(){this.setAuthToken(null)}}const Ys=new zw,$w=Object.freeze(Object.defineProperty({__proto__:null,apiClient:Ys},Symbol.toStringTag,{value:"Module"})),jg=ne.createContext(void 0),Tn=()=>{const t=ne.useContext(jg);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Vw=30*60*1e3,Ww=60*1e3,dl="nup_aim_last_activity",Hw=({children:t})=>{const[e,r]=ne.useState(null),[n,i]=ne.useState(null),[a,o]=ne.useState(!0),l=()=>{const h=Date.now();localStorage.setItem(dl,h.toString())},c=()=>{const h=localStorage.getItem(dl);return h?Date.now()-parseInt(h)>Vw:!0},u=()=>{Ys.logout(),localStorage.removeItem(dl),localStorage.removeItem("nup_aim_current_user"),r(null),i(null)},p=()=>{e&&c()&&(console.log(" Session expired due to inactivity"),u(),alert("Sua sesso expirou por inatividade. Faa login novamente."))};ne.useEffect(()=>{const h=["mousedown","mousemove","keypress","scroll","touchstart","click"],x=()=>{e&&l()};h.forEach(T=>{document.addEventListener(T,x,!0)});const w=setInterval(p,Ww);return()=>{h.forEach(T=>{document.removeEventListener(T,x,!0)}),clearInterval(w)}},[e]),ne.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("nup_aim_auth_token")){o(!1);return}if(c()){console.log(" Session expired, clearing data"),u(),o(!1);return}const w=localStorage.getItem("nup_aim_current_user");if(w){const T=JSON.parse(w);r(T);const P={id:"admin-profile",name:"Administrador",description:"Perfil de administrador com acesso completo",isDefault:!1,createdAt:new Date().toISOString(),permissions:[{id:"1",module:"ANALYSIS",action:"CREATE",allowed:!0},{id:"2",module:"ANALYSIS",action:"EDIT",allowed:!0},{id:"3",module:"ANALYSIS",action:"DELETE",allowed:!0},{id:"4",module:"ANALYSIS",action:"VIEW",allowed:!0},{id:"5",module:"PROJECT",action:"CREATE",allowed:!0},{id:"6",module:"PROJECT",action:"EDIT",allowed:!0},{id:"7",module:"PROJECT",action:"DELETE",allowed:!0},{id:"8",module:"PROJECT",action:"VIEW",allowed:!0}]};i(P),l(),console.log(" Session restored for:",T.username)}}catch(x){console.error("Error initializing auth:",x),u()}finally{o(!1)}})()},[]);const _={user:e,profile:n,login:async(h,x)=>{console.log(" Starting login process..."),console.log(" User:",h);try{const w=await Ys.login(h,x);if(w.success&&w.data){console.log(" Authentication successful");const T=w.data.user;r(T);const P={id:"admin-profile",name:"Administrador",description:"Perfil de administrador com acesso completo",isDefault:!1,createdAt:new Date().toISOString(),permissions:[{id:"1",module:"ANALYSIS",action:"CREATE",allowed:!0},{id:"2",module:"ANALYSIS",action:"EDIT",allowed:!0},{id:"3",module:"ANALYSIS",action:"DELETE",allowed:!0},{id:"4",module:"ANALYSIS",action:"VIEW",allowed:!0},{id:"5",module:"PROJECT",action:"CREATE",allowed:!0},{id:"6",module:"PROJECT",action:"EDIT",allowed:!0},{id:"7",module:"PROJECT",action:"DELETE",allowed:!0},{id:"8",module:"PROJECT",action:"VIEW",allowed:!0}]};return i(P),localStorage.setItem("nup_aim_current_user",JSON.stringify(T)),l(),{success:!0}}return console.log(" Invalid credentials"),{success:!1,message:w.error||"Usurio ou senha invlidos"}}catch(w){return console.error(" Critical error in login:",w),{success:!1,message:"Erro ao fazer login. Tente novamente."}}},logout:()=>{console.log(" Logging out and clearing session"),u()},hasPermission:(h,x)=>{if(!n)return!1;const w=h.toUpperCase(),T=x.toUpperCase(),P=n.permissions.find(H=>H.module.toUpperCase()===w&&H.action.toUpperCase()===T);return(P==null?void 0:P.allowed)||!1},isAuthenticated:!!e,verifyEmail:async h=>{try{const x=await Ys.verifyEmail(h);return x.success?{success:!0,message:"Email verificado com sucesso!"}:{success:!1,message:x.error||"Erro ao verificar email"}}catch(x){return console.error(" Error in email verification:",x),{success:!1,message:"Erro ao verificar email"}}},resendVerificationEmail:async h=>{try{const x=await Ys.resendVerificationEmail(h);return x.success?{success:!0,message:"Email de verificao reenviado!"}:{success:!1,message:x.error||"Erro ao reenviar email"}}catch(x){return console.error(" Error resending email:",x),{success:!1,message:"Erro ao reenviar email"}}}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando sistema..."})]})}):s.jsx(jg.Provider,{value:_,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(t,e)=>{const r=ne.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},p)=>ne.createElement("svg",{ref:p,...Gw,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${qw(t)}`,l].join(" "),...u},[...e.map(([g,y])=>ne.createElement(g,y)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ve("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ve("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ve("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ve("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ve("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),av=()=>{const[t,e]=ne.useState(""),[r,n]=ne.useState(""),[i,a]=ne.useState(""),[o,l]=ne.useState(!1),[c,u]=ne.useState(!1),[p,g]=ne.useState(""),[y,m]=ne.useState(!1),[b,v]=ne.useState(""),[_,h]=ne.useState(""),[x,w]=ne.useState(""),[T,P]=ne.useState(!1),H=ne.useRef(null),{login:W,resendVerificationEmail:Q}=Tn(),[I,ee]=ne.useState(!1),[ce,M]=ne.useState({username:"",email:"",password:"",confirmPassword:""}),[te,A]=ne.useState({}),[V,Y]=ne.useState(!1),[D,U]=ne.useState(!1);ne.useEffect(()=>{R()},[]);const R=()=>{const q=H.current;if(!q)return;const re=q.getContext("2d");if(!re)return;re.clearRect(0,0,q.width,q.height);const K="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let j="";for(let N=0;N<6;N++)j+=K.charAt(Math.floor(Math.random()*K.length));h(j),re.fillStyle="#f3f4f6",re.fillRect(0,0,q.width,q.height);for(let N=0;N<100;N++)re.fillStyle=`rgba(${Math.random()*100}, ${Math.random()*100}, ${Math.random()*100}, 0.2)`,re.beginPath(),re.arc(Math.random()*q.width,Math.random()*q.height,Math.random()*2,0,Math.PI*2),re.fill();for(let N=0;N<4;N++)re.strokeStyle=`rgba(${Math.random()*100}, ${Math.random()*100}, ${Math.random()*100}, 0.3)`,re.lineWidth=1,re.beginPath(),re.moveTo(Math.random()*q.width,Math.random()*q.height),re.lineTo(Math.random()*q.width,Math.random()*q.height),re.stroke();re.font="bold 24px Arial",re.fillStyle="#4b5563",re.textAlign="center",re.textBaseline="middle";for(let N=0;N<j.length;N++){const X=(N+.5)*(q.width/j.length),$=q.height/2+(Math.random()*10-5),O=Math.random()*.4-.2;re.save(),re.translate(X,$),re.rotate(O),re.fillText(j[N],0,0),re.restore()}},J=async q=>{var re;if(q.preventDefault(),a(""),P(!1),x!==_){P(!0),R();return}l(!0);try{console.log(" Tentando fazer login..."),console.log(" Usurio:",t);const K=t.trim(),j=r.trim(),N=await W(K,j);N.success?console.log(" Login realizado com sucesso!"):(console.log(" Login falhou:",N.message),a(N.message||"Erro ao fazer login"),(re=N.message)!=null&&re.includes("Email no verificado")&&(u(!0),g(t.includes("@")?t:"")))}catch(K){console.error(" Erro no login:",K),a("Erro ao fazer login. Tente novamente.")}finally{l(!1)}},F=async q=>{q.preventDefault(),m(!0),v("");try{const re=await Q(p);v(re.message),re.success&&u(!1)}catch{v("Erro ao reenviar email de verificao")}finally{m(!1)}},C=async q=>{q.preventDefault(),A({});const re={};if(ce.username.trim()?ce.username.length<3&&(re.username="Nome de usurio deve ter pelo menos 3 caracteres"):re.username="Nome de usurio  obrigatrio",ce.email.trim()?/\S+@\S+\.\S+/.test(ce.email)||(re.email="Email invlido"):re.email="Email  obrigatrio",ce.password.trim()?ce.password.length<6&&(re.password="Senha deve ter pelo menos 6 caracteres"):re.password="Senha  obrigatria",ce.confirmPassword.trim()?ce.password!==ce.confirmPassword&&(re.confirmPassword="As senhas no coincidem"):re.confirmPassword="Confirmao de senha  obrigatria",Object.keys(re).length>0){A(re);return}Y(!0);try{const{apiClient:K}=await wr(async()=>{const{apiClient:N}=await Promise.resolve().then(()=>$w);return{apiClient:N}},void 0),j=await K.register({username:ce.username,email:ce.email,password:ce.password,profileId:""});j.success?(U(!0),M({username:"",email:"",password:"",confirmPassword:""})):A({form:j.error||"Erro ao criar usurio"})}catch(K){console.error("Erro ao registrar usurio:",K),A({form:"Erro ao criar usurio. Tente novamente."})}finally{Y(!1)}},G=()=>{ee(!I),a(""),P(!1),A({}),U(!1),R()};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-[0.03] select-none",children:s.jsx("div",{className:"absolute inset-0 flex flex-wrap content-start",children:Array.from({length:50}).map((q,re)=>s.jsxs("div",{className:"p-4 text-gray-900 text-xs rotate-[-20deg]",children:[s.jsx("div",{children:"NuPTechs"}),s.jsx("div",{className:"text-[8px]",children:"Sua fbrica de softwares inteligentes"})]},re))})}),s.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-600 rounded-lg mx-auto mb-4",children:I?s.jsx(iv,{className:"w-8 h-8 text-white"}):s.jsx(rv,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"NuP_AIM"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sistema de Anlise de Impacto"}),s.jsxs("div",{className:"mt-1 text-xs text-blue-600 font-medium",children:[s.jsx("span",{children:"NuPTechs"}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"text-gray-500 italic text-[10px]",children:"Sua fbrica de softwares inteligentes"})]})]}),I?s.jsx("div",{className:"mt-8 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Criar Nova Conta"}),s.jsxs("button",{onClick:G,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[s.jsx(Zc,{className:"w-4 h-4 mr-1"}),"Voltar para Login"]})]}),D?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-3",children:s.jsx(mn,{className:"w-6 h-6 text-green-600"})}),s.jsx("h4",{className:"text-lg font-medium text-green-800 mb-2",children:"Cadastro Realizado!"}),s.jsxs("p",{className:"text-sm text-green-700 mb-3",children:["Enviamos um email de verificao para ",s.jsx("strong",{children:ce.email}),". Por favor, verifique sua caixa de entrada e clique no link para ativar sua conta."]}),s.jsx("button",{onClick:G,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Voltar para Login"})]}):s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome de Usurio *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ji,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"register-username",name:"username",type:"text",required:!0,value:ce.username,onChange:q=>M({...ce,username:q.target.value}),className:`block w-full pl-10 pr-3 py-2 border ${te.username?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`,placeholder:"Digite seu nome de usurio"})]}),te.username&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:te.username})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(mn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"register-email",name:"email",type:"email",required:!0,value:ce.email,onChange:q=>M({...ce,email:q.target.value}),className:`block w-full pl-10 pr-3 py-2 border ${te.email?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`,placeholder:"seu.email@exemplo.com"})]}),te.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:te.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(fl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"register-password",name:"password",type:"password",required:!0,value:ce.password,onChange:q=>M({...ce,password:q.target.value}),className:`block w-full pl-10 pr-3 py-2 border ${te.password?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`,placeholder:"Mnimo 6 caracteres"})]}),te.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:te.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Senha *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(fl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"register-confirm-password",name:"confirmPassword",type:"password",required:!0,value:ce.confirmPassword,onChange:q=>M({...ce,confirmPassword:q.target.value}),className:`block w-full pl-10 pr-3 py-2 border ${te.confirmPassword?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors`,placeholder:"Digite a senha novamente"})]}),te.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:te.confirmPassword})]}),te.form&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(_n,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-800",children:te.form})]}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Importante:"})," Aps o cadastro, voc receber um email de verificao.  necessrio clicar no link de confirmao para ativar sua conta."]})}),s.jsx("button",{type:"submit",disabled:V,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:V?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):"Cadastrar"})]})]})}):s.jsx("form",{className:"mt-8 space-y-6",onSubmit:J,children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Usurio ou Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ji,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t,onChange:q=>e(q.target.value.trim()),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Digite seu usurio ou email",autoComplete:"email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(fl,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:q=>n(q.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Digite sua senha"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"captcha",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo de Segurana"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Yr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"captcha",name:"captcha",type:"text",required:!0,value:x,onChange:q=>w(q.target.value),className:`block w-full pl-10 pr-3 py-2 border ${T?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} rounded-lg transition-colors`,placeholder:"Digite o cdigo"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("canvas",{ref:H,width:"150",height:"40",className:"border border-gray-300 rounded-lg bg-gray-50"}),s.jsx("button",{type:"button",onClick:R,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Gerar novo cdigo",children:s.jsx(Zr,{className:"w-5 h-5"})})]})]}),T&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Cdigo de segurana incorreto"})]}),i&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(_n,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-800",children:i})]}),c&&s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Reenviar Email de Verificao"}),s.jsxs("form",{onSubmit:F,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-1",children:"Email para reenvio"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(mn,{className:"h-4 w-4 text-yellow-600"})}),s.jsx("input",{type:"email",required:!0,value:p,onChange:q=>g(q.target.value),className:"block w-full pl-9 pr-3 py-2 text-sm border border-yellow-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",placeholder:"seu.email@exemplo.com"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"submit",disabled:y,className:"inline-flex items-center px-3 py-2 text-sm bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors disabled:opacity-50",children:[y?s.jsx(Zr,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(mn,{className:"w-4 h-4 mr-1"}),"Reenviar"]}),s.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-2 text-sm text-yellow-700 hover:text-yellow-900 transition-colors",children:"Cancelar"})]})]}),b&&s.jsx("p",{className:`text-sm mt-2 ${b.includes("Erro")?"text-red-600":"text-green-600"}`,children:b})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Entrando..."]}):"Entrar"}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{type:"button",onClick:G,className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"No tem uma conta? Cadastre-se"})})]})})]})]})},ov=({token:t,onBackToLogin:e})=>{const[r,n]=ne.useState("loading"),[i,a]=ne.useState(""),[o,l]=ne.useState(""),[c,u]=ne.useState(!1),[p,g]=ne.useState(""),{verifyEmail:y,resendVerificationEmail:m}=Tn();ne.useEffect(()=>{t?b():(n("error"),a("Token de verificao no fornecido"))},[t]);const b=async()=>{if(t)try{const _=await y(t);n(_.success?"success":"error"),a(_.message)}catch{n("error"),a("Erro ao verificar email")}},v=async _=>{_.preventDefault(),u(!0),g("");try{const h=await m(o);g(h.message)}catch{g("Erro ao reenviar email de verificao")}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`flex items-center justify-center w-16 h-16 rounded-lg mx-auto mb-4 ${r==="loading"?"bg-blue-600":r==="success"?"bg-green-600":"bg-red-600"}`,children:[r==="loading"&&s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),r==="success"&&s.jsx(Ut,{className:"w-8 h-8 text-white"}),r==="error"&&s.jsx(Og,{className:"w-8 h-8 text-white"})]}),s.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:[r==="loading"&&"Verificando Email...",r==="success"&&"Email Verificado!",r==="error"&&"Erro na Verificao"]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sistema de Anlise de Impacto"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[s.jsx("div",{className:`p-4 rounded-lg ${r==="success"?"bg-green-50 border border-green-200":r==="error"?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:s.jsx("p",{className:`text-sm ${r==="success"?"text-green-800":r==="error"?"text-red-800":"text-blue-800"}`,children:i})}),r==="success"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Seu email foi verificado com sucesso! Agora voc pode fazer login no sistema."})}),s.jsxs("button",{onClick:e,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors",children:[s.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Voltar para Login"]})]}),r==="error"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No foi possvel verificar seu email. Voc pode solicitar um novo email de verificao."})}),s.jsxs("form",{onSubmit:v,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email para reenvio"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(mn,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",required:!0,value:o,onChange:_=>l(_.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"seu.email@exemplo.com"})]})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Zr,{className:"w-4 h-4 mr-2 animate-spin"}),"Reenviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Reenviar Email de Verificao"]})})]}),p&&s.jsx("div",{className:`p-3 rounded-lg ${p.includes("Erro")?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:s.jsx("p",{className:`text-sm ${p.includes("Erro")?"text-red-800":"text-green-800"}`,children:p})}),s.jsxs("button",{onClick:e,className:"w-full flex justify-center items-center py-2 px-4 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[s.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Voltar para Login"]})]})]})]})})},lv=({onExtendSession:t,onLogout:e})=>{const[r,n]=ne.useState(300),[i,a]=ne.useState(!1);ne.useEffect(()=>{const c=()=>{const p=localStorage.getItem("nup_aim_last_activity");if(!p)return;const g=7*60*1e3,y=2*60*1e3,m=Date.now()-parseInt(p),b=g-m;b<=y&&b>0?(n(Math.floor(b/1e3)),a(!0)):b<=0?e():a(!1)},u=setInterval(c,1e3);return c(),()=>clearInterval(u)},[e]);const o=()=>{localStorage.setItem("nup_aim_last_activity",Date.now().toString()),a(!1),t()},l=c=>{const u=Math.floor(c/60),p=c%60;return`${u}:${p.toString().padStart(2,"0")}`};return i?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(eu,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sesso Expirando"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sua sesso expirar em breve"})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:l(r)}),s.jsx("p",{className:"text-sm text-gray-600",children:'Sua sesso expirar automaticamente por segurana. Clique em "Continuar" para estender sua sesso.'})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:o,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Continuar Sesso"]}),s.jsxs("button",{onClick:e,className:"inline-flex items-center justify-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(kg,{className:"w-4 h-4 mr-2"}),"Sair"]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:"Segurana:"})," Por motivos de segurana, sua sesso expira aps 7 minutos de inatividade."]})})]})}):null},cn={ANALYSIS:{name:"Anlises de Impacto",actions:{CREATE:"Criar",EDIT:"Editar",DELETE:"Excluir",VIEW:"Visualizar",EXPORT:"Exportar",COPY:"Copiar"}},PROJECTS:{name:"Projetos",actions:{CREATE:"Criar",EDIT:"Editar",DELETE:"Excluir",VIEW:"Visualizar",MANAGE:"Gerenciar"}},USERS:{name:"Usurios",actions:{CREATE:"Criar",EDIT:"Editar",DELETE:"Excluir",VIEW:"Visualizar",MANAGE:"Gerenciar"}},PROFILES:{name:"Perfis",actions:{CREATE:"Criar",EDIT:"Editar",DELETE:"Excluir",VIEW:"Visualizar",MANAGE:"Gerenciar"}},DATA:{name:"Dados do Sistema",actions:{MANAGE:"Gerenciar",BACKUP:"Backup e Restaurao",STATUS:"Verificar Status"}}},cv=(t,e)=>`
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirme seu email - NuP_AIM</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8fafc;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .logo {
            width: 64px;
            height: 64px;
            background: #2563eb;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }
        .logo svg {
            width: 32px;
            height: 32px;
            color: white;
        }
        h1 {
            color: #1f2937;
            margin: 0 0 8px 0;
            font-size: 24px;
        }
        .subtitle {
            color: #6b7280;
            margin: 0;
            font-size: 14px;
        }
        .content {
            margin: 30px 0;
        }
        .button {
            display: inline-block;
            background: #2563eb;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 500;
            margin: 20px 0;
        }
        .button:hover {
            background: #1d4ed8;
        }
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            font-size: 12px;
            color: #6b7280;
            text-align: center;
        }
        .warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            padding: 12px;
            margin: 20px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <svg fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14,2 14,8 20,8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10,9 9,9 8,9"></polyline>
                </svg>
            </div>
            <h1>NuP_AIM</h1>
            <p class="subtitle">Sistema de Anlise de Impacto</p>
        </div>

        <div class="content">
            <h2>Ol, ${t}!</h2>
            
            <p>Bem-vindo ao <strong>NuP_AIM</strong> - Sistema de Anlise de Impacto!</p>
            
            <p>Para completar seu cadastro e comear a usar o sistema, voc precisa confirmar seu endereo de email clicando no boto abaixo:</p>
            
            <div style="text-align: center;">
                <a href="${e}" class="button">Confirmar Email</a>
            </div>
            
            <p>Ou copie e cole este link no seu navegador:</p>
            <p style="word-break: break-all; background: #f3f4f6; padding: 10px; border-radius: 4px; font-family: monospace; font-size: 12px;">
                ${e}
            </p>
            
            <div class="warning">
                <strong> Importante:</strong> Este link  vlido por 24 horas. Aps esse perodo, voc precisar solicitar um novo email de verificao.
            </div>
            
            <p>Se voc no solicitou este cadastro, pode ignorar este email com segurana.</p>
        </div>

        <div class="footer">
            <p>Este email foi enviado automaticamente pelo sistema NuP_AIM.</p>
            <p> ${new Date().getFullYear()} NuP_AIM - Sistema de Anlise de Impacto</p>
        </div>
    </div>
</body>
</html>
  `.trim(),uv=(t,e)=>`
Ol ${t},

Bem-vindo ao NuP_AIM - Sistema de Anlise de Impacto!

Para completar seu cadastro, clique no link abaixo para verificar seu email:

${e}

Este link  vlido por 24 horas.

Se voc no solicitou este cadastro, ignore este email.

Atenciosamente,
Equipe NuP_AIM

---
 ${new Date().getFullYear()} NuP_AIM - Sistema de Anlise de Impacto
  `.trim(),Bn=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",qf=Bn?"/.netlify/functions/send-email":"http://localhost:8888/.netlify/functions/send-email",dv=async(t,e,r,n)=>{try{console.log(" Enviando email via Netlify Function + SendGrid..."),console.log(`Para: ${t}`),console.log(`Assunto: ${e}`),console.log(`URL da funo: ${qf}`);const i=await fetch(qf,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:t,subject:e,html:r,text:n})}),a=await i.json();return i.ok&&a.success?(console.log(" Email enviado com sucesso via Netlify Function!"),{success:!0,message:"Email enviado com sucesso",provider:"Netlify Function + SendGrid"}):(console.error(" Erro da funo Netlify:",a.message),{success:!1,message:a.message||"Erro no envio do email"})}catch(i){return console.error(" Erro de conexo com a funo Netlify:",i),{success:!1,message:"Erro de conexo com o servio de email"}}},fv=async(t,e,r,n)=>{console.log(" [MODO DESENVOLVIMENTO] Simulando envio de email..."),console.log(` Destinatrio: ${t}`),console.log(` Assunto: ${e}`);const i=1500+Math.random()*2e3;if(await new Promise(o=>setTimeout(o,i)),Math.random()>.02)return console.log(" [DEMO] EMAIL ENVIADO COM SUCESSO!"),console.log(" Detalhes do envio:"),console.log(`   Para: ${t}`),console.log(`   Assunto: ${e}`),console.log("   Status: Entregue (Simulado)"),console.log(`   Timestamp: ${new Date().toLocaleString("pt-BR")}`),console.log(""),{success:!0,message:"Email enviado com sucesso (modo desenvolvimento)",provider:"Demo Mode"};{const o=["Servidor SMTP temporariamente indisponvel","Caixa de entrada do destinatrio cheia","Falha na conexo de rede","Email rejeitado pelo servidor de destino"],l=o[Math.floor(Math.random()*o.length)];return console.error(" [DEMO] FALHA NO ENVIO DO EMAIL"),console.error(` Para: ${t}`),console.error(`  Erro: ${l}`),console.error(` Timestamp: ${new Date().toLocaleString("pt-BR")}`),console.error(""),{success:!1,message:`Falha no envio: ${l} (modo desenvolvimento)`}}},hv=async(t,e)=>{try{console.log(` Preparando email de verificao para: ${t.email}`),console.log(` Modo: ${Bn?"PRODUO (Netlify Function)":"DESENVOLVIMENTO (Simulado)"}`),console.log(` Hostname: ${window.location.hostname}`),console.log(` URL: ${window.location.href}`);const n=`${window.location.origin+window.location.pathname}#/verify-email?token=${e}`;console.log(` Link de verificao: ${n}`);const i="Confirme seu email - NuP_AIM",a=cv(t.username,n),o=uv(t.username,n);let l;if(Bn?(console.log(" Enviando email REAL via Netlify Function + SendGrid..."),l=await dv(t.email,i,a,o)):(console.log(" Usando modo desenvolvimento..."),l=await fv(t.email,i,a,o)),l.success){const c=Bn?` EMAIL DE VERIFICAO ENVIADO!

Para: ${t.email}
Status:  Entregue com sucesso via ${l.provider}

Verifique sua caixa de entrada (e pasta de spam) e clique no link de confirmao.

 O link expira em 24 horas.`:` EMAIL DE VERIFICAO ENVIADO! (MODO DESENVOLVIMENTO)

Para: ${t.email}
Status:  Entregue com sucesso (simulado)

 LINK DE VERIFICAO (Para demonstrao):
${n}

 IMPORTANTE: Em produo, este link seria enviado apenas por email.
Para testar, voc pode copiar o link acima ou verificar o console do navegador (F12).

 O link expira em 24 horas.`;return setTimeout(()=>{alert(c)},100),{success:!0,message:`Email de verificao enviado para ${t.email}${Bn?" via Netlify Function":" (modo desenvolvimento)"}`,provider:l.provider}}else return console.error(" Falha no envio:",l.message),setTimeout(()=>{alert(` ERRO NO ENVIO DO EMAIL

Para: ${t.email}
Erro: ${l.message}

${Bn?"Verifique se a chave do SendGrid est configurada corretamente nas variveis de ambiente do Netlify.":"Erro no modo de desenvolvimento."}`)},100),{success:!1,message:l.message||"Erro desconhecido no envio do email"}}catch(r){return console.error(" Erro crtico ao enviar email de verificao:",r),{success:!1,message:"Erro interno do servidor. Tente novamente mais tarde."}}},dd="nup_aim_users",to="nup_aim_profiles",ro=()=>`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,mv=()=>Math.random().toString(36).substr(2,32)+Date.now().toString(36),Kf=(t=!1)=>{const e=[];return Object.entries(cn).forEach(([r,n])=>{Object.entries(n.actions).forEach(([i,a])=>{e.push({id:`${r}_${i}`,module:r,action:i,allowed:t})})}),e},ps=()=>{try{const t=localStorage.getItem(dd);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar usurios:",t),[]}},Fg=t=>{const e=ps(),r=e.findIndex(n=>n.id===t.id);r>=0?e[r]=t:e.push(t),localStorage.setItem(dd,JSON.stringify(e))},pv=t=>{const e=ps();if(e.length<=1)return!1;const r=e.filter(n=>n.id!==t);return localStorage.setItem(dd,JSON.stringify(r)),!0},gs=()=>{try{const t=localStorage.getItem(to),e=t?JSON.parse(t):[];if(e.length===0){const r={id:ro(),name:"Administrador",description:"Acesso completo a todas as funcionalidades do sistema",permissions:Kf(!0),isDefault:!1,createdAt:new Date().toISOString()},n={id:ro(),name:"Usurio Padro",description:"Acesso bsico para criar e visualizar anlises",permissions:Kf(!1).map(i=>({...i,allowed:i.module==="ANALYSIS"&&["CREATE","EDIT","VIEW","EXPORT"].includes(i.action)})),isDefault:!0,createdAt:new Date().toISOString()};e.push(r,n),localStorage.setItem(to,JSON.stringify(e))}return e}catch(t){return console.error("Erro ao carregar perfis:",t),[]}},su=t=>{const e=gs(),r=e.findIndex(n=>n.id===t.id);t.isDefault&&e.forEach(n=>n.isDefault=!1),r>=0?e[r]=t:e.push(t),localStorage.setItem(to,JSON.stringify(e))},gv=t=>{const e=gs(),r=ps();if(e.length<=1||r.filter(o=>o.profileId===t).length>0)return!1;const i=e.find(o=>o.id===t);if(i!=null&&i.isDefault){const o=e.find(l=>l.id!==t);o&&(o.isDefault=!0,su(o))}const a=e.filter(o=>o.id!==t);return localStorage.setItem(to,JSON.stringify(a)),!0},Yf=async t=>{try{console.log(` Preparando email de verificao para: ${t.email}`);const e=mv(),r=new Date;r.setHours(r.getHours()+24);const n={...t,emailVerificationToken:e,emailVerificationExpires:r.toISOString()};return Fg(n),console.log(` Token de verificao gerado: ${e.substring(0,8)}...`),await hv(t,e)}catch(e){return console.error(" Erro crtico ao enviar email de verificao:",e),{success:!1,message:"Erro interno do servidor. Tente novamente mais tarde."}}},xv=({onClose:t})=>{const[e,r]=ne.useState([]),[n,i]=ne.useState([]),[a,o]=ne.useState(null),[l,c]=ne.useState(!1),[u,p]=ne.useState({username:"",email:"",password:"",confirmPassword:"",profileId:"",isActive:!0}),[g,y]=ne.useState({}),[m,b]=ne.useState(!1),[v,_]=ne.useState(!1),[h,x]=ne.useState(!1),[w,T]=ne.useState(!1);ne.useEffect(()=>{P()},[]);const P=async()=>{console.log(" Usando localStorage para gerenciamento de usurios"),H()},H=()=>{r(ps()),i(gs()),T(!1)},W=()=>{const V={};return u.username.trim()?u.username.length<3&&(V.username="Nome de usurio deve ter pelo menos 3 caracteres"):V.username="Nome de usurio  obrigatrio",u.email.trim()?/\S+@\S+\.\S+/.test(u.email)||(V.email="Email invlido"):V.email="Email  obrigatrio",u.password.trim()?u.password.length<6&&(V.password="Senha deve ter pelo menos 6 caracteres"):V.password="Senha  obrigatria",u.confirmPassword.trim()?u.password!==u.confirmPassword&&(V.confirmPassword="As senhas no coincidem"):V.confirmPassword="Confirmao de senha  obrigatria",u.profileId||(V.profileId="Perfil  obrigatrio"),e.find(U=>U.username.toLowerCase()===u.username.toLowerCase()&&U.id!==a)&&(V.username="J existe um usurio com este nome"),e.find(U=>U.email.toLowerCase()===u.email.toLowerCase()&&U.id!==a)&&(V.email="J existe um usurio com este email"),y(V),Object.keys(V).length===0},Q=async()=>{var V,Y;if(W()){x(!0);try{if(w){const{createUser:D,updateUser:U}=await wr(async()=>{const{createUser:R,updateUser:J}=await import("./supabaseAuth-BHSNIvez.js");return{createUser:R,updateUser:J}},[]);if(a){const R=await U(a,{username:u.username.trim(),email:u.email.trim(),password:u.password,profileId:u.profileId,isActive:u.isActive});if(!R.success){alert(`Erro ao atualizar usurio: ${R.error}`);return}}else{const R=await D({username:u.username.trim(),email:u.email.trim(),password:u.password,profileId:u.profileId,isActive:u.isActive});if(!R.success){alert(`Erro ao criar usurio: ${R.error}`);return}if(R.user){console.log(" Enviando email de verificao para novo usurio...");const{sendVerificationEmailToUser:J}=await wr(async()=>{const{sendVerificationEmailToUser:C}=await import("./supabaseAuth-BHSNIvez.js");return{sendVerificationEmailToUser:C}},[]),F=await J(R.user);F.success?console.log(" Email de verificao enviado com sucesso"):(console.error(" Falha no envio do email:",F.message),alert(`Usurio criado, mas houve um problema no envio do email: ${F.message}`))}}await P()}else{const D={id:a||ro(),username:u.username.trim(),email:u.email.trim(),password:u.password,profileId:u.profileId,isActive:u.isActive,isEmailVerified:a&&((V=e.find(U=>U.id===a))==null?void 0:V.isEmailVerified)||!1,createdAt:a?((Y=e.find(U=>U.id===a))==null?void 0:Y.createdAt)||new Date().toISOString():new Date().toISOString()};if(Fg(D),!a){console.log(" Enviando email de verificao para novo usurio...");const U=await Yf(D);U.success?console.log(" Email de verificao enviado com sucesso"):(console.error(" Falha no envio do email:",U.message),alert(`Usurio criado, mas houve um problema no envio do email: ${U.message}`))}H()}M()}catch(D){console.error("Erro ao salvar usurio:",D),alert("Erro ao salvar usurio. Tente novamente.")}finally{x(!1)}}},I=V=>{o(V.id),p({username:V.username,email:V.email,password:w?"":V.password,confirmPassword:w?"":V.password,profileId:w?V.profile_id:V.profileId,isActive:w?V.is_active:V.isActive}),c(!0),y({})},ee=async V=>{const Y=e.find(D=>D.id===V);if(Y){if(e.length<=1){alert("No  possvel excluir o ltimo usurio. Deve haver pelo menos um usurio cadastrado.");return}if(window.confirm(`Tem certeza que deseja excluir o usurio "${Y.username}"?`))try{if(w){const{deleteUser:D}=await wr(async()=>{const{deleteUser:R}=await import("./supabaseAuth-BHSNIvez.js");return{deleteUser:R}},[]),U=await D(V);U.success?await P():alert(`Erro ao excluir usurio: ${U.error}`)}else pv(V)?H():alert("No foi possvel excluir o usurio.")}catch(D){console.error("Erro ao excluir usurio:",D),alert("Erro ao excluir usurio. Tente novamente.")}}},ce=async V=>{if(w?V.is_email_verified:V.isEmailVerified){alert("Este usurio j possui email verificado.");return}x(!0);try{if(console.log(` Reenviando verificao para: ${V.email}`),w){const{sendVerificationEmailToUser:D}=await wr(async()=>{const{sendVerificationEmailToUser:R}=await import("./supabaseAuth-BHSNIvez.js");return{sendVerificationEmailToUser:R}},[]),U=await D(V);U.success?alert("O e-mail foi reenviado. Favor validar o link"):alert(`Erro: ${U.message}`)}else{const D=await Yf(V);D.success?alert("O e-mail foi reenviado. Favor validar o link"):alert(`Erro: ${D.message}`)}}catch(D){console.error("Erro ao reenviar email:",D),alert("Erro ao reenviar email de verificao. Tente novamente.")}finally{x(!1)}},M=()=>{o(null),c(!1),p({username:"",email:"",password:"",confirmPassword:"",profileId:"",isActive:!0}),y({}),b(!1),_(!1)},te=()=>{o(null);const V=n.find(Y=>w?Y.is_default:Y.isDefault);p({username:"",email:"",password:"",confirmPassword:"",profileId:(V==null?void 0:V.id)||"",isActive:!0}),c(!0),y({}),b(!1),_(!1)},A=V=>{const Y=n.find(D=>D.id===V);return(Y==null?void 0:Y.name)||"Perfil no encontrado"};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nu,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerenciar Usurios"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${w?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w?"Supabase":"Local"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:te,disabled:l||h,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Novo Usurio"]}),s.jsx("button",{onClick:t,disabled:h,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:s.jsx(wt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[l&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:a?"Editar Usurio":"Novo Usurio"}),!a&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(_n,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:"Verificao de Email Obrigatria"}),s.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Um email de verificao ser enviado automaticamente para o novo usurio. O login s ser permitido aps a confirmao do email."})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome de Usurio *"}),s.jsx("input",{type:"text",value:u.username,onChange:V=>p({...u,username:V.target.value}),disabled:h,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 ${g.username?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Ex: joao.silva"}),g.username&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.username})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",value:u.email,onChange:V=>p({...u,email:V.target.value}),disabled:h,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 ${g.email?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Ex: joao.silva@empresa.com"}),g.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m?"text":"password",value:u.password,onChange:V=>p({...u,password:V.target.value}),disabled:h,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 ${g.password?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Mnimo 6 caracteres"}),s.jsx("button",{type:"button",onClick:()=>b(!m),disabled:h,className:"absolute inset-y-0 right-0 pr-3 flex items-center disabled:opacity-50",children:m?s.jsx(tu,{className:"w-4 h-4 text-gray-400"}):s.jsx(ru,{className:"w-4 h-4 text-gray-400"})})]}),g.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:v?"text":"password",value:u.confirmPassword,onChange:V=>p({...u,confirmPassword:V.target.value}),disabled:h,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 ${g.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Digite a senha novamente"}),s.jsx("button",{type:"button",onClick:()=>_(!v),disabled:h,className:"absolute inset-y-0 right-0 pr-3 flex items-center disabled:opacity-50",children:v?s.jsx(tu,{className:"w-4 h-4 text-gray-400"}):s.jsx(ru,{className:"w-4 h-4 text-gray-400"})})]}),g.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.confirmPassword})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perfil *"}),s.jsxs("select",{value:u.profileId,onChange:V=>p({...u,profileId:V.target.value}),disabled:h,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 ${g.profileId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,children:[s.jsx("option",{value:"",children:"Selecione um perfil"}),n.map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]}),g.profileId&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.profileId})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u.isActive,onChange:V=>p({...u,isActive:V.target.checked}),disabled:h,className:"mr-2 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Usurio ativo"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:Q,disabled:h,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?"Salvando...":"Criando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),"Salvar"]})}),s.jsxs("button",{onClick:M,disabled:h,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Usurios Cadastrados (",e.length,")"]}),e.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(nu,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum usurio cadastrado"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perfil"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email Verificado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltimo Login"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.username})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:V.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:A(w?V.profile_id:V.profileId)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(w?V.is_active:V.isActive)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(w?V.is_active:V.isActive)?"Ativo":"Inativo"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(w?V.is_email_verified:V.isEmailVerified)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:(w?V.is_email_verified:V.isEmailVerified)?"Verificado":"Pendente"}),!(w?V.is_email_verified:V.isEmailVerified)&&s.jsx("button",{onClick:()=>ce(V),disabled:h,className:"text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",title:"Reenviar email de verificao",children:s.jsx(mn,{className:"w-4 h-4"})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(w?V.last_login:V.lastLogin)?new Date(w?V.last_login:V.lastLogin).toLocaleDateString("pt-BR"):"Nunca"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>I(V),disabled:l||h,className:"text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",title:"Editar usurio",children:s.jsx(ko,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ee(V.id),disabled:l||e.length<=1||h,className:"text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",title:e.length<=1?"No  possvel excluir o ltimo usurio":"Excluir usurio",children:s.jsx(In,{className:"w-4 h-4"})})]})})]},V.id))})]})})]})]})]})})},yv=({onClose:t})=>{const[e,r]=ne.useState([]),[n,i]=ne.useState(null),[a,o]=ne.useState(!1),[l,c]=ne.useState({name:"",description:"",isDefault:!1,permissions:[]}),[u,p]=ne.useState({}),[g,y]=ne.useState("basic"),[m,b]=ne.useState(!1);ne.useEffect(()=>{v()},[]);const v=async()=>{console.log(" Usando localStorage para gerenciamento de perfis"),_()},_=()=>{const Y=gs();console.log(" Perfis carregados do localStorage:",Y),r(Y),b(!1)},h=()=>{const Y=[];return Object.entries(cn).forEach(([D,U])=>{Object.entries(U.actions).forEach(([R,J])=>{Y.push(`${D}_${R}`)})}),Y},x=()=>{const Y={};return l.name.trim()?l.name.length<2&&(Y.name="Nome deve ter pelo menos 2 caracteres"):Y.name="Nome do perfil  obrigatrio",l.description.trim()||(Y.description="Descrio  obrigatria"),e.find(U=>U.name.toLowerCase()===l.name.toLowerCase()&&U.id!==n)&&(Y.name="J existe um perfil com este nome"),p(Y),Object.keys(Y).length===0},w=async()=>{var Y;if(x())try{if(m){const{createProfile:D,updateProfile:U}=await wr(async()=>{const{createProfile:R,updateProfile:J}=await import("./supabaseAuth-BHSNIvez.js");return{createProfile:R,updateProfile:J}},[]);if(n){const R=await U(n,{name:l.name.trim(),description:l.description.trim(),permissions:l.permissions,isDefault:l.isDefault});if(!R.success){alert(`Erro ao atualizar perfil: ${R.error}`);return}}else{const R=await D({name:l.name.trim(),description:l.description.trim(),permissions:l.permissions,isDefault:l.isDefault});if(!R.success){alert(`Erro ao criar perfil: ${R.error}`);return}}await v()}else{const D=l.permissions.map(R=>{const[J,F]=R.split("_");return{id:R,module:J,action:F,allowed:!0}}),U={id:n||ro(),name:l.name.trim(),description:l.description.trim(),permissions:D,isDefault:l.isDefault,createdAt:n?((Y=e.find(R=>R.id===n))==null?void 0:Y.createdAt)||new Date().toISOString():new Date().toISOString()};su(U),_()}W()}catch(D){console.error("Error saving profile:",D),alert("Erro ao salvar perfil. Tente novamente.")}},T=Y=>{i(Y.id);let D=[];m?D=Array.isArray(Y.permissions)?Y.permissions:[]:D=Y.permissions.filter(U=>U.allowed).map(U=>U.id),c({name:Y.name,description:Y.description,isDefault:m?Y.is_default:Y.isDefault,permissions:D}),o(!0),y("basic"),p({})},P=async Y=>{const D=e.find(U=>U.id===Y);if(D){if(e.length<=1){alert("No  possvel excluir o ltimo perfil. Deve haver pelo menos um perfil cadastrado.");return}if(window.confirm(`Tem certeza que deseja excluir o perfil "${D.name}"?`))try{if(m){const{deleteProfile:U}=await wr(async()=>{const{deleteProfile:J}=await import("./supabaseAuth-BHSNIvez.js");return{deleteProfile:J}},[]),R=await U(Y);R.success?await v():alert(`Erro ao excluir perfil: ${R.error}`)}else gv(Y)?_():alert("No foi possvel excluir o perfil. Verifique se no h usurios utilizando este perfil.")}catch(U){console.error("Erro ao excluir perfil:",U),alert("Erro ao excluir perfil. Tente novamente.")}}},H=async Y=>{const D=e.find(U=>U.id===Y);if(D)try{if(m){const{updateProfile:U}=await wr(async()=>{const{updateProfile:J}=await import("./supabaseAuth-BHSNIvez.js");return{updateProfile:J}},[]),R=await U(Y,{isDefault:!0});R.success?await v():alert(`Erro ao definir perfil padro: ${R.error}`)}else{const U={...D,isDefault:!0};su(U),_()}}catch(U){console.error("Erro ao definir perfil padro:",U),alert("Erro ao definir perfil padro. Tente novamente.")}},W=()=>{i(null),o(!1),c({name:"",description:"",isDefault:!1,permissions:[]}),y("basic"),p({})},Q=()=>{i(null),c({name:"",description:"",isDefault:!1,permissions:[]}),o(!0),y("basic"),p({})},I=(Y,D)=>{c(U=>({...U,permissions:D?[...U.permissions,Y]:U.permissions.filter(R=>R!==Y)}))},ee=(Y,D)=>{const U=Object.keys(cn[Y].actions).map(R=>`${Y}_${R}`);c(R=>({...R,permissions:D?[...R.permissions.filter(J=>!U.includes(J)),...U]:R.permissions.filter(J=>!U.includes(J))}))},ce=Y=>Object.keys(cn[Y].actions).map(D=>`${Y}_${D}`),M=Y=>{const D=ce(Y);return D.length>0&&D.every(U=>l.permissions.includes(U))},te=Y=>{const D=ce(Y);return D.some(U=>l.permissions.includes(U))&&!D.every(U=>l.permissions.includes(U))},A=Y=>{const D=h();let U=[];m?U=Array.isArray(Y.permissions)?Y.permissions:[]:U=Y.permissions.filter(J=>J.allowed).map(J=>J.id);const R=Object.keys(cn).map(J=>{const F=ce(J),C=F.filter(G=>U.includes(G)).length;return{module:cn[J].name,allowed:C,total:F.length,percentage:F.length>0?Math.round(C/F.length*100):0}});return{total:D.length,allowed:U.length,percentage:D.length>0?Math.round(U.length/D.length*100):0,modules:R}},V=Y=>{const D=h();let U=[];switch(Y){case"admin":U=[...D];break;case"user":U=D.filter(R=>R.startsWith("ANALYSIS_")&&["ANALYSIS_CREATE","ANALYSIS_EDIT","ANALYSIS_VIEW","ANALYSIS_EXPORT"].includes(R));break;case"viewer":U=D.filter(R=>R.endsWith("_VIEW"));break;case"analyst":U=D.filter(R=>R.startsWith("ANALYSIS_")&&["ANALYSIS_CREATE","ANALYSIS_EDIT","ANALYSIS_VIEW","ANALYSIS_EXPORT","ANALYSIS_COPY"].includes(R)||R.startsWith("PROJECTS_")&&["PROJECTS_VIEW"].includes(R));break}c(R=>({...R,permissions:U}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Si,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerenciar Perfis de Acesso"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${m?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:m?"Supabase":"Local"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:Q,disabled:a,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Novo Perfil"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:n?"Editar Perfil":"Novo Perfil"}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6 max-w-md",children:[s.jsx("button",{onClick:()=>y("basic"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${g==="basic"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Dados Bsicos"}),s.jsx("button",{onClick:()=>y("permissions"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${g==="permissions"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Permisses"}),s.jsx("button",{onClick:()=>y("additional"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${g==="additional"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Informaes"})]}),g==="basic"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Perfil *"}),s.jsx("input",{type:"text",value:l.name,onChange:Y=>c({...l,name:Y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${u.name?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Ex: Analista de Sistemas"}),u.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio *"}),s.jsx("input",{type:"text",value:l.description,onChange:Y=>c({...l,description:Y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${u.description?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Descreva as responsabilidades deste perfil"}),u.description&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.description})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:l.isDefault,onChange:Y=>c({...l,isDefault:Y.target.checked}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Definir como perfil padro"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O perfil padro ser atribudo automaticamente a novos usurios"})]})]}),g==="permissions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Modelos de Permisso"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>V("admin"),className:"px-3 py-2 text-sm bg-red-100 text-red-800 rounded hover:bg-red-200 transition-colors",children:"Administrador"}),s.jsx("button",{type:"button",onClick:()=>V("analyst"),className:"px-3 py-2 text-sm bg-blue-100 text-blue-800 rounded hover:bg-blue-200 transition-colors",children:"Analista"}),s.jsx("button",{type:"button",onClick:()=>V("user"),className:"px-3 py-2 text-sm bg-green-100 text-green-800 rounded hover:bg-green-200 transition-colors",children:"Usurio"}),s.jsx("button",{type:"button",onClick:()=>V("viewer"),className:"px-3 py-2 text-sm bg-yellow-100 text-yellow-800 rounded hover:bg-yellow-200 transition-colors",children:"Visualizador"})]})]}),s.jsx("div",{className:"space-y-4",children:Object.entries(cn).map(([Y,D])=>{const U=M(Y),R=te(Y);return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:D.name}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:U,ref:J=>{J&&(J.indeterminate=R)},onChange:J=>ee(Y,J.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:U?"Todas":R?"Algumas":"Nenhuma"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(D.actions).map(([J,F])=>{const C=`${Y}_${J}`;return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:l.permissions.includes(C),onChange:G=>I(C,G.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:F})]},C)})})]},Y)})})]}),g==="additional"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ns,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Resumo das Permisses"}),(()=>{const Y=A({permissions:l.permissions});return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-blue-800",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Total de Permisses:"})," ",Y.allowed," de ",Y.total," (",Y.percentage,"%)"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Y.modules.map((D,U)=>s.jsxs("div",{className:"bg-white rounded p-3 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.module}),s.jsxs("span",{className:"text-xs text-gray-600",children:[D.percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${D.percentage}%`}})}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[D.allowed," de ",D.total," permisses"]})]},U))})]})})()]})]})}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-yellow-900 mb-2",children:"Informaes Importantes"}),s.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[s.jsx("li",{children:" Perfis controlam o acesso s funcionalidades do sistema"}),s.jsx("li",{children:" Apenas um perfil pode ser definido como padro por vez"}),s.jsx("li",{children:" Alteraes em perfis afetam todos os usurios que os utilizam"}),s.jsx("li",{children:" Deve haver pelo menos um perfil cadastrado no sistema"}),s.jsx("li",{children:" Perfis em uso por usurios no podem ser excludos"})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-green-900 mb-2",children:"Modelos de Perfil Sugeridos"}),s.jsxs("div",{className:"space-y-2 text-sm text-green-800",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Administrador:"})," Acesso completo a todas as funcionalidades"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Analista:"})," Criar, editar, visualizar, exportar anlises, copiar + visualizar projetos"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Usurio:"})," Criar, editar, visualizar e exportar anlises bsicas"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Visualizador:"})," Apenas visualizar informaes do sistema"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[s.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),"Salvar Perfil"]}),s.jsxs("button",{onClick:W,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Perfis Cadastrados (",e.length,")"]}),e.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(Si,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum perfil cadastrado"})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.map(Y=>{const D=A(Y);return s.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${(m?Y.is_default:Y.isDefault)?"border-blue-200 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:Y.name}),(m?Y.is_default:Y.isDefault)&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:[s.jsx(Rg,{className:"w-3 h-3 mr-1"}),"Padro"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Y.description}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("p",{children:["Criado em ",new Date(m?Y.created_at:Y.createdAt).toLocaleDateString("pt-BR")]}),s.jsxs("p",{children:[D.allowed," de ",D.total," permisses ativas (",D.percentage,"%)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!(m?Y.is_default:Y.isDefault)&&s.jsx("button",{onClick:()=>H(Y.id),className:"p-1 text-yellow-600 hover:text-yellow-800 transition-colors",title:"Definir como padro",children:s.jsx(Pg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(Y),disabled:a,className:"p-1 text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",title:"Editar perfil",children:s.jsx(ko,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(Y.id),disabled:a||e.length<=1,className:"p-1 text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",title:e.length<=1?"No  possvel excluir o ltimo perfil":"Excluir perfil",children:s.jsx(In,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsx("span",{children:"Permisses por Mdulo"}),s.jsxs("span",{children:[D.percentage,"% do total"]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:D.modules.map((U,R)=>s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-gray-700 truncate",children:U.module}),s.jsxs("span",{className:"text-gray-500",children:[U.percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:s.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${U.percentage===100?"bg-green-500":U.percentage>50?"bg-blue-500":U.percentage>0?"bg-yellow-500":"bg-gray-300"}`,style:{width:`${U.percentage}%`}})})]},R))})]})]},Y.id)})})]})]})]})})},no="nup_aim_projects",Cn=()=>{try{const t=localStorage.getItem(no),e=t?JSON.parse(t):[];if(e.length===0){const r={id:iu(),name:"Exemplo",acronym:"Ex",isDefault:!0,createdAt:new Date().toISOString()};e.push(r),localStorage.setItem(no,JSON.stringify(e))}return e}catch(t){return console.error("Erro ao carregar projetos:",t),[{id:iu(),name:"Exemplo",acronym:"Ex",isDefault:!0,createdAt:new Date().toISOString()}]}},Xf=t=>{const e=Cn(),r=e.findIndex(n=>n.id===t.id);t.isDefault&&e.forEach(n=>n.isDefault=!1),r>=0?e[r]=t:e.push(t),localStorage.setItem(no,JSON.stringify(e))},wv=t=>{const e=Cn(),r=e.find(a=>a.id===t);if(e.length<=1)return!1;const n=e.filter(a=>a.isDefault);if(r!=null&&r.isDefault&&n.length===1){const a=e.find(o=>o.id!==t);a&&(a.isDefault=!0)}const i=e.filter(a=>a.id!==t);return localStorage.setItem(no,JSON.stringify(i)),!0},Dg=()=>{const t=Cn();return t.find(e=>e.isDefault)||t[0]||null},iu=()=>`project_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,fd="impact_analyses",Lg=t=>{const e=_i(),r=e.findIndex(n=>n.id===t.id);r>=0?e[r]=t:e.push(t),localStorage.setItem(fd,JSON.stringify(e))},_i=()=>{try{const t=localStorage.getItem(fd);return t?JSON.parse(t):[]}catch(t){return console.error("Erro ao carregar anlises:",t),[]}},vv=t=>{const r=_i().filter(n=>n.id!==t);localStorage.setItem(fd,JSON.stringify(r))},mr=()=>`analysis_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,un=null,bv=()=>({configured:!1,url:"API-based authentication",keyLength:0,client:!1,environment:"production",hostname:window.location.hostname,mode:"api"}),Ev=()=>{const[t,e]=ne.useState([{name:"Verificar Conexo",description:"Testar conexo com o Supabase",status:"pending"},{name:"Executar SQL de Inicializao",description:"Executar script SQL completo para inserir dados",status:"pending"},{name:"Verificar Dados Inseridos",description:"Confirmar que os dados foram criados corretamente",status:"pending"}]),[r,n]=ne.useState(!1),[i,a]=ne.useState(-1),[o,l]=ne.useState(!1),c=()=>`
-- Script para inserir dados iniciais contornando RLS
-- Execute este SQL no Supabase SQL Editor se o inicializador automtico falhar

-- Temporariamente desabilitar RLS para inserir dados iniciais
ALTER TABLE profiles DISABLE ROW LEVEL SECURITY;
ALTER TABLE users DISABLE ROW LEVEL SECURITY;
ALTER TABLE projects DISABLE ROW LEVEL SECURITY;

-- Limpar dados existentes para evitar conflitos
DELETE FROM users WHERE username = 'admin' OR email = 'nuptechs@nuptechs.com';
DELETE FROM profiles WHERE name IN ('Administrador', 'Usurio Padro');
DELETE FROM projects WHERE name = 'Sistema de Habilitaes';

-- Inserir perfis padro
INSERT INTO profiles (id, name, description, permissions, is_default, created_at, updated_at) VALUES
(
  '550e8400-e29b-41d4-a716-446655440001',
  'Administrador',
  'Acesso completo a todas as funcionalidades do sistema',
  '[
    "ANALYSIS_CREATE", "ANALYSIS_EDIT", "ANALYSIS_DELETE", "ANALYSIS_VIEW", "ANALYSIS_EXPORT", "ANALYSIS_IMPORT_AI", "ANALYSIS_COPY",
    "PROJECTS_CREATE", "PROJECTS_EDIT", "PROJECTS_DELETE", "PROJECTS_VIEW", "PROJECTS_MANAGE",
    "USERS_CREATE", "USERS_EDIT", "USERS_DELETE", "USERS_VIEW", "USERS_MANAGE",
    "PROFILES_CREATE", "PROFILES_EDIT", "PROFILES_DELETE", "PROFILES_VIEW", "PROFILES_MANAGE"
  ]'::jsonb,
  false,
  now(),
  now()
),
(
  '550e8400-e29b-41d4-a716-446655440002',
  'Usurio Padro',
  'Acesso bsico para criar e visualizar anlises',
  '[
    "ANALYSIS_CREATE", "ANALYSIS_EDIT", "ANALYSIS_VIEW", "ANALYSIS_EXPORT",
    "PROJECTS_VIEW"
  ]'::jsonb,
  true,
  now(),
  now()
);

-- Inserir projeto padro
INSERT INTO projects (id, name, acronym, is_default, created_at, updated_at) VALUES
(
  '550e8400-e29b-41d4-a716-446655440003',
  'Sistema de Habilitaes',
  'SH',
  true,
  now(),
  now()
);

-- Inserir usurio admin
INSERT INTO users (
  id,
  username,
  email,
  password_hash,
  profile_id,
  is_active,
  is_email_verified,
  created_at,
  updated_at
) VALUES (
  '550e8400-e29b-41d4-a716-446655440004',
  'admin',
  'nuptechs@nuptechs.com',
  'Senha@1010',
  '550e8400-e29b-41d4-a716-446655440001',
  true,
  true,
  now(),
  now()
);

-- Reabilitar RLS
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE projects ENABLE ROW LEVEL SECURITY;

-- Atualizar polticas RLS para permitir leitura pblica (necessrio para login)
DROP POLICY IF EXISTS "Profiles are viewable by authenticated users" ON profiles;
CREATE POLICY "Profiles are viewable by everyone"
  ON profiles
  FOR SELECT
  USING (true);

DROP POLICY IF EXISTS "Users can view their own data" ON users;
CREATE POLICY "Users can view for authentication"
  ON users
  FOR SELECT
  USING (true);

DROP POLICY IF EXISTS "Projects are viewable by authenticated users" ON projects;
CREATE POLICY "Projects are viewable by everyone"
  ON projects
  FOR SELECT
  USING (true);

-- Verificar se os dados foram inseridos corretamente
SELECT 'Perfis criados:' as info;
SELECT id, name, is_default FROM profiles ORDER BY name;

SELECT 'Projetos criados:' as info;
SELECT id, name, acronym, is_default FROM projects ORDER BY name;

SELECT 'Usurios criados:' as info;
SELECT 
  u.id,
  u.username,
  u.email,
  u.is_email_verified,
  u.is_active,
  p.name as profile_name
FROM users u
JOIN profiles p ON u.profile_id = p.id
ORDER BY u.username;
`,u=()=>{navigator.clipboard.writeText(c()),alert(`SQL copiado para a rea de transferncia!

V para o Supabase SQL Editor e cole o cdigo.`)},p=async()=>{{alert("Supabase no est configurado. Configure as variveis de ambiente primeiro.");return}},g=(m,b)=>m.status==="running"?s.jsx(Zr,{className:"w-4 h-4 text-blue-600 animate-spin"}):m.status==="success"?s.jsx(Ut,{className:"w-4 h-4 text-green-600"}):m.status==="error"?s.jsx(_n,{className:"w-4 h-4 text-red-600"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),y=m=>m.status==="running"?"text-blue-600":m.status==="success"?"text-green-600":m.status==="error"?"text-red-600":"text-gray-500";return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(zt,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Inicializar Dados do Supabase"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Criar automaticamente os dados iniciais necessrios para o funcionamento do sistema"})]})]}),s.jsx("div",{className:"space-y-4 mb-6",children:t.map((m,b)=>s.jsxs("div",{className:"flex items-start gap-3",children:[g(m),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`font-medium ${y(m)}`,children:m.name}),s.jsx("div",{className:"text-sm text-gray-600",children:m.description}),m.error&&s.jsxs("div",{className:"text-sm text-red-600 mt-1",children:["Erro: ",m.error]})]})]},b))}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-sm text-gray-600",children:r?`Executando passo ${i+1} de ${t.length}...`:'Clique em "Inicializar" para criar os dados automaticamente'}),s.jsx("button",{onClick:p,disabled:r,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Zr,{className:"w-4 h-4 mr-2 animate-spin"}),"Inicializando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ag,{className:"w-4 h-4 mr-2"}),"Inicializar Dados"]})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Alternativa: SQL Manual"}),s.jsx("button",{onClick:()=>l(!o),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:o?"Ocultar SQL":"Mostrar SQL"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Se a inicializao automtica falhar, voc pode executar o SQL manualmente no Supabase SQL Editor."}),o&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Script SQL Completo"}),s.jsxs("button",{onClick:u,className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[s.jsx(Ja,{className:"w-3 h-3 mr-1"}),"Copiar SQL"]})]}),s.jsx("pre",{className:"text-xs text-gray-600 bg-gray-100 p-3 rounded overflow-x-auto max-h-40",children:c()})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"Como usar o SQL manual:"}),s.jsxs("ol",{className:"text-sm text-yellow-800 space-y-1",children:[s.jsx("li",{children:'1. Clique em "Copiar SQL" acima'}),s.jsx("li",{children:"2. V para o Supabase SQL Editor"}),s.jsx("li",{children:'3. Cole o cdigo e clique em "RUN"'}),s.jsx("li",{children:"4. Aguarde a execuo completa"}),s.jsx("li",{children:"5. Recarregue esta pgina e teste o login"})]})]})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"O que ser criado:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Perfil Administrador:"})," Acesso completo ao sistema"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Perfil Usurio Padro:"})," Acesso bsico para anlises"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Projeto Padro:"})," Sistema de Habilitaes"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Usurio Admin:"})," admin / Senha@1010 (email verificado)"]})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:" Soluo para Erro RLS"}),s.jsx("p",{className:"text-sm text-red-800",children:'Se a inicializao automtica falhar com erro "row-level security policy", use o SQL manual acima. Ele desabilita temporariamente o RLS, insere os dados e reabilita com polticas corretas.'})]})]})},Nv=()=>{var y,m,b,v;const[t,e]=ne.useState({supabaseConfigured:!1,supabaseConnected:!1,tablesExist:!1,dataExists:!1}),[r,n]=ne.useState(!1),[i,a]=ne.useState(!1),[o,l]=ne.useState(!1),c=async()=>{n(!0);const _={supabaseConfigured:!1,supabaseConnected:!1,tablesExist:!1,dataExists:!1};try{console.log(" Iniciando verificao do Supabase...");const h=bv();if(console.log(" Status do Supabase:",h),_.environment={mode:h.environment,hostname:h.hostname,url:h.url,keyLength:h.keyLength},!h.configured){console.log(" Supabase no configurado"),_.error=`Supabase no configurado. URL: ${h.url.substring(0,30)}..., Key length: ${h.keyLength}`,e(_),n(!1);return}if(_.supabaseConfigured=!0,console.log(" Supabase configurado"),!un){console.log(" Cliente Supabase no inicializado"),_.error="Cliente Supabase no inicializado",e(_),n(!1);return}console.log(" Testando conexo bsica...");const{data:x,error:w}=await un.from("profiles").select("count").limit(1);if(w){console.error(" Erro de conexo:",w),_.error=`Erro de conexo: ${w.message}`,e(_),n(!1);return}_.supabaseConnected=!0,_.tablesExist=!0,console.log(" Conexo estabelecida e tabelas existem"),console.log(" Verificando dados nas tabelas...");const{data:T,error:P}=await un.from("profiles").select("*");if(P){console.error(" Erro ao buscar perfis:",P),_.error=`Erro ao verificar perfis: ${P.message}`,e(_),n(!1);return}const{data:H,error:W}=await un.from("users").select("*");if(W){console.error(" Erro ao buscar usurios:",W),_.error=`Erro ao verificar usurios: ${W.message}`,e(_),n(!1);return}const{data:Q,error:I}=await un.from("projects").select("*");if(I){console.error(" Erro ao buscar projetos:",I),_.error=`Erro ao verificar projetos: ${I.message}`,e(_),n(!1);return}const ee=T||[],ce=H||[],M=Q||[];_.details={profiles:ee.length,users:ce.length,projects:M.length},_.dataExists=ee.length>0&&ce.length>0,console.log(" Dados encontrados:"),console.log(`   Perfis: ${ee.length}`),console.log(`   Usurios: ${ce.length}`),console.log(`   Projetos: ${M.length}`),ee.length>0&&console.log(" Perfis encontrados:",ee.map(te=>({id:te.id,name:te.name}))),ce.length>0&&console.log(" Usurios encontrados:",ce.map(te=>({id:te.id,username:te.username,email:te.email}))),M.length>0&&console.log(" Projetos encontrados:",M.map(te=>({id:te.id,name:te.name}))),_.dataExists||console.log(" Dados no encontrados - banco vazio")}catch(h){console.error(" Erro na verificao:",h),_.error=`Erro inesperado: ${h}`}e(_),n(!1)};ne.useEffect(()=>{c()},[]);const u=()=>r?s.jsx(Zr,{className:"w-5 h-5 text-blue-600 animate-spin"}):t.dataExists?s.jsx(Ut,{className:"w-5 h-5 text-green-600"}):s.jsx(_n,{className:"w-5 h-5 text-red-600"}),p=()=>r?"Verificando conexo...":t.dataExists?"Supabase conectado e funcionando":t.tablesExist?"Conectado, mas sem dados iniciais":t.supabaseConnected?"Conectado, mas tabelas no encontradas":t.supabaseConfigured?"Configurado, mas no conecta":"Supabase no configurado",g=()=>t.dataExists?"text-green-800 bg-green-50 border-green-200":t.supabaseConnected?"text-yellow-800 bg-yellow-50 border-yellow-200":"text-red-800 bg-red-50 border-red-200";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zt,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Status do Banco de Dados"})]}),s.jsx("button",{onClick:c,disabled:r,className:"text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",children:s.jsx(Zr,{className:`w-4 h-4 ${r?"animate-spin":""}`})})]}),s.jsxs("div",{className:`p-3 rounded-lg border ${g()}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u(),s.jsx("span",{className:"font-medium",children:p()})]}),t.error&&s.jsx("p",{className:"text-sm mt-2",children:t.error})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Configurao:"}),s.jsx("span",{className:t.supabaseConfigured?"text-green-600":"text-red-600",children:t.supabaseConfigured?" OK":" Faltando"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Conexo:"}),s.jsx("span",{className:t.supabaseConnected?"text-green-600":"text-red-600",children:t.supabaseConnected?" OK":" Falhou"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Tabelas:"}),s.jsx("span",{className:t.tablesExist?"text-green-600":"text-red-600",children:t.tablesExist?" OK":" No encontradas"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Dados:"}),s.jsx("span",{className:t.dataExists?"text-green-600":"text-yellow-600",children:t.dataExists?" OK":" Vazios"})]})]}),t.details&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Dados Encontrados no Supabase:"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:t.details.profiles}),s.jsx("div",{className:"text-gray-600",children:"Perfis"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:t.details.users}),s.jsx("div",{className:"text-gray-600",children:"Usurios"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:t.details.projects}),s.jsx("div",{className:"text-gray-600",children:"Projetos"})]})]})]}),t.environment&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ns,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Informaes do Ambiente"}),s.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Modo:"})," ",t.environment.mode]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Hostname:"})," ",t.environment.hostname]}),s.jsxs("div",{children:[s.jsx("strong",{children:"URL:"})," ",t.environment.url.substring(0,50),"..."]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Key Length:"})," ",t.environment.keyLength," caracteres"]})]})]})]})}),s.jsx("button",{onClick:()=>a(!i),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:i?"Ocultar detalhes":"Ver detalhes tcnicos"}),i&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs font-mono",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"URL:"})," ",((y=t.environment)==null?void 0:y.url)||"No configurada"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Key:"})," ",(m=t.environment)!=null&&m.keyLength?`${t.environment.keyLength} caracteres`:"No configurada"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Cliente:"})," ","No inicializado"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Modo:"})," ",((b=t.environment)==null?void 0:b.mode)||"unknown"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Hostname:"})," ",((v=t.environment)==null?void 0:v.hostname)||"unknown"]})]}),!t.supabaseConfigured&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Como configurar o Supabase:"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("li",{children:["1. Crie um projeto em ",s.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"supabase.com"})]}),s.jsx("li",{children:"2. V para Settings  API"}),s.jsx("li",{children:"3. Copie Project URL e anon key"}),s.jsx("li",{children:"4. Configure as variveis de ambiente"}),s.jsx("li",{children:"5. Execute o SQL das migrations"})]})]}),t.supabaseConnected&&!t.dataExists&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Banco conectado, mas sem dados:"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"O banco est funcionando, mas no tem os dados iniciais necessrios (usurio admin, perfis, etc.)"})]}),s.jsxs("button",{onClick:()=>l(!o),className:"w-full inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),o?"Ocultar Inicializador":"Inicializar Dados Automaticamente"]})]})]}),o&&t.supabaseConnected&&!t.dataExists&&s.jsx(Ev,{})]})},Sv=()=>{const[t,e]=ne.useState(!1),[r,n]=ne.useState([]),i=async()=>{e(!0);const c=[];try{console.log(" Teste 1: Verificando variveis de ambiente...");const u=void 0,p=void 0;(!u||u==="https://your-project.supabase.co")&&c.push({name:"Variveis de Ambiente",status:"error",message:"VITE_SUPABASE_URL no configurada ou invlida",details:{url:u}}),console.log(" Teste 2: Verificando cliente Supabase..."),un||c.push({name:"Cliente Supabase",status:"error",message:"Cliente Supabase no foi inicializado",details:null})}catch(u){console.error(" Erro nos testes:",u),c.push({name:"Erro Geral",status:"error",message:`Erro inesperado: ${u}`,details:u})}n(c),e(!1)},a=()=>{const c=r.map(u=>`${u.name}: ${u.status.toUpperCase()} - ${u.message}`).join(`
`);navigator.clipboard.writeText(c),alert("Resultados copiados para a rea de transferncia!")},o=c=>{switch(c){case"success":return s.jsx(Ut,{className:"w-5 h-5 text-green-600"});case"error":return s.jsx(Og,{className:"w-5 h-5 text-red-600"});case"warning":return s.jsx(Ni,{className:"w-5 h-5 text-yellow-600"});default:return null}},l=c=>{switch(c){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}};return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zt,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Teste de Conexo Supabase"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Executa uma bateria completa de testes para verificar a conexo"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&s.jsxs("button",{onClick:a,className:"inline-flex items-center px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Copiar Resultados"]}),s.jsx("button",{onClick:i,disabled:t,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Testando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ag,{className:"w-4 h-4 mr-2"}),"Executar Testes"]})})]})]}),r.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Resultados dos Testes:"}),r.map((c,u)=>s.jsx("div",{className:`border rounded-lg p-4 ${l(c.status)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[o(c.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:c.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${c.status==="success"?"bg-green-100 text-green-800":c.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status.toUpperCase()})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:c.message}),c.details&&s.jsxs("details",{className:"text-xs",children:[s.jsx("summary",{className:"cursor-pointer text-gray-500 hover:text-gray-700",children:"Ver detalhes"}),s.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-gray-600 overflow-auto",children:JSON.stringify(c.details,null,2)})]})]})]})},u)),s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Resumo:"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-green-600",children:r.filter(c=>c.status==="success").length}),s.jsx("div",{className:"text-gray-600",children:"Sucessos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-yellow-600",children:r.filter(c=>c.status==="warning").length}),s.jsx("div",{className:"text-gray-600",children:"Avisos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-red-600",children:r.filter(c=>c.status==="error").length}),s.jsx("div",{className:"text-gray-600",children:"Erros"})]})]})]})]}),r.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(zt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:'Clique em "Executar Testes" para verificar a conexo com o Supabase'})]})]})},jv=({onClose:t})=>{const[e,r]=ne.useState(!1),[n,i]=ne.useState(!1),[a,o]=ne.useState(null),[l,c]=ne.useState(null),[u,p]=ne.useState("status"),g=async()=>{r(!0),c(null);try{const v={users:ps(),profiles:gs(),projects:Cn(),analyses:_i(),exportDate:new Date().toISOString(),version:"1.0"},_=JSON.stringify(v,null,2),h=new Blob([_],{type:"application/json"}),x=document.createElement("a");x.href=URL.createObjectURL(h),x.download=`nup-aim-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),c({type:"success",text:"Dados exportados com sucesso! O arquivo foi baixado."})}catch(v){console.error("Erro ao exportar dados:",v),c({type:"error",text:"Erro ao exportar dados. Tente novamente."})}finally{r(!1)}},y=async()=>{if(a){i(!0),c(null);try{const v=await a.text(),_=JSON.parse(v);if(!_.users||!_.profiles||!_.projects||!_.analyses)throw new Error("Arquivo de backup invlido");if(!window.confirm(`Tem certeza que deseja importar os dados?

Este backup contm:
 ${_.users.length} usurios
 ${_.profiles.length} perfis
 ${_.projects.length} projetos
 ${_.analyses.length} anlises

Data do backup: ${new Date(_.exportDate).toLocaleString("pt-BR")}

ATENO: Todos os dados atuais sero substitudos!`)){i(!1);return}localStorage.setItem("nup_aim_users",JSON.stringify(_.users)),localStorage.setItem("nup_aim_profiles",JSON.stringify(_.profiles)),localStorage.setItem("nup_aim_projects",JSON.stringify(_.projects)),localStorage.setItem("impact_analyses",JSON.stringify(_.analyses)),c({type:"success",text:"Dados importados com sucesso! Recarregue a pgina para ver as alteraes."}),setTimeout(()=>{window.location.reload()},3e3)}catch(v){console.error("Erro ao importar dados:",v),c({type:"error",text:"Erro ao importar dados. Verifique se o arquivo  vlido."})}finally{i(!1)}}},b=(()=>{const v=ps(),_=gs(),h=Cn(),x=_i();return{users:v.length,profiles:_.length,projects:h.length,analyses:x.length}})();return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zt,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerenciar Dados do Sistema"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>p("status"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${u==="status"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Status da Conexo"}),s.jsx("button",{onClick:()=>p("test"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${u==="test"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Teste de Conexo"}),s.jsx("button",{onClick:()=>p("backup"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${u==="backup"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Backup e Restaurao"})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[u==="status"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(Nv,{}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-3",children:"Dados Atuais no Sistema (localStorage)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-blue-800",children:b.users}),s.jsx("div",{className:"text-blue-600",children:"Usurios"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-blue-800",children:b.profiles}),s.jsx("div",{className:"text-blue-600",children:"Perfis"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-blue-800",children:b.projects}),s.jsx("div",{className:"text-blue-600",children:"Projetos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-blue-800",children:b.analyses}),s.jsx("div",{className:"text-blue-600",children:"Anlises"})]})]}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"* Estes dados esto salvos localmente no navegador (localStorage)"})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ni,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:"Importante sobre o localStorage"}),s.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[s.jsx("li",{children:" Os dados ficam salvos apenas no navegador atual"}),s.jsx("li",{children:" Cada navegador/dispositivo tem seus prprios dados"}),s.jsx("li",{children:" Para usar o banco de dados Supabase, configure as variveis de ambiente"}),s.jsx("li",{children:' Use a aba "Backup e Restaurao" para transferir dados entre navegadores'})]})]})]})})]}),u==="test"&&s.jsx("div",{className:"space-y-6",children:s.jsx(Sv,{})}),u==="backup"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Exportar Dados"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Faa backup de todos os dados do sistema (usurios, perfis, projetos e anlises) para um arquivo JSON que pode ser importado em outro navegador ou dispositivo."}),s.jsx("button",{onClick:g,disabled:e,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Exportando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_o,{className:"w-4 h-4 mr-2"}),"Exportar Dados"]})})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Importar Dados"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Restaure dados de um arquivo de backup.",s.jsx("strong",{className:"text-red-600",children:" ATENO: Todos os dados atuais sero substitudos!"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{children:s.jsx("input",{type:"file",accept:".json",onChange:v=>{var _;return o(((_=v.target.files)==null?void 0:_[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})}),a&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Arquivo selecionado: ",s.jsx("strong",{children:a.name})]}),s.jsx("button",{onClick:y,disabled:!a||n,className:"inline-flex items-center px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(eo,{className:"w-4 h-4 mr-2"}),"Importar Dados"]})})]})]}),l&&s.jsx("div",{className:`p-4 rounded-lg border ${l.type==="success"?"bg-green-50 border-green-200":l.type==="error"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[l.type==="success"&&s.jsx(Ut,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),l.type==="error"&&s.jsx(Ni,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),l.type==="info"&&s.jsx(zt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:`text-sm ${l.type==="success"?"text-green-800":l.type==="error"?"text-red-800":"text-blue-800"}`,children:l.text})]})})]})]})]})})};var rt=[];for(var hl=0;hl<256;++hl)rt.push((hl+256).toString(16).slice(1));function _v(t,e=0){return(rt[t[e+0]]+rt[t[e+1]]+rt[t[e+2]]+rt[t[e+3]]+"-"+rt[t[e+4]]+rt[t[e+5]]+"-"+rt[t[e+6]]+rt[t[e+7]]+"-"+rt[t[e+8]]+rt[t[e+9]]+"-"+rt[t[e+10]]+rt[t[e+11]]+rt[t[e+12]]+rt[t[e+13]]+rt[t[e+14]]+rt[t[e+15]]).toLowerCase()}var ea,Cv=new Uint8Array(16);function kv(){if(!ea&&(ea=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ea))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ea(Cv)}var Av=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Qf={randomUUID:Av};function Xt(t,e,r){if(Qf.randomUUID&&!t)return Qf.randomUUID();t=t||{};var n=t.random||(t.rng||kv)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_v(n)}const wn={ptFieldNames:["nome","email","telefone","endereo","cidade","estado","cep","cpf","rg","data","nascimento","sexo","gnero","profisso","empresa","cargo","salrio","observaes","senha","confirmar","cdigo","descrio","ttulo","subttulo","categoria","status","prioridade","anexo","url","site"],enFieldNames:["name","email","phone","address","city","state","zip","ssn","id","date","birth","gender","sex","occupation","company","position","salary","notes","password","confirm","code","description","title","subtitle","category","status","priority","attachment","url","website"],fieldIndicators:["campo","field","input","entrada","formulrio","form","label","rotulo"],requiredIndicators:["*","obrigatrio","required","mandatory"],inputIndicators:["informe","digite","preencha","insira","fornea","entre com","informar","digitar","preencher","inserir","fornecer","entrar com","obrigatrio","enter","input","fill","provide","type","required","mandatory"],outputIndicators:["calculado","retornado","resultado","total","valor final","subtotal","gerado","processado","computed","calculated","returned","result","generated","processed","output","display","shown","presented"]},Xs=t=>{if(!t)return[];const e=[];try{console.log(" DEBUG - extractFieldsFromData - Dados recebidos:",t.substring(0,100)+"...");try{if(t.includes("IMAGE_DATA:")&&(t=t.split(`
`).filter(o=>!o.startsWith("IMAGE_DATA:")).join(`
`)),t.trim().startsWith("{")||t.trim().startsWith("[")){const i=JSON.parse(t);if(console.log(" DEBUG - extractFieldsFromData - Dados JSON parseados:",i),Array.isArray(i)&&i.length>0&&i[0].id&&i[0].name&&i[0].type)return console.log(" DEBUG - extractFieldsFromData - Retornando array de campos diretamente:",i.length),i;au(i,"",e)}}catch(i){console.log(" DEBUG - extractFieldsFromData - Erro ao analisar JSON:",i)}Tv(t,e),Iv(t,e);const r=Mg(e);console.log(" DEBUG - extractFieldsFromData - Campos aps deduplicate:",r.length);const n=r.map(i=>{const a=kt(i.name,i.description||""),o=ou(i.type,i.complexity);return{...i,fpValue:o,fieldCategory:a}});return console.log(" DEBUG - extractFieldsFromData - Campos finais com FP:",n.length),n}catch(r){return console.error("Error extracting fields:",r),[]}},au=(t,e,r)=>{t&&typeof t=="object"&&Object.entries(t).forEach(([n,i])=>{const a=e?`${e}.${n}`:n;if(!(n.startsWith("_")||n==="id"||n==="key")){if(typeof i=="object"&&i!==null&&!Array.isArray(i))if(i.type||i.label||i.name){const o=i.label||i.name||n,l=Xr(i.type,o),c=!!i.required,u=kt(o,i.description||i.placeholder||"");r.push({id:Xt(),name:o,type:l,required:c,description:i.description||i.placeholder||`Campo ${o}`,complexity:Sr(l,o),fpValue:0,source:"JSON",fieldCategory:u})}else au(i,a,r);else if(Array.isArray(i))i.length>0&&typeof i[0]=="object"&&(i[0].type||i[0].label||i[0].name)?i.forEach(o=>{const l=o.label||o.name||n,c=Xr(o.type,l),u=!!o.required,p=kt(l,o.description||o.placeholder||"");r.push({id:Xt(),name:l,type:c,required:u,description:o.description||o.placeholder||`Campo ${l}`,complexity:Sr(c,l),fpValue:0,source:"JSON Array",fieldCategory:p})}):i.forEach((o,l)=>{au(o,`${a}[${l}]`,r)});else if(typeof i=="string"&&so(n)){const o=Xr("",n),l=kt(n,i);r.push({id:Xt(),name:ja(n),type:o,required:!1,complexity:Sr(o,n),fpValue:0,source:"JSON Property",fieldCategory:l})}}})},Tv=(t,e)=>{const r=/<input[^>]*>/gi;let n;for(;(n=r.exec(t))!==null;){const l=n[0],c=l.match(/type=["']([^"']+)["']/i),u=c?c[1]:"text",p=l.match(/(?:name|id)=["']([^"']+)["']/i),g=p?p[1]:`campo_${e.length+1}`,y=l.includes("required"),m=l.match(/placeholder=["']([^"']+)["']/i),b=m?m[1]:"",v=kt(g,b);e.push({id:Xt(),name:ja(g),type:Bg(u),required:y,description:b,complexity:Sr(u,g),fpValue:0,source:"HTML",fieldCategory:v})}const i=/<select[^>]*>[\s\S]*?<\/select>/gi;for(;(n=i.exec(t))!==null;){const l=n[0],c=l.match(/(?:name|id)=["']([^"']+)["']/i),u=c?c[1]:`select_${e.length+1}`,p=l.includes("required"),g=(l.match(/<option[^>]*>/gi)||[]).length,y=kt(u,"");e.push({id:Xt(),name:ja(u),type:"select",required:p,description:`Select com ${g} opes`,complexity:g>10?"High":g>5?"Average":"Low",fpValue:0,source:"HTML",fieldCategory:y})}const a=/<textarea[^>]*>[\s\S]*?<\/textarea>/gi;for(;(n=a.exec(t))!==null;){const l=n[0],c=l.match(/(?:name|id)=["']([^"']+)["']/i),u=c?c[1]:`textarea_${e.length+1}`,p=l.includes("required"),g=l.match(/placeholder=["']([^"']+)["']/i),y=g?g[1]:"",m=kt(u,y);e.push({id:Xt(),name:ja(u),type:"textarea",required:p,description:y,complexity:"High",fpValue:0,source:"HTML",fieldCategory:m})}const o=/<label[^>]*>[\s\S]*?<\/label>/gi;for(;(n=o.exec(t))!==null;){const l=n[0],c=l.match(/for=["']([^"']+)["']/i),u=c?c[1]:null,p=l.match(/>([^<]+)</),g=p?p[1].trim():"";if(g){if(u){const y=e.find(m=>m.name.toLowerCase()===u.toLowerCase());y&&(y.name=g,y.fieldCategory=kt(g,y.description||""))}else if(so(g)){const y=Xr("",g),m=kt(g,"");e.push({id:Xt(),name:g,type:y,required:g.includes("*"),complexity:Sr(y,g),fpValue:0,source:"HTML Label",fieldCategory:m})}}}},Iv=(t,e)=>{t.split(`
`).forEach(n=>{if(n=n.trim(),!n||n.length<3)return;const i=wn.fieldIndicators.some(l=>n.toLowerCase().includes(l)),a=so(n);if(i||a){let l=n;l=l.replace(/^(campo|field|input|label|rotulo)[\s:]+/i,"");const c=wn.requiredIndicators.some(u=>l.includes(u));if(wn.requiredIndicators.forEach(u=>{l=l.replace(u,"")}),l=l.replace(/[:*]$/,"").trim(),l){const u=Xr("",l),p=kt(l,"");e.push({id:Xt(),name:l,type:u,required:c,complexity:Sr(u,l),fpValue:0,source:"Text",fieldCategory:p})}}const o=n.match(/^([^:]+):\s*(.+)$/);if(o){const l=o[1].trim(),c=o[2].trim();if(so(l)&&!Pv(l)){const u=Xr("",l),p=kt(l,c);e.push({id:Xt(),name:l,type:u,required:l.includes("*"),description:c,complexity:Sr(u,l),fpValue:0,source:"Text KeyValue",fieldCategory:p})}}})},so=t=>{const e=t.toLowerCase();return!!(wn.ptFieldNames.some(r=>e.includes(r))||wn.enFieldNames.some(r=>e.includes(r))||e.includes("campo de")||e.includes("field for")||e.includes(":")&&e.length<50||/^[a-z][a-zA-Z0-9]*([A-Z][a-zA-Z0-9]*)*$/.test(t)||/^[a-z][a-z0-9]*(_[a-z0-9]+)*$/.test(t))},Pv=t=>{const e=["cancelar","aes","ajuda","voltar","menu","visualizar","arquivo","configurao","administrao","painel","verso","sair","entrar","salvar","editar","excluir","novo","pesquisar","filtrar","ordenar","imprimir","exportar","importar","atualizar","fechar","abrir","copyright","todos os direitos","desenvolvido por","powered by","pgina","de","prximo","anterior","primeiro","ltimo","topo","rodap","cabealho","sistema","aplicao","app","verso","v.","login","logout","senha","usurio","esqueci","lembrar","manter","conectado","registrar","cadastrar","criar conta","entrar com","cancel","actions","help","back","menu","view","file","configuration","administration","dashboard","version","exit","enter","save","edit","delete","new","search","filter","sort","print","export","import","update","close","open","copyright","all rights","developed by","powered by","page","of","next","previous","first","last","top","footer","header","system","application","app","version","v.","login","logout","password","username","forgot","remember","keep","connected","register","sign up","create account","sign in with"],r=t.toLowerCase();return e.some(n=>r.includes(n))},ja=t=>{let e=t.replace(/([A-Z])/g," $1");return e=e.replace(/_/g," "),e=e.charAt(0).toUpperCase()+e.slice(1),e.trim()},Bg=t=>({text:"text",password:"text",email:"email",tel:"text",number:"number",date:"date","datetime-local":"date",time:"text",checkbox:"checkbox",radio:"radio",file:"file",url:"url",search:"text",color:"text",range:"number",hidden:"text"})[t.toLowerCase()]||"text",Xr=(t,e)=>{if(t)return Bg(t);const r=e.toLowerCase();return r.includes("email")?"email":r.includes("senha")||r.includes("password")?"text":r.includes("data")||r.includes("date")||r.includes("nascimento")?"date":r.includes("nmero")||r.includes("number")||r.includes("quantidade")||r.includes("quantity")||r.includes("valor")||r.includes("amount")||r.includes("preo")||r.includes("price")?"number":r.includes("descrio")||r.includes("description")||r.includes("observao")||r.includes("observation")||r.includes("comentrio")||r.includes("comment")||r.includes("mensagem")||r.includes("message")?"textarea":r.includes("aceito")||r.includes("accept")||r.includes("concordo")||r.includes("agree")||r.includes("lembrar")||r.includes("remember")?"checkbox":r.includes("sexo")||r.includes("gender")||r.includes("opo")||r.includes("option")?"radio":r.includes("estado")||r.includes("state")||r.includes("pas")||r.includes("country")||r.includes("categoria")||r.includes("category")||r.includes("tipo")||r.includes("type")||r.includes("status")?"select":r.includes("arquivo")||r.includes("file")||r.includes("anexo")||r.includes("attachment")||r.includes("upload")?"file":r.includes("url")||r.includes("site")||r.includes("website")||r.includes("link")?"url":"text"},Sr=(t,e)=>{if(["file","textarea"].includes(t))return"High";if(["date","select","email","url","number"].includes(t))return"Average";const r=e.toLowerCase();return r.includes("cpf")||r.includes("cnpj")||r.includes("password")||r.includes("senha")||r.includes("completo")||r.includes("complete")?"High":r.length>20||r.includes(" ")?"Average":"Low"},ou=(t,e)=>["text","email","number","date","checkbox","radio","file","url"].includes(t)?e==="Low"?3:e==="Average"?4:6:["textarea","select"].includes(t)?e==="Low"?4:e==="Average"?5:7:4,kt=(t,e)=>{const r=t.toLowerCase(),n=e.toLowerCase();return wn.inputIndicators.some(o=>r.includes(o)||n.includes(o))?"entrada":wn.outputIndicators.some(o=>r.includes(o)||n.includes(o))||r.includes("total")||r.includes("subtotal")||r.includes("resultado")||r.includes("result")||r.includes("calculado")||r.includes("calculated")||r.includes("gerado")||r.includes("generated")||r.includes("status")||r.includes("situao")?"saida":r.includes("digite")||r.includes("informe")||r.includes("preencha")||r.includes("enter")||r.includes("input")||r.includes("fill")||r.endsWith("?")||r.includes("obrigatrio")||r.includes("required")||r.includes("nome")||r.includes("name")||r.includes("email")||r.includes("telefone")||r.includes("phone")||r.includes("endereo")||r.includes("address")||r.includes("cpf")||r.includes("cnpj")||r.includes("rg")||r.includes("data")&&!r.includes("atualizao")||r.includes("date")&&!r.includes("update")?"entrada":r.includes("cdigo")||r.includes("code")||r.includes("id")||r.includes("nmero")&&r.includes("pedido")||r.includes("number")&&r.includes("order")||r.includes("criado em")||r.includes("created at")||r.includes("atualizado em")||r.includes("updated at")||r.includes("verso")||r.includes("version")?"saida":"neutro"},Mg=t=>{const e=[],r=new Set;return t.forEach(n=>{const i=n.name.toLowerCase();r.has(i)||(r.add(i),e.push(n))}),e},Rv=t=>{const e={EI:{low:0,average:0,high:0,total:0,fp:0},EO:{low:0,average:0,high:0,total:0,fp:0},EQ:{low:0,average:0,high:0,total:0,fp:0},ILF:{low:0,average:0,high:0,total:0,fp:0},EIF:{low:0,average:0,high:0,total:0,fp:0}};t.forEach(n=>{let i;n.fieldCategory==="entrada"||["text","email","number","date","checkbox","radio","file","url"].includes(n.type)?i="EI":n.fieldCategory==="saida"||["textarea"].includes(n.type)?i="EO":i="EQ",n.complexity==="Low"?e[i].low++:n.complexity==="Average"?e[i].average++:e[i].high++,e[i].total++}),e.EI.fp=e.EI.low*3+e.EI.average*4+e.EI.high*6,e.EO.fp=e.EO.low*4+e.EO.average*5+e.EO.high*7,e.EQ.fp=e.EQ.low*3+e.EQ.average*4+e.EQ.high*6,e.ILF.fp=e.ILF.low*7+e.ILF.average*10+e.ILF.high*15,e.EIF.fp=e.EIF.low*5+e.EIF.average*7+e.EIF.high*10;const r=e.EI.fp+e.EO.fp+e.EQ.fp+e.ILF.fp+e.EIF.fp;return{totalFields:t.length,totalFunctionPoints:r,fields:t,detailedBreakdown:e}},Ug=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"&&!window.location.hostname.includes("webcontainer"),Jf=Ug?"/.netlify/functions/vision-ocr":"/api/vision-ocr",Ov=Ug?"/.netlify/functions/extract-fields":"/api/extract-fields",Fv="/api/gemini-extract",zg=async t=>{var e,r,n;try{const i=t.length*.75;console.log(" ETAPA 2 - ENVIO PARA API DE OCR: Iniciando envio da imagem para API de OCR"),console.log("   Mtodo: POST"),console.log(`   URL: ${Jf}`),console.log("   Headers: Content-Type: application/json"),console.log('   Corpo: { "imageBase64": "[BASE64_STRING_TRUNCADA]" }'),console.log(`   Tamanho da imagem: ${Math.round(i/1024)} KB`);const a=performance.now(),o=await fetch(Jf,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:t})}),l=performance.now();if(console.log(` ETAPA 2 - ENVIO PARA API DE OCR: Resposta recebida em ${Math.round(l-a)}ms: status ${o.status}`),!o.ok){const u=await o.text();throw console.log(` ETAPA 2 - ENVIO PARA API DE OCR: Erro na API de OCR (${o.status})`,{error:u}),new Error(`Erro ao conectar a API de OCR: ${o.status} ${o.statusText}`)}const c=await o.json();if(!c.success)throw console.log(" ETAPA 2 - ENVIO PARA API DE OCR: API retornou erro",{error:c.error||"Erro desconhecido"}),new Error(c.error||"Erro ao conectar a API de OCR");return console.log(" ETAPA 2 - ENVIO PARA API DE OCR: OCR concludo com sucesso"),console.log(`   Elementos de texto: ${((e=c.textElements)==null?void 0:e.length)||0}`),console.log(`   Texto completo: ${(r=c.fullText)==null?void 0:r.substring(0,100)}${((n=c.fullText)==null?void 0:n.length)>100?"...":""}`),c.textElements||[]}catch(i){throw console.log(" ETAPA 2 - ENVIO PARA API DE OCR: Erro crtico na chamada da API de OCR",i),new Error("Erro ao conectar a API de OCR")}},Dv=async t=>{try{const r=(await zg(t)).map(l=>l.text).join(`
`);if(!r||r.length<10)throw new Error("Texto extrado  insuficiente para extrao de campos");console.log(` ETAPA 2 - ENVIO PARA API DE OCR: Texto extrado com ${r.length} caracteres. Enviando para API de Extrao...`),console.log(`   Amostra do texto extrado: "${r.substring(0,100)}${r.length>100?"...":""}"`);const n=performance.now(),i=await fetch(Ov,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:r})}),a=performance.now();console.log(` ETAPA 2 - ENVIO PARA API DE OCR: Resposta da API de Extrao recebida em ${Math.round(a-n)}ms: status ${i.status}`);const o=await i.json();if(!i.ok||o.status!=="success")throw console.log(" ETAPA 2 - ENVIO PARA API DE OCR: Erro na API de Extrao",o),new Error(o.message||"Erro na extrao");if(console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Extrao de campos concluda com sucesso"),o.campos){const l=Object.keys(o.campos).filter(p=>!p.endsWith("_categoria")).length;console.log(`   Total de campos extrados: ${l}`),console.log(`   Fonte de extrao: ${o.fonte||"Desconhecida"}`);const c={entrada:0,saida:0,neutro:0};Object.keys(o.campos).forEach(p=>{if(p.endsWith("_categoria")){const g=o.campos[p];(g==="entrada"||g==="saida"||g==="neutro")&&(c[g]=(c[g]||0)+1)}}),console.log("   Distribuio por categoria:"),console.log(`   - Entrada: ${c.entrada||0}`),console.log(`   - Sada: ${c.saida||0}`),console.log(`   - Neutro: ${c.neutro||0}`);const u=Object.keys(o.campos).filter(p=>!p.endsWith("_categoria")).slice(0,5);u.length>0&&(console.log("   Exemplos de campos extrados:"),u.forEach(p=>{const g=o.campos[`${p}_categoria`]||"neutro";console.log(`   - ${p}: "${o.campos[p]}" (${g})`)}),Object.keys(o.campos).filter(p=>!p.endsWith("_categoria")).length>5&&console.log(`   - ... e mais ${Object.keys(o.campos).filter(p=>!p.endsWith("_categoria")).length-5} campos`))}return o}catch(e){return console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Erro crtico na chamada da API de Extrao",e),null}},$g=async t=>{try{const e=t.length*.75,r=t.startsWith("data:image/png")?"image/png":t.startsWith("data:image/jpeg")?"image/jpeg":t.startsWith("data:image/")?t.split(";")[0].replace("data:",""):"image/unknown";console.log(" ETAPA 1 - CAPTURA E SELEO DE IMAGEM: Componente ImageFieldExtractor capturou imagem"),console.log(`   Formato: ${r}`),console.log(`   Tamanho aproximado: ${Math.round(e/1024)} KB`);let n=[];try{console.log(" ETAPA 2 - TENTANDO EXTRAO COM GEMINI AI (mtodo preferencial)...");const c=performance.now(),u=await fetch(Fv,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:t})}),p=performance.now();if(console.log(` Gemini API respondeu em ${Math.round(p-c)}ms: status ${u.status}`),u.ok){const g=await u.json();if(g.success&&g.fields&&g.fields.length>0){console.log(` Gemini extraiu ${g.fields.length} campos com sucesso!`),n=g.fields.map(m=>{const b={id:m.id,name:m.name,type:m.type,required:m.required,description:m.description,complexity:m.complexity,fpValue:m.fpValue,source:"Gemini AI",fieldCategory:m.fieldCategory,confidence:m.confidence,position:void 0};return console.log(`    Campo: ${m.name}  Categoria: ${m.fieldCategory||"undefined"}`),b});const y={entrada:n.filter(m=>m.fieldCategory==="entrada").length,neutro:n.filter(m=>m.fieldCategory==="neutro").length,derivado:n.filter(m=>m.fieldCategory==="derivado").length,outros:n.filter(m=>!m.fieldCategory||m.fieldCategory!=="entrada"&&m.fieldCategory!=="neutro"&&m.fieldCategory!=="derivado").length};return console.log(" ETAPA 3 - CAMPOS EXTRADOS COM GEMINI:"),console.log(`   Total de campos: ${n.length}`),console.log("   Distribuio por categoria:"),console.log(`   - Entrada: ${y.entrada}`),console.log(`   - Neutro: ${y.neutro}`),console.log(`   - Derivado: ${y.derivado}`),n}else console.log(" Gemini retornou resposta vazia ou sem campos")}else{const g=await u.text();console.log(` Gemini API retornou erro ${u.status}: ${g}`)}}catch(c){console.log(` Gemini falhou: ${c.message}. Tentando fallback com OCR+Regex...`)}console.log(" ETAPA 2 - FALLBACK: Usando mtodo OCR+Regex...");const i=await Dv(t);if(i&&i.status==="success"&&i.campos&&Object.keys(i.campos).length>0)console.log(` ETAPA 3 - CAMPOS RETORNADOS DA API: Processando ${Object.keys(i.campos).filter(c=>!c.endsWith("_categoria")).length} campos extrados`),n=Object.entries(i.campos).filter(([c])=>!c.endsWith("_categoria")).map(([c,u])=>{const p=Xr("",c),g=Sr(p,c),y=ou(p,g),m=i.campos[`${c}_categoria`]||kt(c,u);return{id:Xt(),name:c,type:p,required:!1,description:`Campo extrado via ${i.fonte} (valor: ${u})`,complexity:g,fpValue:y,source:i.fonte,fieldCategory:m,confidence:.9,position:void 0}});else{console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Extrao via API falhou. Realizando OCR local");const c=await zg(t);console.log(` ETAPA 3 - CAMPOS RETORNADOS DA API: OCR local concludo com ${c.length} elementos de texto`),n=c.map(u=>{const p=Xr("",u.text),g=Sr(p,u.text),y=ou(p,g),m=kt(u.text,"");return{id:Xt(),name:u.text,type:p,required:!1,description:`Campo identificado por OCR com ${Math.round((u.confidence||.8)*100)}% de confiana`,complexity:g,fpValue:y,source:"Google Cloud Vision",confidence:u.confidence,fieldCategory:m,position:u.boundingBox}})}const o=Mg(n).filter(c=>!Lv(c.name)),l={entrada:o.filter(c=>c.fieldCategory==="entrada").length,saida:o.filter(c=>c.fieldCategory==="saida").length,neutro:o.filter(c=>c.fieldCategory==="neutro"||!c.fieldCategory).length,derivado:o.filter(c=>c.fieldCategory==="derivado").length};return console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Processamento final concludo"),console.log(`   Total de campos: ${o.length}`),console.log("   Distribuio por categoria:"),console.log(`   - Entrada: ${l.entrada}`),console.log(`   - Sada: ${l.saida}`),console.log(`   - Neutro: ${l.neutro}`),console.log(`   - Derivado: ${l.derivado}`),o}catch(e){return console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Erro durante extrao de campos",e),[]}},Lv=t=>{const e=["cancelar","aes","ajuda","voltar","menu","visualizar","arquivo","configurao","administrao","painel","verso","sair","entrar","salvar","editar","excluir","novo","pesquisar","filtrar","ordenar","imprimir","exportar","importar","atualizar","fechar","abrir","copyright","todos os direitos","desenvolvido por","powered by","pgina","de","prximo","anterior","primeiro","ltimo","topo","rodap","cabealho","sistema","aplicao","app","verso","v.","login","logout","senha","usurio","esqueci","lembrar","manter","conectado","registrar","cadastrar","criar conta","entrar com","cancel","actions","help","back","menu","view","file","configuration","administration","dashboard","version","exit","enter","save","edit","delete","new","search","filter","sort","print","export","import","update","close","open","copyright","all rights","developed by","powered by","page","of","next","previous","first","last","top","footer","header","system","application","app","version","v.","login","logout","password","username","forgot","remember","keep","connected","register","sign up","create account","sign in with"],r=t.toLowerCase();return e.some(n=>r.includes(n))},hd=({screenshotData:t,processId:e,onClose:r,onSaveAnalysis:n})=>{const[i,a]=ne.useState([]),[o,l]=ne.useState(null),[c,u]=ne.useState(!1),[p,g]=ne.useState("fields"),[y,m]=ne.useState(""),[b,v]=ne.useState("all"),[_,h]=ne.useState("all"),[x,w]=ne.useState("all"),[T,P]=ne.useState(!1),[H,W]=ne.useState(!1),[Q,I]=ne.useState([]),ee=(C,G)=>{const re=`[${new Date().toISOString().split("T")[1].split(".")[0]}]  FieldExtractorModal: ${C}`;console.log(re,G),I(K=>[...K,G?`${re} ${JSON.stringify(G)}`:re])};ne.useEffect(()=>{ce()},[t]);const ce=async()=>{u(!0),ee("Iniciando extrao de campos a partir dos dados fornecidos");try{let C=[];try{ee("Tentando analisar dados como JSON"),console.log(" DEBUG - FieldExtractorModal - screenshotData:",t),C=JSON.parse(t),ee(`Dados JSON analisados com sucesso, encontrados ${C.length} campos`),console.log(" DEBUG - FieldExtractorModal - fieldsData aps JSON.parse:",C)}catch(q){ee("Falha ao analisar como JSON, tentando extrair campos do texto",q),console.log(" DEBUG - FieldExtractorModal - Erro ao analisar JSON:",q),C=Xs(t),ee(`Extrao de texto concluda, encontrados ${C.length} campos`),console.log(" DEBUG - FieldExtractorModal - fieldsData aps extractFieldsFromData:",C)}a(C),ee("Iniciando anlise de pontos de funo");const G=Rv(C);ee(`Anlise de pontos de funo concluda: ${G.totalFunctionPoints} pontos totais`),l(G)}catch(C){console.error("Error extracting fields:",C),ee("Erro durante a extrao de campos",C)}finally{u(!1)}},M=C=>{switch(C){case"text":return s.jsx("span",{className:"text-blue-600",children:"Aa"});case"number":return s.jsx("span",{className:"text-green-600",children:"123"});case"date":return s.jsx("span",{className:"text-purple-600",children:""});case"select":return s.jsx("span",{className:"text-orange-600",children:""});case"checkbox":return s.jsx("span",{className:"text-teal-600",children:""});case"radio":return s.jsx("span",{className:"text-red-600",children:""});case"file":return s.jsx("span",{className:"text-gray-600",children:""});case"email":return s.jsx("span",{className:"text-indigo-600",children:""});case"url":return s.jsx("span",{className:"text-cyan-600",children:""});case"textarea":return s.jsx("span",{className:"text-amber-600",children:""});default:return s.jsx("span",{className:"text-gray-600",children:"?"})}},te=C=>{switch(C){case"Low":return"text-green-600";case"Average":return"text-yellow-600";case"High":return"text-red-600";default:return"text-gray-600"}},A=C=>{switch(C){case"entrada":return"bg-blue-100 text-blue-800";case"saida":return"bg-purple-100 text-purple-800";case"neutro":return"bg-gray-100 text-gray-800";case"derivado":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V=C=>{switch(C){case"entrada":return"Entrada";case"saida":return"Sada";case"neutro":return"Neutro";case"derivado":return"Derivado";default:return"No classificado"}},Y=i.filter(C=>{const G=C.name.toLowerCase().includes(y.toLowerCase())||(C.description||"").toLowerCase().includes(y.toLowerCase()),q=b==="all"||C.type===b,re=_==="all"||C.complexity===_,K=x==="all"||C.fieldCategory===x;return G&&q&&re&&K});console.log(" DEBUG - FieldExtractorModal - filteredFields:",Y);const D=()=>{if(!i.length)return;const C=["Name","Type","Complexity","FP Value","Category","Source","Description"],G=i.map(N=>[N.name,N.type,N.complexity,N.fpValue.toString(),N.fieldCategory||"neutro",N.source,N.description||""]),q=[C.join(","),...G.map(N=>N.map(X=>`"${X.replace(/"/g,'""')}"`).join(","))].join(`
`),re=new Blob([q],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(re),j=document.createElement("a");j.href=K,j.download=`function-point-fields-${e}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),ee("Dados exportados para CSV")},U=C=>{navigator.clipboard.writeText(C),P(!0),setTimeout(()=>P(!1),2e3),ee("Contedo copiado para a rea de transferncia")},R=()=>o?`# Function Point Analysis Report
Generated: ${new Date().toLocaleString()}

## Summary
- Total Fields Identified: ${o.totalFields}
- Total Function Points: ${o.totalFunctionPoints}

## Field Categories
- Input Fields (EI): ${o.detailedBreakdown.EI.total} (${o.detailedBreakdown.EI.fp} FP)
- Output Fields (EO): ${o.detailedBreakdown.EO.total} (${o.detailedBreakdown.EO.fp} FP)
- Query Fields (EQ): ${o.detailedBreakdown.EQ.total} (${o.detailedBreakdown.EQ.fp} FP)

## Detailed Breakdown

### External Inputs (EI)
- Low: ${o.detailedBreakdown.EI.low}  3 = ${o.detailedBreakdown.EI.low*3} FP
- Average: ${o.detailedBreakdown.EI.average}  4 = ${o.detailedBreakdown.EI.average*4} FP
- High: ${o.detailedBreakdown.EI.high}  6 = ${o.detailedBreakdown.EI.high*6} FP
- Total EI: ${o.detailedBreakdown.EI.total} (${o.detailedBreakdown.EI.fp} FP)

### External Outputs (EO)
- Low: ${o.detailedBreakdown.EO.low}  4 = ${o.detailedBreakdown.EO.low*4} FP
- Average: ${o.detailedBreakdown.EO.average}  5 = ${o.detailedBreakdown.EO.average*5} FP
- High: ${o.detailedBreakdown.EO.high}  7 = ${o.detailedBreakdown.EO.high*7} FP
- Total EO: ${o.detailedBreakdown.EO.total} (${o.detailedBreakdown.EO.fp} FP)

### External Inquiries (EQ)
- Low: ${o.detailedBreakdown.EQ.low}  3 = ${o.detailedBreakdown.EQ.low*3} FP
- Average: ${o.detailedBreakdown.EQ.average}  4 = ${o.detailedBreakdown.EQ.average*4} FP
- High: ${o.detailedBreakdown.EQ.high}  6 = ${o.detailedBreakdown.EQ.high*6} FP
- Total EQ: ${o.detailedBreakdown.EQ.total} (${o.detailedBreakdown.EQ.fp} FP)

### Internal Logical Files (ILF)
- Low: ${o.detailedBreakdown.ILF.low}  7 = ${o.detailedBreakdown.ILF.low*7} FP
- Average: ${o.detailedBreakdown.ILF.average}  10 = ${o.detailedBreakdown.ILF.average*10} FP
- High: ${o.detailedBreakdown.ILF.high}  15 = ${o.detailedBreakdown.ILF.high*15} FP
- Total ILF: ${o.detailedBreakdown.ILF.total} (${o.detailedBreakdown.ILF.fp} FP)

### External Interface Files (EIF)
- Low: ${o.detailedBreakdown.EIF.low}  5 = ${o.detailedBreakdown.EIF.low*5} FP
- Average: ${o.detailedBreakdown.EIF.average}  7 = ${o.detailedBreakdown.EIF.average*7} FP
- High: ${o.detailedBreakdown.EIF.high}  10 = ${o.detailedBreakdown.EIF.high*10} FP
- Total EIF: ${o.detailedBreakdown.EIF.total} (${o.detailedBreakdown.EIF.fp} FP)

## Field Details

${o.fields.map(C=>`- ${C.name} (${C.type}, ${C.complexity}, ${C.fieldCategory||"neutro"}): ${C.fpValue} FP`).join(`
`)}

## Notes
- This analysis follows the IFPUG Function Point Counting Practices Manual
- Complexity ratings are based on field type and characteristics
- Function point values are assigned according to standard IFPUG weights
- Fields are classified as Input (EI), Output (EO), or Query (EQ)
`:"",J=()=>o?`=== DADOS EXTRADOS POR IA ===
Processo Elementar: EI (External Input)
Complexidade: ${o.detailedBreakdown.EI.high>o.detailedBreakdown.EI.average+o.detailedBreakdown.EI.low?"High":o.detailedBreakdown.EI.low>o.detailedBreakdown.EI.average+o.detailedBreakdown.EI.high?"Low":"Average"}
Total de Pontos de Funo: ${o.totalFunctionPoints}

Campos Identificados:
${i.slice(0,20).map(C=>`- ${C.name} (${C.type}, ${C.complexity}, ${V(C.fieldCategory)}): ${C.fpValue} FP`).join(`
`)}
${i.length>20?`
... e mais ${i.length-20} campos`:""}

Distribuio por Categoria:
- Campos de Entrada (EI): ${o.detailedBreakdown.EI.total} (${o.detailedBreakdown.EI.fp} PF)
- Campos de Sada (EO): ${o.detailedBreakdown.EO.total} (${o.detailedBreakdown.EO.fp} PF)
- Campos de Consulta (EQ): ${o.detailedBreakdown.EQ.total} (${o.detailedBreakdown.EQ.fp} PF)`:"",F=()=>{n&&o&&(n(J()),W(!0),setTimeout(()=>W(!1),2e3),ee("Anlise salva no detalhamento"))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zt,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Anlise de Pontos de Funo"})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>g("fields"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${p==="fields"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Campos Extrados"}),s.jsx("button",{onClick:()=>g("analysis"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${p==="analysis"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Anlise de Pontos de Funo"}),s.jsx("button",{onClick:()=>g("export"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${p==="export"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Exportar Relatrio"})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:c?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Extraindo campos e analisando pontos de funo..."})]}):s.jsxs(s.Fragment,{children:[p==="fields"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ig,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Buscar campos...",value:y,onChange:C=>m(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("div",{children:s.jsxs("select",{value:b,onChange:C=>v(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todos os Tipos"}),s.jsx("option",{value:"text",children:"Texto"}),s.jsx("option",{value:"number",children:"Nmero"}),s.jsx("option",{value:"date",children:"Data"}),s.jsx("option",{value:"select",children:"Select"}),s.jsx("option",{value:"checkbox",children:"Checkbox"}),s.jsx("option",{value:"radio",children:"Radio"}),s.jsx("option",{value:"file",children:"Arquivo"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"url",children:"URL"}),s.jsx("option",{value:"textarea",children:"rea de Texto"})]})}),s.jsx("div",{children:s.jsxs("select",{value:_,onChange:C=>h(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todas as Complexidades"}),s.jsx("option",{value:"Low",children:"Baixa"}),s.jsx("option",{value:"Average",children:"Mdia"}),s.jsx("option",{value:"High",children:"Alta"})]})}),s.jsx("div",{children:s.jsxs("select",{value:x,onChange:C=>w(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todas as Categorias"}),s.jsx("option",{value:"entrada",children:"Entrada"}),s.jsx("option",{value:"saida",children:"Sada"}),s.jsx("option",{value:"neutro",children:"Neutro"})]})})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(ns,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Campos Extrados Automaticamente"}),s.jsxs("p",{className:"text-sm text-blue-800",children:[i.length," campos foram identificados a partir dos dados fornecidos. Cada campo recebeu uma classificao de complexidade, categoria (entrada/sada) e um valor de pontos de funo de acordo com as diretrizes do IFPUG."]})]})]}),Y.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome do Campo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Complexidade"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos de Funo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fonte"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[C.name,C.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),C.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-1 max-w-xs truncate",title:C.description,children:C.description})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:M(C.type)}),s.jsx("span",{className:"text-sm text-gray-900",children:C.type})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs leading-5 font-semibold rounded-full ${A(C.fieldCategory)}`,children:V(C.fieldCategory)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`text-sm font-medium ${te(C.complexity)}`,children:C.complexity})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.fpValue}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:C.source})})]},C.id))})]})}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Yr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y||b!=="all"||_!=="all"||x!=="all"?"Nenhum campo encontrado com esses filtros":"Nenhum campo extrado"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:y||b!=="all"||_!=="all"||x!=="all"?"Tente ajustar os critrios de busca ou filtros":"No foi possvel extrair campos dos dados fornecidos. Tente fornecer mais detalhes ou outro formato de dados."})]}),Q.length>0&&s.jsx("div",{className:"mt-4",children:s.jsxs("details",{children:[s.jsxs("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[s.jsx(Ja,{className:"w-4 h-4 mr-1"}),"Ver logs de processamento (",Q.length,")"]}),s.jsx("div",{className:"mt-2 bg-gray-100 p-3 rounded-lg text-xs font-mono text-gray-800 max-h-40 overflow-y-auto",children:Q.map((C,G)=>s.jsx("div",{className:"py-1 border-b border-gray-200 last:border-0",children:C},G))})]})})]}),p==="analysis"&&o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Resumo da Anlise"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total de Campos:"}),s.jsx("span",{className:"text-lg font-semibold text-blue-600",children:o.totalFields})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total de Pontos de Funo:"}),s.jsx("span",{className:"text-xl font-bold text-blue-700",children:o.totalFunctionPoints})]}),s.jsx("div",{className:"h-1 bg-gray-200 rounded-full mt-2",children:s.jsx("div",{className:"h-1 bg-blue-600 rounded-full",style:{width:`${Math.min(100,o.totalFunctionPoints/200*100)}%`}})}),s.jsx("div",{className:"text-xs text-gray-500 text-right",children:"Baseado no padro IFPUG"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm md:col-span-2",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuio por Categoria"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:o.detailedBreakdown.EI.total}),s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Entrada (EI)"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[o.detailedBreakdown.EI.fp," PF"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:o.detailedBreakdown.EO.total}),s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Sada (EO)"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[o.detailedBreakdown.EO.fp," PF"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600 mb-1",children:o.detailedBreakdown.EQ.total}),s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Consulta (EQ)"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[o.detailedBreakdown.EQ.fp," PF"]})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalhamento por Tipo e Complexidade"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(o.detailedBreakdown).filter(([C,G])=>G.total>0).map(([C,G])=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center justify-between",children:[s.jsx("span",{children:C}),s.jsxs("span",{className:"text-blue-600",children:[G.fp," PF"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-600",children:"Baixa:"}),s.jsxs("span",{children:[G.low," (",G.low*(C==="EI"||C==="EQ"?3:C==="EO"?4:C==="ILF"?7:5)," PF)"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-600",children:"Mdia:"}),s.jsxs("span",{children:[G.average," (",G.average*(C==="EI"||C==="EQ"?4:C==="EO"?5:C==="ILF"?10:7)," PF)"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-600",children:"Alta:"}),s.jsxs("span",{children:[G.high," (",G.high*(C==="EI"||C==="EQ"?6:C==="EO"?7:C==="ILF"?15:10)," PF)"]})]})]}),s.jsx("div",{className:"h-1 bg-gray-200 rounded-full",children:s.jsx("div",{className:"h-1 bg-blue-600 rounded-full",style:{width:`${G.total?G.fp/(G.total*15)*100:0}%`}})})]},C))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Distribuio por Categoria"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-1"}),s.jsx("span",{children:"Entrada"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-1"}),s.jsx("span",{children:"Sada"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-1"}),s.jsx("span",{children:"Neutro"})]})]})]}),s.jsx("div",{className:"space-y-4",children:["text","number","date","select","checkbox","radio","file","email","url","textarea"].map(C=>{const G=i.filter(N=>N.type===C);if(G.length===0)return null;const q=G.filter(N=>N.fieldCategory==="entrada").length,re=G.filter(N=>N.fieldCategory==="saida").length,K=G.filter(N=>N.fieldCategory==="neutro"||!N.fieldCategory).length,j=G.length;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:M(C)}),s.jsx("span",{className:"font-medium",children:C.charAt(0).toUpperCase()+C.slice(1)})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[j," campo(s)"]})]}),s.jsxs("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden flex",children:[q>0&&s.jsx("div",{className:"h-full bg-blue-500",style:{width:`${q/j*100}%`},title:`${q} campo(s) de entrada`}),re>0&&s.jsx("div",{className:"h-full bg-purple-500",style:{width:`${re/j*100}%`},title:`${re} campo(s) de sada`}),K>0&&s.jsx("div",{className:"h-full bg-gray-500",style:{width:`${K/j*100}%`},title:`${K} campo(s) neutros`})]})]},C)})})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ns,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:"Sobre a Anlise de Pontos de Funo"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"Esta anlise segue as diretrizes do IFPUG (International Function Point Users Group) para contagem de pontos de funo. Os campos so classificados como Entradas Externas (EI), Sadas Externas (EO) ou Consultas Externas (EQ) com base em suas caractersticas. A complexidade  determinada pelo tipo de campo e suas propriedades."}),s.jsx("div",{className:"mt-2",children:s.jsxs("a",{href:"https://www.ifpug.org/about-ifpug/about-function-point-analysis/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[s.jsx(Jw,{className:"w-3 h-3 mr-1"}),"Saiba mais sobre Anlise de Pontos de Funo"]})})]})]})})]}),p==="export"&&o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Relatrio de Anlise de Pontos de Funo"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 relative",children:[s.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono overflow-auto max-h-96",children:R()}),s.jsx("button",{onClick:()=>U(R()),className:"absolute top-2 right-2 p-2 bg-white rounded-md shadow-sm hover:bg-gray-100 transition-colors",title:"Copiar para rea de transferncia",children:T?s.jsx(Ut,{className:"w-5 h-5 text-green-600"}):s.jsx(Nr,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[s.jsxs("button",{onClick:()=>U(R()),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Copiar Relatrio"]}),s.jsxs("button",{onClick:D,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(_o,{className:"w-4 h-4 mr-2"}),"Exportar para CSV"]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cdigo para Insero no Documento"}),s.jsx("button",{onClick:F,className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors",children:H?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Salvo!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Tg,{className:"w-4 h-4 mr-2"}),"Salvar no Detalhamento"]})})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Este cdigo ser inserido no campo "Detalhamento do Trabalho" da funcionalidade para incluir a anlise de pontos de funo no documento exportado.'}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 relative",children:[s.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono overflow-auto max-h-40",children:J()}),s.jsx("button",{onClick:()=>U(J()),className:"absolute top-2 right-2 p-2 bg-white rounded-md shadow-sm hover:bg-gray-100 transition-colors",title:"Copiar para rea de transferncia",children:T?s.jsx(Ut,{className:"w-5 h-5 text-green-600"}):s.jsx(Nr,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ns,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Como Utilizar"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal pl-4",children:[s.jsx("li",{children:'Clique em "Salvar no Detalhamento" para adicionar automaticamente'}),s.jsx("li",{children:"Ou copie o cdigo acima manualmente"}),s.jsx("li",{children:'O cdigo ser adicionado ao campo "Detalhamento do Trabalho"'}),s.jsx("li",{children:"Ao exportar para Word, a anlise de pontos de funo ser includa automaticamente"})]})]})]})})]}),Q.length>0&&s.jsx("div",{className:"mt-4",children:s.jsxs("details",{children:[s.jsxs("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[s.jsx(Ja,{className:"w-4 h-4 mr-1"}),"Ver logs de processamento (",Q.length,")"]}),s.jsx("div",{className:"mt-2 bg-gray-100 p-3 rounded-lg text-xs font-mono text-gray-800 max-h-40 overflow-y-auto",children:Q.map((C,G)=>s.jsx("div",{className:"py-1 border-b border-gray-200 last:border-0",children:C},G))})]})})]})]})})]})})},Bv=({onClose:t})=>{const[e,r]=ne.useState(null),[n,i]=ne.useState(!1),[a,o]=ne.useState([]),[l,c]=ne.useState(null),[u,p]=ne.useState(!1),g=ne.useRef(null),[y,m]=ne.useState(!1),b=ne.useRef(null),v=ne.useRef(null),[_,h]=ne.useState(null),[x,w]=ne.useState("idle"),[T,P]=ne.useState(!1),[H,W]=ne.useState(!1),[Q,I]=ne.useState(null),[ee,ce]=ne.useState([{step:"Captura e seleo imagem",status:"pending"},{step:"Envio para API de OCR",status:"pending"},{step:"Campos retornados da API",status:"pending"}]),[M,te]=ne.useState(!1),[A,V]=ne.useState(!0),[Y,D]=ne.useState(10);ne.useEffect(()=>{if(T){const d=setTimeout(()=>{P(!1)},2e3);return()=>clearTimeout(d)}},[T]);const U=(d,f,E)=>{ce(B=>B.map((Z,z)=>z===d?{...Z,status:f,message:E}:Z))},R=()=>{ce([{step:"Captura e seleo imagem",status:"pending"},{step:"Envio para API de OCR",status:"pending"},{step:"Campos retornados da API",status:"pending"}]),te(!1)},J=d=>{var E;const f=(E=d.target.files)==null?void 0:E[0];if(f)if(f.type.startsWith("image/")){c(null);const B=new FileReader;B.onload=Z=>{var le;const z=(le=Z.target)==null?void 0:le.result;r(z),G(z)},B.readAsDataURL(f)}else c("Por favor, selecione apenas arquivos de imagem."),r(null)},F=d=>{d.preventDefault();const f=d.dataTransfer.files[0];if(f)if(f.type.startsWith("image/")){c(null);const E=new FileReader;E.onload=B=>{var z;const Z=(z=B.target)==null?void 0:z.result;r(Z),G(Z)},E.readAsDataURL(f)}else c("Por favor, selecione apenas arquivos de imagem.")},C=d=>{d.preventDefault()},G=async d=>{i(!0),c(null),w("idle"),W(!1),I(null),R(),te(!0),o([]);const f=window.fetch;try{U(0,"processing","Componente ImageFieldExtractor capturou imagem"),await new Promise(z=>setTimeout(z,500));const E=Math.round(d.length*3/4/1024),B=d.startsWith("data:image/png")?"PNG":d.startsWith("data:image/jpeg")?"JPEG":d.startsWith("data:image/")?d.split(";")[0].replace("data:",""):"Desconhecido";U(0,"success",`Imagem capturada: ${B}, ${E} KB`),console.log(" ETAPA 1 - CAPTURA E SELEO DE IMAGEM: Componente ImageFieldExtractor capturou imagem"),console.log(`   Formato: ${B}`),console.log(`   Tamanho aproximado: ${E} KB`),U(1,"processing","Conectando com o servio de extrao..."),console.log(" ETAPA 2 - ENVIO PARA API DE OCR: Enviando imagem para processamento"),console.log("   Mtodo: POST"),console.log("   URL: /api/vision-ocr"),console.log("   Headers: Content-Type: application/json"),console.log('   Corpo: { "imageBase64": "[BASE64_STRING_TRUNCADA]" }'),console.log(`   Tamanho da imagem: ${E} KB`),window.fetch=async(...z)=>{var fe,de;const[le]=z;if(le.toString().includes("extract-fields")||le.toString().includes("vision-ocr")){const pe=le.toString().split("/").pop();U(1,"success",`Conectado ao endpoint: ${pe}`);const we=await f(...z),be=we.clone();try{const Ne=await be.json();if(U(2,"processing","Processando campos extrados..."),Ne.success||Ne.status==="success"){if(Ne.fonte==="regex"||Ne.campos){const ot=Object.keys(Ne.campos||{}).filter(Ge=>!Ge.endsWith("_categoria")).length;U(2,"success",`${ot} campos encontrados via Regex`),I("regex")}else if(Ne.fonte==="ia"){const ot=Object.keys(Ne.campos||{}).filter(Ge=>!Ge.endsWith("_categoria")).length;U(2,"success",`${ot} campos encontrados via IA`),I("ia")}else if(Ne.textElements){const ot=Ne.textElements.length;U(2,"success",`${ot} elementos de texto extrados`)}if(console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Processamento concludo"),Ne.campos){const ot=Object.keys(Ne.campos).filter(er=>!er.endsWith("_categoria")).length;console.log(`   Total de campos extrados: ${ot}`),console.log(`   Fonte de extrao: ${Ne.fonte||"Desconhecida"}`);const Ge={entrada:0,saida:0,neutro:0,derivado:0};Object.keys(Ne.campos).forEach(er=>{if(er.endsWith("_categoria")){const Pe=Ne.campos[er];(Pe==="entrada"||Pe==="saida"||Pe==="neutro"||Pe==="derivado")&&(Ge[Pe]=(Ge[Pe]||0)+1)}}),console.log("   Distribuio por categoria:"),console.log(`   - Entrada: ${Ge.entrada||0}`),console.log(`   - Sada: ${Ge.saida||0}`),console.log(`   - Neutro: ${Ge.neutro||0}`),console.log(`   - Derivado: ${Ge.derivado||0}`)}else Ne.textElements&&(console.log(`   Total de elementos extrados: ${Ne.textElements.length}`),console.log(`   Texto completo: ${(fe=Ne.fullText)==null?void 0:fe.substring(0,100)}${((de=Ne.fullText)==null?void 0:de.length)>100?"...":""}`))}else U(2,"error",Ne.message||Ne.error||"Falha na extrao de campos"),console.log(" ETAPA 3 - CAMPOS RETORNADOS DA API: Erro na extrao"),console.log(`   Erro: ${Ne.message||Ne.error||"Falha na extrao de campos"}`)}catch(Ne){U(2,"error","Erro ao processar resposta da API"),console.error("Erro ao processar resposta JSON:",Ne)}return we}return f(...z)};const Z=await $g(d);window.fetch=f,o(Z),w("success")}catch(E){console.error(" Componente ImageFieldExtractor: Erro na extrao:",E),c(E.message||"Erro ao processar a imagem. Tente novamente com outra imagem."),w("error"),o([]);const B=ee.findIndex(Z=>Z.status==="processing");B>=0&&U(B,"error",E.message),window.fetch!==f&&(window.fetch=f)}finally{i(!1)}},q=async()=>{h(null),m(!0);try{const d=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});b.current&&(b.current.srcObject=d)}catch(d){console.error("Error accessing camera:",d),h("No foi possvel acessar a cmera. Verifique as permisses do navegador.")}},re=()=>{b.current&&b.current.srcObject&&(b.current.srcObject.getTracks().forEach(E=>E.stop()),b.current.srcObject=null),m(!1)},K=()=>{if(b.current&&v.current){const d=b.current,f=v.current;f.width=d.videoWidth,f.height=d.videoHeight;const E=f.getContext("2d");if(E){E.drawImage(d,0,0,f.width,f.height);const B=f.toDataURL("image/jpeg");r(B),G(B),re()}}},j=d=>{switch(d){case"text":return s.jsx("span",{className:"text-blue-600",children:"Aa"});case"number":return s.jsx("span",{className:"text-green-600",children:"123"});case"date":return s.jsx("span",{className:"text-purple-600",children:""});case"select":return s.jsx("span",{className:"text-orange-600",children:""});case"checkbox":return s.jsx("span",{className:"text-teal-600",children:""});case"radio":return s.jsx("span",{className:"text-red-600",children:""});case"file":return s.jsx("span",{className:"text-gray-600",children:""});case"email":return s.jsx("span",{className:"text-indigo-600",children:""});case"url":return s.jsx("span",{className:"text-cyan-600",children:""});case"textarea":return s.jsx("span",{className:"text-amber-600",children:""});default:return s.jsx("span",{className:"text-gray-600",children:"?"})}},N=d=>{switch(d){case"pending":return s.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"});case"processing":return s.jsx(tv,{className:"w-5 h-5 text-blue-500 animate-spin"});case"success":return s.jsx(Ut,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(_n,{className:"w-5 h-5 text-red-500"});default:return s.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}},X=()=>{if(!a.length)return;const d=["Name","Type","Complexity","FP Value","Category","Required","Description","Source"],f=a.map(le=>[le.name,le.type,le.complexity,le.fpValue.toString(),le.fieldCategory||"neutro",le.required?"Yes":"No",le.description||"",le.source||"OCR"]),E=[d.join(","),...f.map(le=>le.map(fe=>`"${String(fe).replace(/"/g,'""')}"`).join(","))].join(`
`),B=new Blob([E],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(B),z=document.createElement("a");z.href=Z,z.download=`extracted-fields-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(z),z.click(),document.body.removeChild(z)},$=()=>{try{const d=JSON.stringify(a,null,2);navigator.clipboard.writeText(d),P(!0);const f=document.createElement("div");f.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",f.textContent="JSON copiado para a rea de transferncia!",document.body.appendChild(f),setTimeout(()=>{document.body.removeChild(f)},3e3)}catch(d){console.error("Error copying to clipboard:",d),alert("Erro ao copiar para a rea de transferncia.")}},O=()=>{W(!H)},L=()=>{V(!A)},oe=()=>{D(d=>d+10)},S=d=>{switch(d){case"Low":return"text-green-600";case"Average":return"text-yellow-600";case"High":return"text-red-600";default:return"text-gray-600"}},se=d=>{switch(d){case"entrada":return"bg-blue-100 text-blue-800";case"saida":return"bg-purple-100 text-purple-800";case"neutro":return"bg-gray-100 text-gray-800";case"derivado":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},k=d=>{switch(d){case"entrada":return"Entrada";case"saida":return"Sada";case"neutro":return"Neutro";case"derivado":return"Derivado";default:return"Neutro"}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Co,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Extrao de Campos com IA"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Extraia campos de formulrios automaticamente usando OCR e IA"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload de Imagem"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Faa upload de uma imagem contendo um formulrio ou tela de sistema. O sistema ir analisar a imagem e extrair automaticamente os campos identificados."})]}),y?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[s.jsx("video",{ref:b,autoPlay:!0,playsInline:!0,className:"w-full max-h-[50vh] object-contain mx-auto"}),s.jsx("canvas",{ref:v,className:"hidden"}),s.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:s.jsx("button",{onClick:K,className:"p-4 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-800"})})})]}),_&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800",children:_})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:re,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Clique no boto central para capturar a imagem"})]})]}):s.jsx(s.Fragment,{children:e?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e,alt:"Selected",className:"max-h-[40vh] mx-auto object-contain rounded-lg border border-gray-200"}),s.jsx("button",{onClick:()=>{r(null),o([]),w("idle"),W(!1),R()},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",title:"Remover imagem",children:s.jsx(wt,{className:"w-4 h-4"})})]}),M&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(zt,{className:"w-4 h-4 text-blue-600"}),"Log de Processamento"]})}),s.jsx("div",{className:"space-y-3",children:ee.map((d,f)=>s.jsxs("div",{className:"flex items-start gap-3",children:[N(d.status),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`font-medium ${d.status==="processing"?"text-blue-600":d.status==="success"?"text-green-600":d.status==="error"?"text-red-600":"text-gray-500"}`,children:d.step}),d.message&&s.jsx("div",{className:"text-sm text-gray-600",children:d.message})]}),d.status==="success"&&f===1&&Q==="regex"&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:[s.jsx(Gf,{className:"w-3 h-3"}),"Regex"]}),d.status==="success"&&f===2&&Q==="ia"&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:[s.jsx(Hf,{className:"w-3 h-3"}),"IA"]})]},f))})]}),n?s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),s.jsx("p",{className:"text-gray-600",children:"Processando imagem e extraindo campos..."})]}):s.jsxs(s.Fragment,{children:[x!=="idle"&&s.jsx("div",{className:`p-4 rounded-lg ${x==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[x==="success"?s.jsx(Ut,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(_n,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-medium ${x==="success"?"text-green-900":"text-red-900"} mb-1`,children:x==="success"?`Extrao concluda com ${Q==="regex"?"Regex":"IA"}`:"Erro ao extrair campos"}),s.jsx("p",{className:`text-sm ${x==="success"?"text-green-800":"text-red-800"}`,children:x==="success"?`${a.length} campos foram identificados na imagem.`:l||"Ocorreu um erro ao processar a imagem."}),x==="success"&&Q&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Mtodo de extrao:"}),s.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Q==="regex"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:Q==="regex"?s.jsxs(s.Fragment,{children:[s.jsx(Gf,{className:"w-3 h-3"}),"Regex (rpido)"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hf,{className:"w-3 h-3"}),"IA (avanado)"]})})]})]})]})}),x==="success"&&a.length>0&&s.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(zt,{className:"w-5 h-5 text-blue-600"}),"Campos Extrados (",a.length,")"]}),s.jsx("button",{onClick:L,className:"text-blue-600 hover:text-blue-800 transition-colors",children:A?s.jsx(tu,{className:"w-4 h-4"}):s.jsx(ru,{className:"w-4 h-4"})})]}),A&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Complexidade"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"FP"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fonte"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.slice(0,Y).map(d=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.name,d.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:j(d.type)}),s.jsx("span",{className:"text-sm text-gray-900",children:d.type})]})}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${se(d.fieldCategory)}`,children:k(d.fieldCategory)})}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:s.jsx("span",{className:`text-sm font-medium ${S(d.complexity)}`,children:d.complexity})}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:d.fpValue}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:d.source})})]},d.id))})]})}),a.length>Y&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("button",{onClick:oe,className:"px-4 py-2 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:["Mostrar mais campos (",a.length-Y," restantes)"]})}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsxs("div",{className:"text-xs text-gray-500",children:["Total de pontos de funo: ",s.jsx("span",{className:"font-bold",children:a.reduce((d,f)=>d+f.fpValue,0)})]})})]})]}),x==="success"&&a.length>0&&H&&s.jsxs("div",{className:"mt-4 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"JSON Extrado"}),s.jsx("button",{onClick:$,className:"inline-flex items-center px-2 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:T?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Copiar"]})})]}),s.jsx("pre",{className:"text-xs bg-gray-800 text-green-400 p-3 rounded overflow-x-auto max-h-60",children:JSON.stringify(a,null,2)})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{r(null),o([]),w("idle"),W(!1),R(),g.current&&(g.current.value="")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar"}),a.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:O,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Ja,{className:"w-4 h-4 mr-2"}),H?"Ocultar JSON":"Mostrar JSON"]}),s.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Copiar JSON"]}),s.jsxs("button",{onClick:X,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(_o,{className:"w-4 h-4 mr-2"}),"Exportar CSV"]}),s.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(zt,{className:"w-4 h-4 mr-2"}),"Anlise Detalhada"]})]})]})]})]}):s.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors border-gray-300 hover:border-gray-400 bg-gray-50",onDrop:F,onDragOver:C,children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(eo,{className:"w-12 h-12 text-gray-400 mx-auto"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Arraste uma imagem aqui ou clique para selecionar"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Formatos suportados: JPG, PNG, GIF, BMP"})]}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsxs("button",{onClick:()=>{var d;return(d=g.current)==null?void 0:d.click()},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(eo,{className:"w-4 h-4 mr-2"}),"Selecionar Arquivo"]}),s.jsxs("button",{onClick:q,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Yw,{className:"w-4 h-4 mr-2"}),"Usar Cmera"]})]})]})})}),s.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:J,className:"hidden"}),l&&!n&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-800",children:l})}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(ns,{className:"w-4 h-4 text-blue-600"}),"Como Funciona"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Captura e Seleo de Imagem"}),s.jsx("p",{className:"text-xs text-gray-600",children:"O componente ImageFieldExtractor captura a imagem do formulrio ou tela"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Envio para API de OCR"}),s.jsx("p",{className:"text-xs text-gray-600",children:"A imagem  enviada para processamento OCR (Reconhecimento ptico de Caracteres)"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Campos Retornados da API"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Os campos so classificados como Entrada, Sada ou Neutro com base em seu contexto"})]})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Nota: A preciso da extrao depende da qualidade da imagem. Imagens ntidas e bem enquadradas produzem melhores resultados."})]})]}),u&&s.jsx(hd,{screenshotData:JSON.stringify(a),processId:"image-extraction",onClose:()=>p(!1),onSaveAnalysis:()=>{}})]})})},Mv="/api/custom-fields-proxy";class Uv{constructor(e=Mv){Is(this,"baseUrl");Is(this,"apiUrl");this.baseUrl=e.replace(/\/$/,""),this.apiUrl=this.baseUrl}async request(e,r={}){var a;const n=`${this.apiUrl}${e}`,i={headers:{"Content-Type":"application/json",...r.headers},...r};try{const o=await fetch(n,i),l=await o.json();if(!o.ok)throw new Error(((a=l.error)==null?void 0:a.message)||l.error||"Request failed");return l}catch(o){throw console.error(`[CustomFields] Error on ${e}:`,o),o}}async registerSections(e){return this.request("/sections/register",{method:"POST",body:JSON.stringify({sections:e})})}async getFields(e){return(await this.request(`/custom-fields?section=${e}`)).data||[]}async getValues(e,r){const i=(await this.request(`/forms/analysis/${e}/values`)).data||{},a={};return r?(i[r]||[]).forEach(l=>{a[l.field_id]=l.value}):Object.values(i).forEach(o=>{o.forEach(l=>{a[l.field_id]=l.value})}),a}async saveValues(e,r,n){const i=Object.entries(n).map(([a,o])=>({field_id:a,analysis_id:e,value:String(o)}));return this.request("/forms/values",{method:"POST",body:JSON.stringify({values:i})})}getAdminUrl(){return"/custom-fields-admin/admin"}}let ml=null;function Ao(){return ml||(ml=new Uv),ml}function Vg(t,e){const[r,n]=ne.useState([]),[i,a]=ne.useState({}),[o,l]=ne.useState(!0),[c,u]=ne.useState(null),[p,g]=ne.useState(!1),y=Ao(),m=ne.useRef(null);ne.useEffect(()=>{if(!t)return;const _=()=>{l(!0),u(null),y.getFields(t).then(n).catch(w=>{console.error("[useCustomFields] Failed to load fields:",w),u(w.message)}).finally(()=>l(!1))};_();const h=w=>{var T;((T=w.data)==null?void 0:T.type)==="CUSTOM_FIELDS_UPDATED"&&(console.log("[useCustomFields] Fields updated, reloading..."),_())};window.addEventListener("message",h);let x=null;try{x=new BroadcastChannel("custom-fields-updates"),x.addEventListener("message",h)}catch{}return()=>{window.removeEventListener("message",h),x&&x.close()}},[t]),ne.useEffect(()=>{if(!t||!e){a({}),m.current=null;return}a({});const _={analysisId:e,sectionName:t};m.current=_,y.getValues(e,t).then(h=>{m.current===_&&a(h)}).catch(h=>{console.error("[useCustomFields] Failed to load values:",h),m.current===_&&a({})})},[t,e]);const b=ne.useCallback((_,h)=>{a(x=>({...x,[_]:h}))},[]),v=ne.useCallback(async(_=i)=>{if(!e)return console.warn("[useCustomFields] Cannot save values without analysisId"),!1;g(!0);try{return await y.saveValues(e,t,_),a(_),!0}catch(h){throw console.error("[useCustomFields] Failed to save values:",h),h}finally{g(!1)}},[e,t,i]);return{fields:r,values:i,loading:o,error:c,saving:p,updateValue:b,saveAllValues:v,sdk:y}}async function Wg(){const t=Ao(),e=[{id:"basic-info",name:"basic_info",label:"Informaes Bsicas",description:"Campos personalizados para informaes bsicas da anlise",component_name:"BasicInfoForm"},{id:"scope",name:"scope",label:"Escopo",description:"Campos personalizados para escopo da anlise",component_name:"ScopeForm"},{id:"impacts",name:"impacts",label:"Anlise de Impactos",description:"Campos personalizados para anlise de impactos",component_name:"ImpactsForm"},{id:"risks",name:"risks",label:"Matriz de Riscos",description:"Campos personalizados para matriz de riscos",component_name:"RisksForm"},{id:"mitigations",name:"mitigations",label:"Plano de Mitigao",description:"Campos personalizados para plano de mitigao",component_name:"MitigationsForm"},{id:"conclusions",name:"conclusions",label:"Concluses e Recomendaes",description:"Campos personalizados para concluses",component_name:"ConclusionsForm"}];try{await t.registerSections(e),console.log("[CustomFields] Sees registradas com sucesso")}catch(r){console.error("[CustomFields] Erro ao registrar sees:",r)}}const zv=Object.freeze(Object.defineProperty({__proto__:null,getCustomFieldsSDK:Ao,registerNuPAIMSections:Wg,useCustomFields:Vg},Symbol.toStringTag,{value:"Module"})),$v=({onExport:t,isExporting:e})=>{const{user:r,profile:n,logout:i,hasPermission:a}=Tn(),[o,l]=ne.useState(!1),[c,u]=ne.useState(!1),[p,g]=ne.useState(!1),[y,m]=ne.useState(!1),[b,v]=ne.useState(!1),[_,h]=ne.useState("");ne.useEffect(()=>{const w=()=>{const P=localStorage.getItem("nup_aim_last_activity");if(!P)return;const H=7*60*1e3,W=Date.now()-parseInt(P),Q=H-W;if(Q>0){const I=Math.floor(Q/6e4),ee=Math.floor(Q%6e4/1e3);h(`${I}:${ee.toString().padStart(2,"0")}`)}else h("Expirada")},T=setInterval(w,1e3);return w(),()=>clearInterval(T)},[r]);const x=()=>{i(),l(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-lg",children:s.jsx(Yr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"NuP_AIM"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Sistema de Anlise de Impacto"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[r&&_&&s.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-lg",children:[s.jsx(eu,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Sesso: ",_]})]}),s.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors",children:[s.jsx(Co,{className:"w-4 h-4 mr-2"}),"Extrair Campos de Imagem"]}),a("ANALYSIS","EXPORT")&&s.jsxs("button",{onClick:t,disabled:e,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(_o,{className:"w-4 h-4 mr-2"}),e?"Exportando...":"Exportar para Word"]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ji,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:r==null?void 0:r.username}),s.jsx("div",{className:"text-xs text-gray-500",children:n==null?void 0:n.name})]})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200",children:[s.jsx("div",{className:"font-medium text-gray-900",children:r==null?void 0:r.username}),s.jsx("div",{className:"text-sm text-gray-500",children:r==null?void 0:r.email}),s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:n==null?void 0:n.name}),_&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-gray-500",children:[s.jsx(eu,{className:"w-3 h-3"}),s.jsxs("span",{children:["Sesso expira em: ",_]})]})]}),s.jsxs("div",{className:"py-1",children:[a("USERS","MANAGE")&&s.jsxs("button",{onClick:()=>{u(!0),l(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(nu,{className:"w-4 h-4"}),"Gerenciar Usurios"]}),a("PROFILES","MANAGE")&&s.jsxs("button",{onClick:()=>{g(!0),l(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(Si,{className:"w-4 h-4"}),"Gerenciar Perfis"]}),a("DATA","MANAGE")&&s.jsxs("button",{onClick:()=>{m(!0),l(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsx(zt,{className:"w-4 h-4"}),"Gerenciar Dados"]}),s.jsxs("button",{onClick:()=>{const w=Ao();window.open(w.getAdminUrl(),"_blank"),l(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors","data-testid":"button-custom-fields-admin",children:[s.jsx(nv,{className:"w-4 h-4"}),"Campos Personalizados"]}),s.jsx("div",{className:"border-t border-gray-200 my-1"}),s.jsxs("button",{onClick:x,className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(kg,{className:"w-4 h-4"}),"Sair"]})]})]})]})]})]})})}),c&&s.jsx(xv,{onClose:()=>u(!1)}),p&&s.jsx(yv,{onClose:()=>g(!1)}),y&&s.jsx(jv,{onClose:()=>m(!1)}),b&&s.jsx(Bv,{onClose:()=>v(!1)})]})},Fn=({title:t,children:e,isCollapsed:r=!1,onToggle:n,required:i=!1})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 cursor-pointer flex items-center justify-between hover:bg-gray-100 transition-colors",onClick:n,children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[t,i&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n&&s.jsx("div",{className:"text-gray-400",children:r?s.jsx(Qw,{className:"w-5 h-5"}):s.jsx(Xw,{className:"w-5 h-5"})})]}),!r&&s.jsx("div",{className:"p-6",children:e})]}),Vv=({onClose:t})=>{const[e,r]=ne.useState([]),[n,i]=ne.useState(null),[a,o]=ne.useState(!1),[l,c]=ne.useState({name:"",acronym:"",isDefault:!1}),[u,p]=ne.useState({});ne.useEffect(()=>{g()},[]);const g=()=>{const w=Cn();r(w)},y=()=>{const w={};return l.name.trim()?l.name.length<2&&(w.name="Nome deve ter pelo menos 2 caracteres"):w.name="Nome do projeto  obrigatrio",l.acronym.trim()?(l.acronym.length<1||l.acronym.length>10)&&(w.acronym="Sigla deve ter entre 1 e 10 caracteres"):w.acronym="Sigla  obrigatria",e.find(H=>H.name.toLowerCase()===l.name.toLowerCase()&&H.id!==n)&&(w.name="J existe um projeto com este nome"),e.find(H=>H.acronym.toLowerCase()===l.acronym.toLowerCase()&&H.id!==n)&&(w.acronym="J existe um projeto com esta sigla"),p(w),Object.keys(w).length===0},m=()=>{var T;if(!y())return;const w={id:n||iu(),name:l.name.trim(),acronym:l.acronym.trim(),isDefault:l.isDefault,createdAt:n?((T=e.find(P=>P.id===n))==null?void 0:T.createdAt)||new Date().toISOString():new Date().toISOString()};Xf(w),g(),h()},b=w=>{i(w.id),c({name:w.name,acronym:w.acronym,isDefault:w.isDefault}),o(!0),p({})},v=w=>{const T=e.find(P=>P.id===w);if(T){if(e.length<=1){alert("No  possvel excluir o ltimo projeto. Deve haver pelo menos um projeto cadastrado.");return}window.confirm(`Tem certeza que deseja excluir o projeto "${T.name}"?`)&&(wv(w)?g():alert("No foi possvel excluir o projeto."))}},_=w=>{const T=e.find(P=>P.id===w);if(T){const P={...T,isDefault:!0};Xf(P),g()}},h=()=>{i(null),o(!1),c({name:"",acronym:"",isDefault:!1}),p({})},x=()=>{i(null),c({name:"",acronym:"",isDefault:!1}),o(!0),p({})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Za,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dados Bsicos - Projetos"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:x,disabled:a,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Novo Projeto"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:n?"Editar Projeto":"Novo Projeto"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto *"}),s.jsx("input",{type:"text",value:l.name,onChange:w=>c({...l,name:w.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${u.name?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Ex: Sistema de Gesto de Contratos"}),u.name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sigla *"}),s.jsx("input",{type:"text",value:l.acronym,onChange:w=>c({...l,acronym:w.target.value.toUpperCase()}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${u.acronym?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"}`,placeholder:"Ex: SGC",maxLength:10}),u.acronym&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.acronym})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:l.isDefault,onChange:w=>c({...l,isDefault:w.target.checked}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Definir como projeto padro"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O projeto padro ser selecionado automaticamente ao criar novas anlises"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4 mr-2"}),"Salvar"]}),s.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Projetos Cadastrados (",e.length,")"]}),e.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(Za,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum projeto cadastrado"})]}):s.jsx("div",{className:"space-y-3",children:e.map(w=>s.jsx("div",{className:`border rounded-lg p-4 transition-colors ${w.isDefault?"border-blue-200 bg-blue-50":"border-gray-200 bg-white hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:w.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:w.acronym}),w.isDefault&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:[s.jsx(Rg,{className:"w-3 h-3 mr-1"}),"Padro"]})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Criado em ",new Date(w.createdAt).toLocaleDateString("pt-BR")]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!w.isDefault&&s.jsx("button",{onClick:()=>_(w.id),className:"p-1 text-yellow-600 hover:text-yellow-800 transition-colors",title:"Definir como padro",children:s.jsx(Pg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b(w),disabled:a,className:"p-1 text-blue-600 hover:text-blue-800 transition-colors disabled:opacity-50",title:"Editar projeto",children:s.jsx(ko,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>v(w.id),disabled:a||e.length<=1,className:"p-1 text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",title:e.length<=1?"No  possvel excluir o ltimo projeto":"Excluir projeto",children:s.jsx(In,{className:"w-4 h-4"})})]})]})},w.id))})]}),s.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Informaes Importantes"}),s.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[s.jsx("li",{children:" Deve haver pelo menos um projeto cadastrado no sistema"}),s.jsx("li",{children:" O projeto padro ser selecionado automaticamente em novas anlises"}),s.jsx("li",{children:" Apenas um projeto pode ser definido como padro por vez"}),s.jsx("li",{children:" Nomes e siglas devem ser nicos"})]})]})]})]})})},_s=({sectionName:t,analysisId:e,onValuesChange:r,initialValues:n={},className:i="",fieldWrapperClassName:a="",labelClassName:o="",inputClassName:l="",textareaClassName:c="",selectClassName:u="",checkboxClassName:p="",helpTextClassName:g="",errorTextClassName:y="",renderField:m,useTailwindOnly:b=!1})=>{const{fields:v,values:_,loading:h,error:x}=Vg(t,e),w=rr.useRef(new Set),T=rr.useMemo(()=>{const Y={};return Object.assign(Y,_),Object.assign(Y,n),Y},[_,n]),[P,H]=rr.useState({}),W=rr.useRef(e);rr.useEffect(()=>{W.current!==e&&(H({}),w.current.clear(),Q.current="",W.current=e)},[e]);const Q=rr.useRef(""),I=rr.useMemo(()=>({...T,...P}),[T,P]);rr.useEffect(()=>{if(r&&Object.keys(I).length>0){const Y=JSON.stringify(I);Y!==Q.current&&(Q.current=Y,r(I))}},[I,r]);const ee=(Y,D)=>{w.current.add(Y);const U={...P,[Y]:D};if(H(U),r){const R={...T,...U};r(R)}};if(h)return s.jsxs("div",{className:"flex items-center justify-center py-4 text-gray-500","data-testid":"custom-fields-loading",children:[s.jsx(ev,{className:"w-5 h-5 animate-spin mr-2"}),s.jsx("span",{children:"Carregando campos personalizados..."})]});if(x)return s.jsx("div",{className:"text-sm text-gray-400 py-2","data-testid":"custom-fields-error",children:"No foi possvel carregar campos personalizados."});if(v.length===0)return null;const ce=Y=>{var R;if(m){const J=m(Y,I[Y.id]||"",F=>ee(Y.id,F));if(J!=null)return J}const D=b?"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors":"custom-field-input",U={id:Y.id,name:Y.name,required:Y.required,value:I[Y.id]||"",onChange:J=>{ee(Y.id,J.target.value)}};switch(Y.type){case"textarea":return s.jsx("textarea",{...U,placeholder:Y.placeholder,rows:4,className:c||D,"data-testid":`custom-field-${Y.name}`});case"select":return s.jsxs("select",{...U,className:u||D,"data-testid":`custom-field-${Y.name}`,children:[s.jsx("option",{value:"",children:"Selecione..."}),(R=Y.options)==null?void 0:R.map(F=>s.jsx("option",{value:F.value,children:F.label},F.value))]});case"checkbox":return s.jsx("input",{type:"checkbox",id:Y.id,name:Y.name,checked:I[Y.id]==="true"||I[Y.id]===!0,onChange:F=>ee(Y.id,F.target.checked),className:p||"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2","data-testid":`custom-field-${Y.name}`});case"date":case"email":case"tel":case"url":case"number":case"text":default:return s.jsx("input",{type:Y.type,...U,placeholder:Y.placeholder,className:l||D,"data-testid":`custom-field-${Y.name}`})}},M=b?"space-y-4":"custom-fields-section",te=b?"space-y-2":"custom-field-wrapper",A=b?"block text-sm font-medium text-gray-700":"custom-field-label",V=b?"text-xs text-gray-500 mt-1":"custom-field-help-text";return s.jsx("div",{className:`${M} ${i}`.trim(),"data-testid":"custom-fields-section",children:v.map(Y=>s.jsxs("div",{className:a||te,children:[s.jsxs("label",{htmlFor:Y.id,className:o||A,children:[Y.label,Y.required&&s.jsx("span",{className:"custom-field-required",children:"*"})]}),ce(Y),Y.help_text&&s.jsx("p",{className:g||V,children:Y.help_text})]},Y.id))})},Wv=({data:t,onChange:e,customFieldsValues:r={},onCustomFieldsChange:n})=>{const{hasPermission:i}=Tn(),[a,o]=ne.useState([]),[l,c]=ne.useState(!1);ne.useEffect(()=>{u()},[]),ne.useEffect(()=>{if(!t.project&&a.length>0){const m=Dg();m&&e({project:m.name})}},[a,t.project,e]);const u=()=>{const m=Cn();o(m)},p=m=>{let b=m.replace(/[^\d-]/g,"");b.startsWith("PA")||(b.startsWith("P")?b="PA"+b.substring(1):b="PA"+b);let v=b.substring(2);v=v.replace(/-/g,""),v.length>4&&(v=v.substring(0,4)+"-"+v.substring(4,8));const _="PA"+v;e({title:_})},g=()=>{if(!i("PROJECTS","MANAGE")){alert("Voc no tem permisso para gerenciar projetos.");return}c(!0)},y=()=>{c(!1),u()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nmero da PA *"}),s.jsx("input",{type:"text",value:t.title,onChange:m=>p(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"PA",maxLength:11,title:"Formato: PANNNN-AAAA (4 nmeros seguidos do ano com 4 dgitos)"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: PANNNN-AAAA (Ex: PA0001-2024)"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Projeto *"}),i("PROJECTS","MANAGE")&&s.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",title:"Gerenciar projetos",children:[s.jsx(Za,{className:"w-3 h-3 mr-1"}),"Gerenciar"]})]}),s.jsxs("select",{value:t.project,onChange:m=>e({project:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"",children:"Selecione um projeto"}),a.map(m=>s.jsx("option",{value:m.name,children:m.name},m.id))]}),a.length===0&&s.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Nenhum projeto cadastrado. ",i("PROJECTS","MANAGE")?'Clique em "Gerenciar" para adicionar.':"Entre em contato com o administrador."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor *"}),s.jsx("input",{type:"text",value:t.author,onChange:m=>e({author:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Seu nome"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verso"}),s.jsx("input",{type:"text",value:t.version,onChange:m=>e({version:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"1.0"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio *"}),s.jsx("textarea",{value:t.description,onChange:m=>e({description:m.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Descreva o contexto e objetivo desta anlise de impacto..."})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Campos Personalizados"}),s.jsx(_s,{sectionName:"basic_info",analysisId:t.id,initialValues:r,onValuesChange:n})]}),l&&s.jsx(Vv,{onClose:y})]})},Hv=({value:t,onChange:e,placeholder:r="Cole aqui as imagens ou links das telas que foram impactadas...",onExtractFields:n,autoExtractEnabled:i=!0})=>{const[a,o]=ne.useState([]),[l,c]=ne.useState(""),[u,p]=ne.useState([]),[g,y]=ne.useState(!1),[m,b]=ne.useState(!1),[v,_]=ne.useState(!1),[h,x]=ne.useState(""),w=ne.useRef(null),T=ne.useRef(null);ne.useEffect(()=>{if(t){const{images:D,text:U}=P(t);if(o(D),c(U),U||D.length>0){const R=Xs(t);p(R),n&&n(R)}}},[t]);const P=D=>{const U=D.split(`
`),R=[],J=[];for(const F of U)if(F.startsWith("IMAGE_DATA:"))try{const C=F.replace("IMAGE_DATA:",""),G=JSON.parse(C);R.push(G)}catch(C){console.error("Error parsing image data:",C)}else F.trim()&&!F.startsWith("[Imagem ")&&J.push(F);return{images:R,text:J.join(`
`)}},H=(D,U)=>{const R=[];return U.trim()&&R.push(U.trim()),D.forEach(J=>{R.push(`IMAGE_DATA:${JSON.stringify(J)}`)}),R.join(`
`)},W=async D=>{var J;const U=(J=D.clipboardData)==null?void 0:J.items;if(!U)return;let R=!1;for(let F=0;F<U.length;F++){const C=U[F];if(C.type.indexOf("image")!==-1){R=!0,D.preventDefault();const G=C.getAsFile();G&&await Q(G)}}R||setTimeout(()=>{if(w.current){c(w.current.value);const F=H(a,w.current.value);e(F);const C=Xs(F);p(C),n&&n(C)}},0)},Q=async D=>{const U=new FileReader;U.onload=async R=>{var q;const J=(q=R.target)==null?void 0:q.result,F={id:`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,base64:J,name:D.name||`Imagem ${a.length+1}`},C=[...a,F];o(C);const G=H(C,l);if(e(G),i){b(!0);try{console.log(` Extraindo campos da imagem: ${F.name}`);const re=await $g(J);console.log(` Extrao concluda: ${re.length} campos encontrados`);const j=[...u,...re].filter((N,X,$)=>X===$.findIndex(O=>O.name===N.name));p(j),n&&n(j),re.length>0&&y(!0)}catch(re){console.error("Error extracting fields from image:",re)}finally{b(!1)}}},U.readAsDataURL(D)},I=D=>{const U=D.target.value;c(U);const R=H(a,U);e(R);const J=Xs(R);p(J),n&&n(J)},ee=D=>{const U=a.filter(F=>F.id!==D);o(U);const R=H(U,l);e(R);const J=Xs(R);p(J),n&&n(J)},ce=async D=>{const U=D.target.files;if(U){for(let R=0;R<U.length;R++){const J=U[R];J.type.startsWith("image/")&&await Q(J)}D.target&&(D.target.value="")}},M=async D=>{if(D.preventDefault(),D.dataTransfer.files&&D.dataTransfer.files.length>0)for(let U=0;U<D.dataTransfer.files.length;U++){const R=D.dataTransfer.files[U];R.type.startsWith("image/")&&await Q(R)}},te=D=>{D.preventDefault()},A=()=>{y(!g)},V=D=>{const U=a.find(R=>R.id===D);U&&(x(U.base64),_(!0))},Y=D=>{switch(D){case"text":return"Aa";case"number":return"123";case"date":return"";case"select":return"";case"checkbox":return"";case"radio":return"";case"file":return"";case"email":return"";case"url":return"";case"textarea":return"";default:return"?"}};return s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{ref:w,value:l,onChange:I,onPaste:W,onDrop:M,onDragOver:te,placeholder:r,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(Co,{className:"w-4 h-4"}),s.jsx("span",{children:"Pressione Ctrl+V para colar imagens, arraste e solte, ou use o boto para upload"})]}),s.jsxs("label",{className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded cursor-pointer hover:bg-blue-700 transition-colors",children:[s.jsx(eo,{className:"w-3 h-3 mr-1"}),"Upload",s.jsx("input",{ref:T,type:"file",multiple:!0,accept:"image/*",onChange:ce,className:"hidden"})]})]}),m&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),s.jsx("span",{children:"Extraindo campos das imagens..."})]}),a.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h6",{className:"text-sm font-medium text-gray-700",children:["Imagens Anexadas (",a.length,"):"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:a.map(D=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:D.base64,alt:D.name,className:"w-full h-20 object-cover rounded border border-gray-200 shadow-sm"}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity flex items-center justify-center opacity-0 group-hover:opacity-100",children:[s.jsx("button",{type:"button",onClick:()=>V(D.id),className:"p-1 bg-blue-500 text-white rounded-full mx-1",title:"Analisar imagem",children:s.jsx(_g,{className:"w-3 h-3"})}),s.jsx("button",{type:"button",onClick:()=>ee(D.id),className:"p-1 bg-red-500 text-white rounded-full mx-1",title:"Remover imagem",children:s.jsx(wt,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 rounded-b truncate",children:D.name})]},D.id))})]}),u.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("button",{type:"button",onClick:A,className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[s.jsx(zt,{className:"w-4 h-4"}),g?"Ocultar campos extrados":`Mostrar ${u.length} campos extrados automaticamente`]}),g&&s.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h6",{className:"text-sm font-medium text-blue-800 mb-2",children:"Campos Extrados Automaticamente:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[u.slice(0,9).map(D=>s.jsxs("div",{className:"text-xs bg-white p-2 rounded border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:D.name}),D.fieldCategory==="derivado"&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Derivado"})]}),D.value&&s.jsxs("div",{className:"text-gray-700 mb-1 italic",children:['"',D.value,'"']}),s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-blue-600",children:Y(D.type)}),s.jsx("span",{children:D.type})]}),s.jsx("span",{className:D.complexity==="Low"?"text-green-600":D.complexity==="High"?"text-red-600":"text-yellow-600",children:D.complexity})]})]},D.id)),u.length>9&&s.jsx("div",{className:"text-xs bg-gray-100 p-2 rounded border border-gray-200 flex items-center justify-center",children:s.jsxs("span",{className:"text-gray-600",children:["+",u.length-9," campos"]})})]}),s.jsx("div",{className:"mt-2 text-xs text-blue-600",children:'Use o boto "Anlise de Pontos de Funo" para ver todos os campos e realizar a anlise completa.'})]})]}),v&&s.jsx(hd,{screenshotData:h,processId:"image-extraction",onClose:()=>_(!1),onSaveAnalysis:()=>{}})]})},Gv=({data:t,onChange:e,customFieldsValues:r={},onCustomFieldsChange:n})=>{var U;const{hasPermission:i}=Tn(),[a,o]=ne.useState(null),[l,c]=ne.useState(!1),[u,p]=ne.useState(!1),[g,y]=ne.useState(""),[m,b]=ne.useState({}),[v,_]=ne.useState(null),[h,x]=ne.useState(!0),w=()=>{const R={id:Date.now().toString(),name:"",status:"nova",workDetails:"",screenshots:"",websisCreated:void 0};e({scope:{processes:[...t.scope.processes,R]}}),o(R.id),c(!0)},T=(R,J)=>{const F=[...t.scope.processes];F[R]={...F[R],...J},e({scope:{processes:F}})},P=R=>{e({scope:{processes:t.scope.processes.filter((J,F)=>F!==R)}})},H=R=>{switch(R){case"nova":return"bg-green-100 text-green-800 border-green-200";case"alterada":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"excluida":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},W=R=>{switch(R){case"nova":return"Nova";case"alterada":return"Alte";case"excluida":return"Excl";default:return R}},Q=R=>R.status!=="",I=R=>R.status==="alterada",ee=R=>R.status==="nova"||R.status==="excluida"?!0:R.status==="alterada"?R.websisCreated!==void 0:!1,ce=R=>!(!R.name.trim()||R.status==="alterada"&&R.websisCreated===void 0),M=R=>{const J=t.scope.processes.find(F=>F.id===R);J&&ce(J)&&(o(null),c(!1))},te=R=>{o(R),c(!0)},A=()=>{t.scope.processes.filter(J=>J.id===a&&!ce(J)).length>0&&e({scope:{processes:t.scope.processes.filter(J=>J.id!==a)}}),o(null),c(!1)},V=(R,J)=>{if(b(F=>({...F,[R]:J})),h&&J.length>0){const F=t.scope.processes.find(C=>C.id===R);if(F&&F.screenshots){const{images:C}=Y(F.screenshots);C.length>0&&D(R)}}},Y=R=>{if(!R)return{images:[],text:""};const J=R.split(`
`),F=[],C=[];for(const G of J)if(G.startsWith("IMAGE_DATA:"))try{const q=G.replace("IMAGE_DATA:",""),re=JSON.parse(q);F.push(re)}catch(q){console.error("Error parsing image data:",q)}else G.trim()&&!G.startsWith("[Imagem ")&&C.push(G);return{images:F,text:C.join(`
`)}},D=R=>{const J=t.scope.processes.find(F=>F.id===R);J&&(y(J.screenshots||""),_(R),p(!0))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"sticky top-0 bg-white z-20 py-4 border-b border-gray-200 -mx-6 px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Funcionalidades Impactadas"}),s.jsxs("button",{type:"button",onClick:w,disabled:a!==null,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Adicionar Funcionalidade"]})]})}),t.scope.processes.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Funcionalidades Cadastradas:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.scope.processes.map((R,J)=>s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg border text-sm font-medium ${H(R.status)} min-w-[200px]`,children:[s.jsx("span",{className:"font-mono text-xs flex-1 truncate",title:R.name,style:{minWidth:"140px"},children:R.name}),s.jsx("span",{className:"text-xs opacity-75 font-mono w-8 text-center",children:W(R.status)}),s.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[s.jsx("button",{type:"button",onClick:()=>te(R.id),disabled:a!==null,className:"text-current hover:opacity-70 transition-opacity disabled:opacity-30",title:"Editar funcionalidade",children:s.jsx(ko,{className:"w-3 h-3"})}),s.jsx("button",{type:"button",onClick:()=>P(J),disabled:a!==null,className:"text-current hover:opacity-70 transition-opacity disabled:opacity-30",title:"Remover funcionalidade",children:s.jsx(wt,{className:"w-3 h-3"})})]})]},R.id))})]}),l&&a&&s.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h5",{className:"text-lg font-medium text-gray-900",children:[(U=t.scope.processes.find(R=>R.id===a))!=null&&U.name?"Editar":"Nova"," Funcionalidade"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>M(a),disabled:!ce(t.scope.processes.find(R=>R.id===a)),className:"inline-flex items-center px-3 py-1 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(jo,{className:"w-4 h-4 mr-1"}),"Salvar"]}),s.jsxs("button",{type:"button",onClick:A,className:"inline-flex items-center px-3 py-1 bg-gray-600 text-white text-sm font-medium rounded hover:bg-gray-700 transition-colors",children:[s.jsx(wt,{className:"w-4 h-4 mr-1"}),"Cancelar"]})]})]}),(()=>{const R=t.scope.processes.findIndex(F=>F.id===a),J=t.scope.processes[R];return J?s.jsxs("div",{className:"space-y-4 bg-white rounded-lg p-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Funcionalidade *"}),s.jsx("input",{type:"text",value:J.name,onChange:F=>T(R,{name:F.target.value}),placeholder:"Ex: Funcionalidade de Aprovao de Documentos",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status da Funcionalidade *"}),s.jsx("div",{className:"flex gap-4",children:[{value:"nova",label:"Nova"},{value:"alterada",label:"Alterada"},{value:"excluida",label:"Excluda"}].map(F=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`status-${J.id}`,value:F.value,checked:J.status===F.value,onChange:C=>T(R,{status:C.target.value,websisCreated:void 0}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:F.label})]},F.value))})]}),Q(J)&&s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[I(J)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A Websis criou/alterou essa funcionalidade antes? *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`websis-${J.id}`,value:"sim",checked:J.websisCreated===!0,onChange:()=>T(R,{websisCreated:!0}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"SIM"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:`websis-${J.id}`,value:"nao",checked:J.websisCreated===!1,onChange:()=>T(R,{websisCreated:!1}),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"NO"})]})]})]}),ee(J)&&s.jsxs("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detalhamento do Trabalho Realizado"}),s.jsx("textarea",{value:J.workDetails||"",onChange:F=>T(R,{workDetails:F.target.value}),placeholder:"Descreva detalhadamente o trabalho realizado nesta funcionalidade...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prints das Telas Impactadas"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>D(J.id),disabled:!J.screenshots,className:"inline-flex items-center px-2 py-1 text-xs bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors disabled:opacity-50",title:"Realizar anlise de pontos de funo",children:[s.jsx(_g,{className:"w-3 h-3 mr-1"}),"Anlise de Pontos de Funo"]}),s.jsxs("label",{className:"flex items-center text-xs",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:F=>x(F.target.checked),className:"mr-1 text-blue-600 focus:ring-blue-500"}),"Extrao automtica"]})]})]}),s.jsx(Hv,{value:J.screenshots||"",onChange:F=>{T(R,{screenshots:F})},onExtractFields:F=>V(J.id,F),autoExtractEnabled:h,placeholder:"Cole aqui as imagens das telas impactadas usando Ctrl+V ou descreva as telas em texto..."})]})]})]})]}):null})()]}),t.scope.processes.length===0&&!l&&s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-gray-500",children:"Nenhuma funcionalidade adicionada"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Clique em "Adicionar Funcionalidade" para comear'})]}),u&&v&&s.jsx(hd,{screenshotData:g,processId:v,onClose:()=>{p(!1),_(null)},onSaveAnalysis:R=>{if(v){const J=t.scope.processes.findIndex(F=>F.id===v);if(J!==-1){const F=t.scope.processes[J].workDetails||"",C=F+(F?`

`:"")+R;T(J,{workDetails:C})}}}}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Campos Personalizados"}),s.jsx(_s,{sectionName:"scope",analysisId:t.id,initialValues:r,onValuesChange:n})]})]})},qv=({data:t,onChange:e,customFieldsValues:r={},onCustomFieldsChange:n})=>{const i=u=>{const p={id:Date.now().toString(),description:"",severity:"medio",probability:"medio",category:u};e({impacts:{...t.impacts,[u]:[...t.impacts[u],p]}})},a=(u,p,g)=>{const y=[...t.impacts[u]];y[p]={...y[p],...g},e({impacts:{...t.impacts,[u]:y}})},o=(u,p)=>{e({impacts:{...t.impacts,[u]:t.impacts[u].filter((g,y)=>y!==p)}})},l=u=>{switch(u){case"baixo":return"bg-green-100 text-green-800";case"medio":return"bg-yellow-100 text-yellow-800";case"alto":return"bg-orange-100 text-orange-800";case"critico":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=({title:u,category:p,color:g})=>{const y=t.impacts[p];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:`text-lg font-medium ${g}`,children:u}),s.jsxs("button",{type:"button",onClick:()=>i(p),className:"inline-flex items-center px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(dr,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),y.length===0?s.jsx("p",{className:"text-gray-500 text-sm italic",children:"Nenhum impacto adicionado"}):s.jsx("div",{className:"space-y-3",children:y.map((m,b)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("textarea",{value:m.description,onChange:v=>a(p,b,{description:v.target.value}),placeholder:"Descreva o impacto...",rows:2,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors mr-2"}),s.jsx("button",{type:"button",onClick:()=>o(p,b),className:"text-red-500 hover:text-red-700 transition-colors",children:s.jsx(In,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Severidade"}),s.jsxs("select",{value:m.severity,onChange:v=>a(p,b,{severity:v.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"baixo",children:"Baixo"}),s.jsx("option",{value:"medio",children:"Mdio"}),s.jsx("option",{value:"alto",children:"Alto"}),s.jsx("option",{value:"critico",children:"Crtico"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Probabilidade"}),s.jsxs("select",{value:m.probability,onChange:v=>a(p,b,{probability:v.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"baixo",children:"Baixo"}),s.jsx("option",{value:"medio",children:"Mdio"}),s.jsx("option",{value:"alto",children:"Alto"})]})]})]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l(m.severity)}`,children:m.severity.charAt(0).toUpperCase()+m.severity.slice(1)}),s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l(m.probability)}`,children:["Prob: ",m.probability.charAt(0).toUpperCase()+m.probability.slice(1)]})]})]},m.id))})]})};return s.jsxs("div",{className:"space-y-8",children:[s.jsx(c,{title:"Impactos de Negcio",category:"business",color:"text-blue-700"}),s.jsx(c,{title:"Impactos Tcnicos",category:"technical",color:"text-purple-700"}),s.jsx(c,{title:"Impactos Operacionais",category:"operational",color:"text-green-700"}),s.jsx(c,{title:"Impactos Financeiros",category:"financial",color:"text-red-700"}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Campos Personalizados"}),s.jsx(_s,{sectionName:"impacts",analysisId:t.id,initialValues:r,onValuesChange:n})]})]})},Kv=({data:t,onChange:e,customFieldsValues:r={},onCustomFieldsChange:n})=>{const i=()=>{const c={id:Date.now().toString(),description:"",impact:"medio",probability:"medio",mitigation:""};e({risks:[...t.risks,c]})},a=(c,u)=>{const p=[...t.risks];p[c]={...p[c],...u},e({risks:p})},o=c=>{e({risks:t.risks.filter((u,p)=>p!==c)})},l=(c,u)=>{const p={baixo:1,medio:2,alto:3,critico:4},g=p[c]*p[u];return g>=9?{level:"Crtico",color:"bg-red-100 text-red-800",icon:""}:g>=6?{level:"Alto",color:"bg-orange-100 text-orange-800",icon:""}:g>=3?{level:"Mdio",color:"bg-yellow-100 text-yellow-800",icon:""}:{level:"Baixo",color:"bg-green-100 text-green-800",icon:""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ni,{className:"w-5 h-5 text-orange-500"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Matriz de Riscos"})]}),s.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Adicionar Risco"]})]}),t.risks.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(Ni,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum risco identificado"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Clique em "Adicionar Risco" para comear'})]}):s.jsx("div",{className:"space-y-4",children:t.risks.map((c,u)=>{const p=l(c.impact,c.probability);return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:p.icon}),s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${p.color}`,children:["Risco ",p.level]})]}),s.jsx("button",{type:"button",onClick:()=>o(u),className:"text-red-500 hover:text-red-700 transition-colors",children:s.jsx(In,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio do Risco"}),s.jsx("textarea",{value:c.description,onChange:g=>a(u,{description:g.target.value}),placeholder:"Descreva o risco identificado...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Impacto"}),s.jsxs("select",{value:c.impact,onChange:g=>a(u,{impact:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"baixo",children:"Baixo"}),s.jsx("option",{value:"medio",children:"Mdio"}),s.jsx("option",{value:"alto",children:"Alto"}),s.jsx("option",{value:"critico",children:"Crtico"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Probabilidade"}),s.jsxs("select",{value:c.probability,onChange:g=>a(u,{probability:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"baixo",children:"Baixo"}),s.jsx("option",{value:"medio",children:"Mdio"}),s.jsx("option",{value:"alto",children:"Alto"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estratgia de Mitigao"}),s.jsx("textarea",{value:c.mitigation,onChange:g=>a(u,{mitigation:g.target.value}),placeholder:"Como este risco ser mitigado...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})]})]},c.id)})}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Campos Personalizados"}),s.jsx(_s,{sectionName:"risks",analysisId:t.id,initialValues:r,onValuesChange:n})]})]})},Yv=({data:t,onChange:e,customFieldsValues:r={},onCustomFieldsChange:n})=>{const i=()=>{const c={id:Date.now().toString(),action:"",responsible:"",deadline:"",priority:"medio"};e({mitigations:[...t.mitigations,c]})},a=(c,u)=>{const p=[...t.mitigations];p[c]={...p[c],...u},e({mitigations:p})},o=c=>{e({mitigations:t.mitigations.filter((u,p)=>p!==c)})},l=c=>{switch(c){case"alto":return"bg-red-100 text-red-800";case"medio":return"bg-yellow-100 text-yellow-800";case"baixo":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Si,{className:"w-5 h-5 text-green-500"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Plano de Aes de Mitigao"})]}),s.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Adicionar Ao"]})]}),t.mitigations.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(Si,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Nenhuma ao de mitigao definida"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Clique em "Adicionar Ao" para comear'})]}):s.jsx("div",{className:"space-y-4",children:t.mitigations.map((c,u)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l(c.priority)}`,children:["Prioridade ",c.priority.charAt(0).toUpperCase()+c.priority.slice(1)]}),s.jsx("button",{type:"button",onClick:()=>o(u),className:"text-red-500 hover:text-red-700 transition-colors",children:s.jsx(In,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ao de Mitigao"}),s.jsx("textarea",{value:c.action,onChange:p=>a(u,{action:p.target.value}),placeholder:"Descreva a ao a ser tomada...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsvel"}),s.jsx("input",{type:"text",value:c.responsible,onChange:p=>a(u,{responsible:p.target.value}),placeholder:"Nome do responsvel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),s.jsx("input",{type:"date",value:c.deadline,onChange:p=>a(u,{deadline:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),s.jsxs("select",{value:c.priority,onChange:p=>a(u,{priority:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[s.jsx("option",{value:"baixo",children:"Baixo"}),s.jsx("option",{value:"medio",children:"Mdio"}),s.jsx("option",{value:"alto",children:"Alto"})]})]})]})]})]},c.id))}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Campos Personalizados"}),s.jsx(_s,{sectionName:"mitigations",analysisId:t.id,initialValues:r,onValuesChange:n})]})]})},Xv=({data:t,onChange:e,customFieldsValues:r={},onCustomFieldsChange:n})=>{const i=c=>{c.trim()&&e({conclusions:{...t.conclusions,recommendations:[...t.conclusions.recommendations,c.trim()]}})},a=c=>{e({conclusions:{...t.conclusions,recommendations:t.conclusions.recommendations.filter((u,p)=>p!==c)}})},o=c=>{c.trim()&&e({conclusions:{...t.conclusions,nextSteps:[...t.conclusions.nextSteps,c.trim()]}})},l=c=>{e({conclusions:{...t.conclusions,nextSteps:t.conclusions.nextSteps.filter((u,p)=>p!==c)}})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-blue-500"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Concluses e Recomendaes"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resumo Executivo"}),s.jsx("textarea",{value:t.conclusions.summary,onChange:c=>e({conclusions:{...t.conclusions,summary:c.target.value}}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Resuma os principais pontos da anlise de impacto..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recomendaes"}),s.jsx(Zf,{items:t.conclusions.recommendations,onAdd:i,onRemove:a,placeholder:"Ex: Realizar testes em ambiente de homologao"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prximos Passos"}),s.jsx(Zf,{items:t.conclusions.nextSteps,onAdd:o,onRemove:l,placeholder:"Ex: Agendar reunio com stakeholders"})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Campos Personalizados"}),s.jsx(_s,{sectionName:"conclusions",analysisId:t.id,initialValues:r,onValuesChange:n})]})]})},Zf=({items:t,onAdd:e,onRemove:r,placeholder:n})=>{const[i,a]=rr.useState("");return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:o=>a(o.target.value),onKeyPress:o=>{o.key==="Enter"&&(e(i),a(""))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:n}),s.jsx("button",{type:"button",onClick:()=>{e(i),a("")},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s.jsx(dr,{className:"w-4 h-4"})})]}),t.length>0&&s.jsx("div",{className:"space-y-1",children:t.map((o,l)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:o}),s.jsx("button",{type:"button",onClick:()=>r(l),className:"text-red-500 hover:text-red-700 transition-colors",children:s.jsx(wt,{className:"w-4 h-4"})})]},l))})]})},Qv=({data:t})=>{const e=l=>l?new Date(l).toLocaleDateString("pt-BR"):"No informado",r=l=>({baixo:"bg-green-100 text-green-800",medio:"bg-yellow-100 text-yellow-800",alto:"bg-orange-100 text-orange-800",critico:"bg-red-100 text-red-800"})[l]||"bg-gray-100 text-gray-800",n=l=>({nova:"bg-green-100 text-green-800",alterada:"bg-yellow-100 text-yellow-800",excluida:"bg-red-100 text-red-800"})[l]||"bg-gray-100 text-gray-800",i=l=>({nova:"Nova",alterada:"Alterada",excluida:"Excluda"})[l]||l,a=l=>{if(!l)return{images:[],text:""};const c=l.split(`
`),u=[],p=[];for(const g of c)if(g.startsWith("IMAGE_DATA:"))try{const y=g.replace("IMAGE_DATA:",""),m=JSON.parse(y);u.push(m)}catch(y){console.error("Error parsing image data:",y)}else g.trim()&&!g.startsWith("[Imagem ")&&p.push(g);return{images:u,text:p.join(`
`)}},o=l=>{if(!l||!l.includes("=== DADOS EXTRADOS POR IA ==="))return null;const c=l.split("=== DADOS EXTRADOS POR IA ===")[1];if(!c)return null;const u=c.match(/Processo Elementar: (\w+) \(([^)]+)\)/),p=c.match(/Complexidade: (\w+)/),g=c.match(/Total de Pontos de Funo: (\d+)/);return!u||!p||!g?null:{processType:u[1],processTypeDescription:u[2],complexity:p[1],totalFunctionPoints:parseInt(g[1],10)}};return s.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg",children:s.jsx(Yr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 break-words",children:t.title||"Anlise de Impacto"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Documento de Anlise de Impacto"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Kw,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600 flex-shrink-0",children:"Projeto:"}),s.jsx("span",{className:"font-medium truncate",children:t.project||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(ji,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600 flex-shrink-0",children:"Autor:"}),s.jsx("span",{className:"font-medium truncate",children:t.author||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Cg,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600 flex-shrink-0",children:"Data:"}),s.jsx("span",{className:"font-medium",children:e(t.date)})]}),s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Yr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600 flex-shrink-0",children:"Verso:"}),s.jsx("span",{className:"font-medium",children:t.version||"N/A"})]})]})]}),t.description&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Descrio"}),s.jsx("p",{className:"text-gray-700 leading-relaxed break-words",children:t.description})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Escopo"}),t.scope.processes.length>0?s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Funcionalidades Impactadas"}),s.jsx("div",{className:"space-y-4",children:t.scope.processes.map((l,c)=>{const{images:u,text:p}=a(l.screenshots||""),g=o(l.workDetails);return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2 gap-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 break-words flex-1 min-w-0",children:l.name}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full flex-shrink-0 ${n(l.status)}`,children:i(l.status)})]}),l.status==="alterada"&&l.websisCreated!==void 0&&s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"text-sm text-gray-600 break-words",children:[s.jsx("strong",{children:"Websis criou/alterou antes:"})," ",l.websisCreated?"SIM":"NO"]})}),g&&s.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium text-blue-800 mb-1",children:"Anlise de Pontos de Funo"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 font-medium",children:"Processo:"})," ",s.jsxs("span",{className:"text-blue-800",children:[g.processType," (",g.processTypeDescription,")"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 font-medium",children:"Complexidade:"})," ",s.jsx("span",{className:"text-blue-800",children:g.complexity})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 font-medium",children:"Pontos de Funo:"})," ",s.jsx("span",{className:"text-blue-800 font-bold",children:g.totalFunctionPoints})]})]})]}),l.status!==""&&(l.status!=="alterada"||l.websisCreated!==void 0)&&s.jsxs("div",{className:"mt-3 space-y-3 border-t border-gray-100 pt-3",children:[l.workDetails&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detalhamento do Trabalho:"}),s.jsx("p",{className:"text-sm text-gray-600 break-words whitespace-pre-line",children:l.workDetails})]}),(p||u.length>0)&&s.jsxs("div",{children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[s.jsx(Co,{className:"w-4 h-4"}),"Prints das Telas:"]}),p&&s.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded mb-3 break-words",children:p}),u.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(y=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:y.base64,alt:y.name,className:"w-full h-32 object-cover rounded border border-gray-200 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{const m=window.open();m&&m.document.write(`
                                            <html>
                                              <head><title>${y.name}</title></head>
                                              <body style="margin:0;display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f3f4f6;">
                                                <img src="${y.base64}" alt="${y.name}" style="max-width:100%;max-height:100%;object-fit:contain;" />
                                              </body>
                                            </html>
                                          `)}}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 rounded-b truncate",children:y.name})]},y.id))})]})]})]},l.id)})})]}):s.jsx("p",{className:"text-gray-500 italic",children:"Nenhuma funcionalidade definida no escopo."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Anlise de Impactos"}),s.jsx("div",{className:"space-y-6",children:["business","technical","operational","financial"].map(l=>{const c=t.impacts[l],u={business:"Impactos de Negcio",technical:"Impactos Tcnicos",operational:"Impactos Operacionais",financial:"Impactos Financeiros"};return c.length===0?null:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:u[l]}),s.jsx("div",{className:"space-y-3",children:c.map((p,g)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-gray-800 mb-2 break-words",children:p.description}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(p.severity)}`,children:p.severity.charAt(0).toUpperCase()+p.severity.slice(1)}),s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(p.probability)}`,children:["Prob: ",p.probability.charAt(0).toUpperCase()+p.probability.slice(1)]})]})]},p.id))})]},l)})})]}),t.risks.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Matriz de Riscos"}),s.jsx("div",{className:"space-y-4",children:t.risks.map((l,c)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-gray-800 mb-2 font-medium break-words",children:l.description}),s.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(l.impact)}`,children:["Impacto: ",l.impact.charAt(0).toUpperCase()+l.impact.slice(1)]}),s.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(l.probability)}`,children:["Prob: ",l.probability.charAt(0).toUpperCase()+l.probability.slice(1)]})]}),l.mitigation&&s.jsxs("p",{className:"text-sm text-gray-600 break-words",children:[s.jsx("strong",{children:"Mitigao:"})," ",l.mitigation]})]},l.id))})]}),t.mitigations.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Plano de Mitigao"}),s.jsx("div",{className:"space-y-4",children:t.mitigations.map((l,c)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2 gap-3",children:[s.jsx("p",{className:"text-gray-800 font-medium break-words flex-1 min-w-0",children:l.action}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full flex-shrink-0 ${r(l.priority)}`,children:l.priority.charAt(0).toUpperCase()+l.priority.slice(1)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[s.jsxs("p",{className:"break-words",children:[s.jsx("strong",{children:"Responsvel:"})," ",l.responsible]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Prazo:"})," ",e(l.deadline)]})]})]},l.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Concluses e Recomendaes"}),t.conclusions.summary&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Resumo Executivo"}),s.jsx("p",{className:"text-gray-700 leading-relaxed break-words",children:t.conclusions.summary})]}),t.conclusions.recommendations.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Recomendaes"}),s.jsx("ul",{className:"space-y-2",children:t.conclusions.recommendations.map((l,c)=>s.jsxs("li",{className:"text-gray-700 flex items-start gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"break-words",children:l})]},c))})]}),t.conclusions.nextSteps.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Prximos Passos"}),s.jsx("ul",{className:"space-y-2",children:t.conclusions.nextSteps.map((l,c)=>s.jsxs("li",{className:"text-gray-700 flex items-start gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"break-words",children:l})]},c))})]})]})]})},Jv=({sourceAnalysis:t,onComplete:e,onClose:r})=>{const[n,i]=ne.useState({basicInfo:!0,scope:!1,additionalInfo:!1,selectedProcesses:[]}),[a,o]=ne.useState(!1),l=(m,b)=>{i(v=>({...v,[m]:b,selectedProcesses:m==="scope"&&!b?[]:v.selectedProcesses}))},c=(m,b)=>{i(v=>({...v,selectedProcesses:b?[...v.selectedProcesses,m]:v.selectedProcesses.filter(_=>_!==m)}))},u=()=>{const m=t.scope.processes.map(b=>b.id);i(b=>({...b,selectedProcesses:b.selectedProcesses.length===m.length?[]:m}))},p=()=>{const m={id:mr(),title:"",description:"",author:"",date:new Date().toISOString().split("T")[0],version:"1.0",project:"",scope:{processes:[]},impacts:{business:[],technical:[],operational:[],financial:[]},risks:[],mitigations:[],conclusions:{summary:"",recommendations:[],nextSteps:[]}};if(n.basicInfo&&(m.title=`${t.title} - Cpia`,m.description=t.description,m.author=t.author,m.project=t.project,m.version=t.version),n.scope&&n.selectedProcesses.length>0){const b=t.scope.processes.filter(v=>n.selectedProcesses.includes(v.id));m.scope.processes=b.map(v=>({...v,id:mr()}))}return n.additionalInfo&&(m.impacts={business:t.impacts.business.map(b=>({...b,id:mr()})),technical:t.impacts.technical.map(b=>({...b,id:mr()})),operational:t.impacts.operational.map(b=>({...b,id:mr()})),financial:t.impacts.financial.map(b=>({...b,id:mr()}))},m.risks=t.risks.map(b=>({...b,id:mr()})),m.mitigations=t.mitigations.map(b=>({...b,id:mr()})),m.conclusions={summary:t.conclusions.summary,recommendations:[...t.conclusions.recommendations],nextSteps:[...t.conclusions.nextSteps]}),m},g=async()=>{o(!0);try{const m=p();Lg(m),e(m)}catch(m){console.error("Erro ao copiar anlise:",m),alert("Erro ao copiar a anlise. Tente novamente.")}finally{o(!1)}},y=()=>!(!n.basicInfo&&!n.scope&&!n.additionalInfo||n.scope&&n.selectedProcesses.length===0);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nr,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Copiar Anlise"})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Copiando de: ",t.title]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Selecione quais sees voc deseja copiar para a nova anlise:"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:n.basicInfo,onChange:m=>l("basicInfo",m.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Dados Bsicos"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Nmero da PA, projeto, autor, descrio e verso"})]})]})}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("label",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",checked:n.scope,onChange:m=>l("scope",m.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Escopo"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Funcionalidades impactadas (",t.scope.processes.length," disponveis)"]})]})]}),n.scope&&t.scope.processes.length>0&&s.jsxs("div",{className:"ml-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Selecionar funcionalidades:"}),s.jsx("button",{type:"button",onClick:u,className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:n.selectedProcesses.length===t.scope.processes.length?"Desmarcar todas":"Selecionar todas"})]}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:t.scope.processes.map(m=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:n.selectedProcesses.includes(m.id),onChange:b=>c(m.id,b.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm text-gray-900",children:m.name}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",m.status.charAt(0).toUpperCase()+m.status.slice(1),")"]})]})]},m.id))})]})]}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:n.additionalInfo,onChange:m=>l("additionalInfo",m.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Informaes Adicionais"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Anlise de impactos, matriz de riscos, plano de mitigao e concluses"})]})]})})]}),!y()&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Ateno:"})," Selecione pelo menos uma seo para copiar.",n.scope&&n.selectedProcesses.length===0&&" Se escolher copiar o escopo, selecione pelo menos uma funcionalidade."]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:g,disabled:!y()||a,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Copiando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Copiar Anlise"]})})]})]})})},Zv=({onLoadAnalysis:t,onNewAnalysis:e,onClose:r})=>{const{hasPermission:n}=Tn(),[i,a]=ne.useState([]),[o,l]=ne.useState(""),[c,u]=ne.useState("date"),[p,g]=ne.useState(!1),[y,m]=ne.useState(null);ne.useEffect(()=>{b()},[]);const b=()=>{const ee=_i();a(ee)},v=ee=>{if(!n("ANALYSIS","DELETE")){alert("Voc no tem permisso para excluir anlises.");return}window.confirm("Tem certeza que deseja excluir esta anlise?")&&(vv(ee),b())},_=ee=>{if(!n("ANALYSIS","COPY")){alert("Voc no tem permisso para copiar anlises.");return}m(ee),g(!0)},h=ee=>{t(ee),r()},x=()=>{e(),r()},w=ee=>{if(!n("ANALYSIS","EDIT")&&!n("ANALYSIS","VIEW")){alert("Voc no tem permisso para acessar esta anlise.");return}t(ee),r()},T=i.filter(ee=>ee.title.toLowerCase().includes(o.toLowerCase())||ee.project.toLowerCase().includes(o.toLowerCase())||ee.author.toLowerCase().includes(o.toLowerCase())).sort((ee,ce)=>{switch(c){case"date":return new Date(ce.date).getTime()-new Date(ee.date).getTime();case"title":return ee.title.localeCompare(ce.title);case"project":return ee.project.localeCompare(ce.project);default:return 0}}),P=ee=>new Date(ee).toLocaleDateString("pt-BR"),H=n("ANALYSIS","CREATE"),W=n("ANALYSIS","COPY"),Q=n("ANALYSIS","EDIT")||n("ANALYSIS","VIEW"),I=n("ANALYSIS","DELETE");return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerenciar Anlises de Impacto"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[H&&s.jsxs("button",{onClick:x,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Nova Anlise"]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ig,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Buscar por nmero da PA, projeto ou autor...",value:o,onChange:ee=>l(ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:c,onChange:ee=>u(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"date",children:"Ordenar por Data"}),s.jsx("option",{value:"title",children:"Ordenar por Nmero da PA"}),s.jsx("option",{value:"project",children:"Ordenar por Projeto"})]})]}),s.jsx("div",{className:"overflow-auto max-h-[60vh]",children:T.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o?"Nenhuma anlise encontrada":"Nenhuma anlise salva"}),s.jsx("p",{className:"text-gray-500 mb-4",children:o?"Tente ajustar os termos de busca":"Comece criando sua primeira anlise de impacto"}),!o&&s.jsx("div",{className:"flex items-center justify-center gap-3",children:H&&s.jsxs("button",{onClick:x,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(dr,{className:"w-4 h-4 mr-2"}),"Criar Nova Anlise"]})})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(ee=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-white",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:ee.title||"Sem ttulo"}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:ee.project||"Sem projeto"})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[W&&s.jsx("button",{onClick:()=>_(ee),className:"p-1 text-green-600 hover:text-green-800 transition-colors",title:"Copiar anlise",children:s.jsx(Nr,{className:"w-4 h-4"})}),Q&&s.jsx("button",{onClick:()=>w(ee),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Editar",children:s.jsx(sv,{className:"w-4 h-4"})}),I&&s.jsx("button",{onClick:()=>v(ee.id),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Excluir",children:s.jsx(In,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ji,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:ee.author||"Sem autor"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cg,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{children:P(ee.date)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yr,{className:"w-3 h-3 flex-shrink-0"}),s.jsxs("span",{children:["v",ee.version]})]})]}),ee.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2 break-words",children:ee.description}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:[ee.scope.processes.length," processo(s)"]}),s.jsxs("span",{children:[ee.risks.length," risco(s)"]})]})})]},ee.id))})})]})]})}),p&&y&&s.jsx(Jv,{sourceAnalysis:y,onComplete:h,onClose:()=>{g(!1),m(null)}})]})};var eb=Object.defineProperty,tb=Object.defineProperties,rb=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,nb=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,lu=(t,e,r)=>e in t?eb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ce=(t,e)=>{for(var r in e||(e={}))nb.call(e,r)&&lu(t,r,e[r]);if(eh)for(var r of eh(e))sb.call(e,r)&&lu(t,r,e[r]);return t},xs=(t,e)=>tb(t,rb(e)),ae=(t,e,r)=>(lu(t,typeof e!="symbol"?e+"":e,r),r),ta=(t,e,r)=>new Promise((n,i)=>{var a=c=>{try{l(r.next(c))}catch(u){i(u)}},o=c=>{try{l(r.throw(c))}catch(u){i(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,o);l((r=r.apply(t,e)).next())});class io{constructor(e){ae(this,"rootKey"),this.rootKey=e}}const ib=Object.seal({});class ie extends io{constructor(e){super(e),ae(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof io?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:ib}}addChildElement(e){return this.root.push(e),this}}class Tr extends ie{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class xe extends io{constructor(e){super("_attr"),ae(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.keys(this.root).forEach(n=>{const i=this.root[n];if(i!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=i}}),{_attr:r}}}class Ir extends io{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:a})=>xs(Ce({},n),{[i]:a}),{})}}}class He extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gg={},md={exports:{}},ss=typeof Reflect=="object"?Reflect:null,th=ss&&typeof ss.apply=="function"?ss.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},_a;ss&&typeof ss.ownKeys=="function"?_a=ss.ownKeys:Object.getOwnPropertySymbols?_a=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:_a=function(e){return Object.getOwnPropertyNames(e)};function ab(t){console&&console.warn&&console.warn(t)}var qg=Number.isNaN||function(e){return e!==e};function Oe(){Oe.init.call(this)}md.exports=Oe;md.exports.once=ub;Oe.EventEmitter=Oe;Oe.prototype._events=void 0;Oe.prototype._eventsCount=0;Oe.prototype._maxListeners=void 0;var rh=10;function To(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Oe,"defaultMaxListeners",{enumerable:!0,get:function(){return rh},set:function(t){if(typeof t!="number"||t<0||qg(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rh=t}});Oe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Oe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||qg(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Kg(t){return t._maxListeners===void 0?Oe.defaultMaxListeners:t._maxListeners}Oe.prototype.getMaxListeners=function(){return Kg(this)};Oe.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=a[e];if(c===void 0)return!1;if(typeof c=="function")th(c,this,r);else for(var u=c.length,p=Zg(c,u),n=0;n<u;++n)th(p[n],this,r);return!0};function Yg(t,e,r,n){var i,a,o;if(To(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),o=a[e]),o===void 0)o=a[e]=r,++t._eventsCount;else if(typeof o=="function"?o=a[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Kg(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,ab(l)}return t}Oe.prototype.addListener=function(e,r){return Yg(this,e,r,!1)};Oe.prototype.on=Oe.prototype.addListener;Oe.prototype.prependListener=function(e,r){return Yg(this,e,r,!0)};function ob(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Xg(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=ob.bind(n);return i.listener=r,n.wrapFn=i,i}Oe.prototype.once=function(e,r){return To(r),this.on(e,Xg(this,e,r)),this};Oe.prototype.prependOnceListener=function(e,r){return To(r),this.prependListener(e,Xg(this,e,r)),this};Oe.prototype.removeListener=function(e,r){var n,i,a,o,l;if(To(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,a=o;break}if(a<0)return this;a===0?n.shift():lb(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||r)}return this};Oe.prototype.off=Oe.prototype.removeListener;Oe.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),o;for(i=0;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Qg(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?cb(i):Zg(i,i.length)}Oe.prototype.listeners=function(e){return Qg(this,e,!0)};Oe.prototype.rawListeners=function(e){return Qg(this,e,!1)};Oe.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Jg.call(t,e)};Oe.prototype.listenerCount=Jg;function Jg(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Oe.prototype.eventNames=function(){return this._eventsCount>0?_a(this._events):[]};function Zg(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function lb(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function cb(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function ub(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,a),n(o)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}e0(t,e,a,{once:!0}),e!=="error"&&db(t,i,{once:!0})})}function db(t,e,r){typeof t.on=="function"&&e0(t,"error",e,r)}function e0(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var pd=md.exports,cu={exports:{}};typeof Object.create=="function"?cu.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:cu.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Pn=cu.exports;function fb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0={exports:{}},Xe=t0.exports={},sr,ir;function uu(){throw new Error("setTimeout has not been defined")}function du(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?sr=setTimeout:sr=uu}catch{sr=uu}try{typeof clearTimeout=="function"?ir=clearTimeout:ir=du}catch{ir=du}})();function r0(t){if(sr===setTimeout)return setTimeout(t,0);if((sr===uu||!sr)&&setTimeout)return sr=setTimeout,setTimeout(t,0);try{return sr(t,0)}catch{try{return sr.call(null,t,0)}catch{return sr.call(this,t,0)}}}function hb(t){if(ir===clearTimeout)return clearTimeout(t);if((ir===du||!ir)&&clearTimeout)return ir=clearTimeout,clearTimeout(t);try{return ir(t)}catch{try{return ir.call(null,t)}catch{return ir.call(this,t)}}}var vr=[],is=!1,pn,Ca=-1;function mb(){!is||!pn||(is=!1,pn.length?vr=pn.concat(vr):Ca=-1,vr.length&&n0())}function n0(){if(!is){var t=r0(mb);is=!0;for(var e=vr.length;e;){for(pn=vr,vr=[];++Ca<e;)pn&&pn[Ca].run();Ca=-1,e=vr.length}pn=null,is=!1,hb(t)}}Xe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];vr.push(new s0(t,e)),vr.length===1&&!is&&r0(n0)};function s0(t,e){this.fun=t,this.array=e}s0.prototype.run=function(){this.fun.apply(null,this.array)};Xe.title="browser";Xe.browser=!0;Xe.env={};Xe.argv=[];Xe.version="";Xe.versions={};function Pr(){}Xe.on=Pr;Xe.addListener=Pr;Xe.once=Pr;Xe.off=Pr;Xe.removeListener=Pr;Xe.removeAllListeners=Pr;Xe.emit=Pr;Xe.prependListener=Pr;Xe.prependOnceListener=Pr;Xe.listeners=function(t){return[]};Xe.binding=function(t){throw new Error("process.binding is not supported")};Xe.cwd=function(){return"/"};Xe.chdir=function(t){throw new Error("process.chdir is not supported")};Xe.umask=function(){return 0};var pb=t0.exports;const je=fb(pb);var pl,nh;function i0(){return nh||(nh=1,pl=pd.EventEmitter),pl}var gl={},zs={},sh;function gb(){if(sh)return zs;sh=1,zs.byteLength=l,zs.toByteArray=u,zs.fromByteArray=y;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=m.indexOf("=");v===-1&&(v=b);var _=v===b?0:4-v%4;return[v,_]}function l(m){var b=o(m),v=b[0],_=b[1];return(v+_)*3/4-_}function c(m,b,v){return(b+v)*3/4-v}function u(m){var b,v=o(m),_=v[0],h=v[1],x=new r(c(m,_,h)),w=0,T=h>0?_-4:_,P;for(P=0;P<T;P+=4)b=e[m.charCodeAt(P)]<<18|e[m.charCodeAt(P+1)]<<12|e[m.charCodeAt(P+2)]<<6|e[m.charCodeAt(P+3)],x[w++]=b>>16&255,x[w++]=b>>8&255,x[w++]=b&255;return h===2&&(b=e[m.charCodeAt(P)]<<2|e[m.charCodeAt(P+1)]>>4,x[w++]=b&255),h===1&&(b=e[m.charCodeAt(P)]<<10|e[m.charCodeAt(P+1)]<<4|e[m.charCodeAt(P+2)]>>2,x[w++]=b>>8&255,x[w++]=b&255),x}function p(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function g(m,b,v){for(var _,h=[],x=b;x<v;x+=3)_=(m[x]<<16&16711680)+(m[x+1]<<8&65280)+(m[x+2]&255),h.push(p(_));return h.join("")}function y(m){for(var b,v=m.length,_=v%3,h=[],x=16383,w=0,T=v-_;w<T;w+=x)h.push(g(m,w,w+x>T?T:w+x));return _===1?(b=m[v-1],h.push(t[b>>2]+t[b<<4&63]+"==")):_===2&&(b=(m[v-2]<<8)+m[v-1],h.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),h.join("")}return zs}var ra={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ih;function xb(){return ih||(ih=1,ra.read=function(t,e,r,n,i){var a,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,p=-7,g=r?i-1:0,y=r?-1:1,m=t[e+g];for(g+=y,a=m&(1<<-p)-1,m>>=-p,p+=l;p>0;a=a*256+t[e+g],g+=y,p-=8);for(o=a&(1<<-p)-1,a>>=-p,p+=n;p>0;o=o*256+t[e+g],g+=y,p-=8);if(a===0)a=1-u;else{if(a===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(m?-1:1)*o*Math.pow(2,a-n)},ra.write=function(t,e,r,n,i,a){var o,l,c,u=a*8-i-1,p=(1<<u)-1,g=p>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:a-1,b=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+g>=1?e+=y/c:e+=y*Math.pow(2,1-g),e*c>=2&&(o++,c/=2),o+g>=p?(l=0,o=p):o+g>=1?(l=(e*c-1)*Math.pow(2,i),o=o+g):(l=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[r+m]=l&255,m+=b,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;t[r+m]=o&255,m+=b,o/=256,u-=8);t[r+m-b]|=v*128}),ra}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ah;function Io(){return ah||(ah=1,function(t){var e=gb(),r=xb(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var k=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(k,d),k.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');var d=new Uint8Array(k);return Object.setPrototypeOf(d,l.prototype),d}function l(k,d,f){if(typeof k=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(k)}return c(k,d,f)}l.poolSize=8192;function c(k,d,f){if(typeof k=="string")return y(k,d);if(ArrayBuffer.isView(k))return b(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(oe(k,ArrayBuffer)||k&&oe(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(k,SharedArrayBuffer)||k&&oe(k.buffer,SharedArrayBuffer)))return v(k,d,f);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var E=k.valueOf&&k.valueOf();if(E!=null&&E!==k)return l.from(E,d,f);var B=_(k);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return l.from(k[Symbol.toPrimitive]("string"),d,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}l.from=function(k,d,f){return c(k,d,f)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function p(k,d,f){return u(k),k<=0?o(k):d!==void 0?typeof f=="string"?o(k).fill(d,f):o(k).fill(d):o(k)}l.alloc=function(k,d,f){return p(k,d,f)};function g(k){return u(k),o(k<0?0:h(k)|0)}l.allocUnsafe=function(k){return g(k)},l.allocUnsafeSlow=function(k){return g(k)};function y(k,d){if((typeof d!="string"||d==="")&&(d="utf8"),!l.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var f=w(k,d)|0,E=o(f),B=E.write(k,d);return B!==f&&(E=E.slice(0,B)),E}function m(k){for(var d=k.length<0?0:h(k.length)|0,f=o(d),E=0;E<d;E+=1)f[E]=k[E]&255;return f}function b(k){if(oe(k,Uint8Array)){var d=new Uint8Array(k);return v(d.buffer,d.byteOffset,d.byteLength)}return m(k)}function v(k,d,f){if(d<0||k.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<d+(f||0))throw new RangeError('"length" is outside of buffer bounds');var E;return d===void 0&&f===void 0?E=new Uint8Array(k):f===void 0?E=new Uint8Array(k,d):E=new Uint8Array(k,d,f),Object.setPrototypeOf(E,l.prototype),E}function _(k){if(l.isBuffer(k)){var d=h(k.length)|0,f=o(d);return f.length===0||k.copy(f,0,0,d),f}if(k.length!==void 0)return typeof k.length!="number"||S(k.length)?o(0):m(k);if(k.type==="Buffer"&&Array.isArray(k.data))return m(k.data)}function h(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function x(k){return+k!=k&&(k=0),l.alloc(+k)}l.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==l.prototype},l.compare=function(d,f){if(oe(d,Uint8Array)&&(d=l.from(d,d.offset,d.byteLength)),oe(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(d)||!l.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===f)return 0;for(var E=d.length,B=f.length,Z=0,z=Math.min(E,B);Z<z;++Z)if(d[Z]!==f[Z]){E=d[Z],B=f[Z];break}return E<B?-1:B<E?1:0},l.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(d,f){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return l.alloc(0);var E;if(f===void 0)for(f=0,E=0;E<d.length;++E)f+=d[E].length;var B=l.allocUnsafe(f),Z=0;for(E=0;E<d.length;++E){var z=d[E];if(oe(z,Uint8Array))Z+z.length>B.length?l.from(z).copy(B,Z):Uint8Array.prototype.set.call(B,z,Z);else if(l.isBuffer(z))z.copy(B,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=z.length}return B};function w(k,d){if(l.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||oe(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var f=k.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&f===0)return 0;for(var B=!1;;)switch(d){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return N(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return O(k).length;default:if(B)return E?-1:N(k).length;d=(""+d).toLowerCase(),B=!0}}l.byteLength=w;function T(k,d,f){var E=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,d>>>=0,f<=d))return"";for(k||(k="utf8");;)switch(k){case"hex":return R(this,d,f);case"utf8":case"utf-8":return A(this,d,f);case"ascii":return D(this,d,f);case"latin1":case"binary":return U(this,d,f);case"base64":return te(this,d,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,d,f);default:if(E)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),E=!0}}l.prototype._isBuffer=!0;function P(k,d,f){var E=k[d];k[d]=k[f],k[f]=E}l.prototype.swap16=function(){var d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<d;f+=2)P(this,f,f+1);return this},l.prototype.swap32=function(){var d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<d;f+=4)P(this,f,f+3),P(this,f+1,f+2);return this},l.prototype.swap64=function(){var d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<d;f+=8)P(this,f,f+7),P(this,f+1,f+6),P(this,f+2,f+5),P(this,f+3,f+4);return this},l.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?A(this,0,d):T.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(d){if(!l.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:l.compare(this,d)===0},l.prototype.inspect=function(){var d="",f=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(d+=" ... "),"<Buffer "+d+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(d,f,E,B,Z){if(oe(d,Uint8Array)&&(d=l.from(d,d.offset,d.byteLength)),!l.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(f===void 0&&(f=0),E===void 0&&(E=d?d.length:0),B===void 0&&(B=0),Z===void 0&&(Z=this.length),f<0||E>d.length||B<0||Z>this.length)throw new RangeError("out of range index");if(B>=Z&&f>=E)return 0;if(B>=Z)return-1;if(f>=E)return 1;if(f>>>=0,E>>>=0,B>>>=0,Z>>>=0,this===d)return 0;for(var z=Z-B,le=E-f,fe=Math.min(z,le),de=this.slice(B,Z),pe=d.slice(f,E),we=0;we<fe;++we)if(de[we]!==pe[we]){z=de[we],le=pe[we];break}return z<le?-1:le<z?1:0};function H(k,d,f,E,B){if(k.length===0)return-1;if(typeof f=="string"?(E=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,S(f)&&(f=B?0:k.length-1),f<0&&(f=k.length+f),f>=k.length){if(B)return-1;f=k.length-1}else if(f<0)if(B)f=0;else return-1;if(typeof d=="string"&&(d=l.from(d,E)),l.isBuffer(d))return d.length===0?-1:W(k,d,f,E,B);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(k,d,f):Uint8Array.prototype.lastIndexOf.call(k,d,f):W(k,[d],f,E,B);throw new TypeError("val must be string, number or Buffer")}function W(k,d,f,E,B){var Z=1,z=k.length,le=d.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(k.length<2||d.length<2)return-1;Z=2,z/=2,le/=2,f/=2}function fe(Ne,ot){return Z===1?Ne[ot]:Ne.readUInt16BE(ot*Z)}var de;if(B){var pe=-1;for(de=f;de<z;de++)if(fe(k,de)===fe(d,pe===-1?0:de-pe)){if(pe===-1&&(pe=de),de-pe+1===le)return pe*Z}else pe!==-1&&(de-=de-pe),pe=-1}else for(f+le>z&&(f=z-le),de=f;de>=0;de--){for(var we=!0,be=0;be<le;be++)if(fe(k,de+be)!==fe(d,be)){we=!1;break}if(we)return de}return-1}l.prototype.includes=function(d,f,E){return this.indexOf(d,f,E)!==-1},l.prototype.indexOf=function(d,f,E){return H(this,d,f,E,!0)},l.prototype.lastIndexOf=function(d,f,E){return H(this,d,f,E,!1)};function Q(k,d,f,E){f=Number(f)||0;var B=k.length-f;E?(E=Number(E),E>B&&(E=B)):E=B;var Z=d.length;E>Z/2&&(E=Z/2);for(var z=0;z<E;++z){var le=parseInt(d.substr(z*2,2),16);if(S(le))return z;k[f+z]=le}return z}function I(k,d,f,E){return L(N(d,k.length-f),k,f,E)}function ee(k,d,f,E){return L(X(d),k,f,E)}function ce(k,d,f,E){return L(O(d),k,f,E)}function M(k,d,f,E){return L($(d,k.length-f),k,f,E)}l.prototype.write=function(d,f,E,B){if(f===void 0)B="utf8",E=this.length,f=0;else if(E===void 0&&typeof f=="string")B=f,E=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(E)?(E=E>>>0,B===void 0&&(B="utf8")):(B=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Z=this.length-f;if((E===void 0||E>Z)&&(E=Z),d.length>0&&(E<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var z=!1;;)switch(B){case"hex":return Q(this,d,f,E);case"utf8":case"utf-8":return I(this,d,f,E);case"ascii":case"latin1":case"binary":return ee(this,d,f,E);case"base64":return ce(this,d,f,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,d,f,E);default:if(z)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),z=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(k,d,f){return d===0&&f===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(d,f))}function A(k,d,f){f=Math.min(k.length,f);for(var E=[],B=d;B<f;){var Z=k[B],z=null,le=Z>239?4:Z>223?3:Z>191?2:1;if(B+le<=f){var fe,de,pe,we;switch(le){case 1:Z<128&&(z=Z);break;case 2:fe=k[B+1],(fe&192)===128&&(we=(Z&31)<<6|fe&63,we>127&&(z=we));break;case 3:fe=k[B+1],de=k[B+2],(fe&192)===128&&(de&192)===128&&(we=(Z&15)<<12|(fe&63)<<6|de&63,we>2047&&(we<55296||we>57343)&&(z=we));break;case 4:fe=k[B+1],de=k[B+2],pe=k[B+3],(fe&192)===128&&(de&192)===128&&(pe&192)===128&&(we=(Z&15)<<18|(fe&63)<<12|(de&63)<<6|pe&63,we>65535&&we<1114112&&(z=we))}}z===null?(z=65533,le=1):z>65535&&(z-=65536,E.push(z>>>10&1023|55296),z=56320|z&1023),E.push(z),B+=le}return Y(E)}var V=4096;function Y(k){var d=k.length;if(d<=V)return String.fromCharCode.apply(String,k);for(var f="",E=0;E<d;)f+=String.fromCharCode.apply(String,k.slice(E,E+=V));return f}function D(k,d,f){var E="";f=Math.min(k.length,f);for(var B=d;B<f;++B)E+=String.fromCharCode(k[B]&127);return E}function U(k,d,f){var E="";f=Math.min(k.length,f);for(var B=d;B<f;++B)E+=String.fromCharCode(k[B]);return E}function R(k,d,f){var E=k.length;(!d||d<0)&&(d=0),(!f||f<0||f>E)&&(f=E);for(var B="",Z=d;Z<f;++Z)B+=se[k[Z]];return B}function J(k,d,f){for(var E=k.slice(d,f),B="",Z=0;Z<E.length-1;Z+=2)B+=String.fromCharCode(E[Z]+E[Z+1]*256);return B}l.prototype.slice=function(d,f){var E=this.length;d=~~d,f=f===void 0?E:~~f,d<0?(d+=E,d<0&&(d=0)):d>E&&(d=E),f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),f<d&&(f=d);var B=this.subarray(d,f);return Object.setPrototypeOf(B,l.prototype),B};function F(k,d,f){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+d>f)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(d,f,E){d=d>>>0,f=f>>>0,E||F(d,f,this.length);for(var B=this[d],Z=1,z=0;++z<f&&(Z*=256);)B+=this[d+z]*Z;return B},l.prototype.readUintBE=l.prototype.readUIntBE=function(d,f,E){d=d>>>0,f=f>>>0,E||F(d,f,this.length);for(var B=this[d+--f],Z=1;f>0&&(Z*=256);)B+=this[d+--f]*Z;return B},l.prototype.readUint8=l.prototype.readUInt8=function(d,f){return d=d>>>0,f||F(d,1,this.length),this[d]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(d,f){return d=d>>>0,f||F(d,2,this.length),this[d]|this[d+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(d,f){return d=d>>>0,f||F(d,2,this.length),this[d]<<8|this[d+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(d,f){return d=d>>>0,f||F(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(d,f){return d=d>>>0,f||F(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},l.prototype.readIntLE=function(d,f,E){d=d>>>0,f=f>>>0,E||F(d,f,this.length);for(var B=this[d],Z=1,z=0;++z<f&&(Z*=256);)B+=this[d+z]*Z;return Z*=128,B>=Z&&(B-=Math.pow(2,8*f)),B},l.prototype.readIntBE=function(d,f,E){d=d>>>0,f=f>>>0,E||F(d,f,this.length);for(var B=f,Z=1,z=this[d+--B];B>0&&(Z*=256);)z+=this[d+--B]*Z;return Z*=128,z>=Z&&(z-=Math.pow(2,8*f)),z},l.prototype.readInt8=function(d,f){return d=d>>>0,f||F(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},l.prototype.readInt16LE=function(d,f){d=d>>>0,f||F(d,2,this.length);var E=this[d]|this[d+1]<<8;return E&32768?E|4294901760:E},l.prototype.readInt16BE=function(d,f){d=d>>>0,f||F(d,2,this.length);var E=this[d+1]|this[d]<<8;return E&32768?E|4294901760:E},l.prototype.readInt32LE=function(d,f){return d=d>>>0,f||F(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},l.prototype.readInt32BE=function(d,f){return d=d>>>0,f||F(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},l.prototype.readFloatLE=function(d,f){return d=d>>>0,f||F(d,4,this.length),r.read(this,d,!0,23,4)},l.prototype.readFloatBE=function(d,f){return d=d>>>0,f||F(d,4,this.length),r.read(this,d,!1,23,4)},l.prototype.readDoubleLE=function(d,f){return d=d>>>0,f||F(d,8,this.length),r.read(this,d,!0,52,8)},l.prototype.readDoubleBE=function(d,f){return d=d>>>0,f||F(d,8,this.length),r.read(this,d,!1,52,8)};function C(k,d,f,E,B,Z){if(!l.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>B||d<Z)throw new RangeError('"value" argument is out of bounds');if(f+E>k.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(d,f,E,B){if(d=+d,f=f>>>0,E=E>>>0,!B){var Z=Math.pow(2,8*E)-1;C(this,d,f,E,Z,0)}var z=1,le=0;for(this[f]=d&255;++le<E&&(z*=256);)this[f+le]=d/z&255;return f+E},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(d,f,E,B){if(d=+d,f=f>>>0,E=E>>>0,!B){var Z=Math.pow(2,8*E)-1;C(this,d,f,E,Z,0)}var z=E-1,le=1;for(this[f+z]=d&255;--z>=0&&(le*=256);)this[f+z]=d/le&255;return f+E},l.prototype.writeUint8=l.prototype.writeUInt8=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,1,255,0),this[f]=d&255,f+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,2,65535,0),this[f]=d&255,this[f+1]=d>>>8,f+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,2,65535,0),this[f]=d>>>8,this[f+1]=d&255,f+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,4,4294967295,0),this[f+3]=d>>>24,this[f+2]=d>>>16,this[f+1]=d>>>8,this[f]=d&255,f+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,4,4294967295,0),this[f]=d>>>24,this[f+1]=d>>>16,this[f+2]=d>>>8,this[f+3]=d&255,f+4},l.prototype.writeIntLE=function(d,f,E,B){if(d=+d,f=f>>>0,!B){var Z=Math.pow(2,8*E-1);C(this,d,f,E,Z-1,-Z)}var z=0,le=1,fe=0;for(this[f]=d&255;++z<E&&(le*=256);)d<0&&fe===0&&this[f+z-1]!==0&&(fe=1),this[f+z]=(d/le>>0)-fe&255;return f+E},l.prototype.writeIntBE=function(d,f,E,B){if(d=+d,f=f>>>0,!B){var Z=Math.pow(2,8*E-1);C(this,d,f,E,Z-1,-Z)}var z=E-1,le=1,fe=0;for(this[f+z]=d&255;--z>=0&&(le*=256);)d<0&&fe===0&&this[f+z+1]!==0&&(fe=1),this[f+z]=(d/le>>0)-fe&255;return f+E},l.prototype.writeInt8=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,1,127,-128),d<0&&(d=255+d+1),this[f]=d&255,f+1},l.prototype.writeInt16LE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,2,32767,-32768),this[f]=d&255,this[f+1]=d>>>8,f+2},l.prototype.writeInt16BE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,2,32767,-32768),this[f]=d>>>8,this[f+1]=d&255,f+2},l.prototype.writeInt32LE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,4,2147483647,-2147483648),this[f]=d&255,this[f+1]=d>>>8,this[f+2]=d>>>16,this[f+3]=d>>>24,f+4},l.prototype.writeInt32BE=function(d,f,E){return d=+d,f=f>>>0,E||C(this,d,f,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[f]=d>>>24,this[f+1]=d>>>16,this[f+2]=d>>>8,this[f+3]=d&255,f+4};function G(k,d,f,E,B,Z){if(f+E>k.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function q(k,d,f,E,B){return d=+d,f=f>>>0,B||G(k,d,f,4),r.write(k,d,f,E,23,4),f+4}l.prototype.writeFloatLE=function(d,f,E){return q(this,d,f,!0,E)},l.prototype.writeFloatBE=function(d,f,E){return q(this,d,f,!1,E)};function re(k,d,f,E,B){return d=+d,f=f>>>0,B||G(k,d,f,8),r.write(k,d,f,E,52,8),f+8}l.prototype.writeDoubleLE=function(d,f,E){return re(this,d,f,!0,E)},l.prototype.writeDoubleBE=function(d,f,E){return re(this,d,f,!1,E)},l.prototype.copy=function(d,f,E,B){if(!l.isBuffer(d))throw new TypeError("argument should be a Buffer");if(E||(E=0),!B&&B!==0&&(B=this.length),f>=d.length&&(f=d.length),f||(f=0),B>0&&B<E&&(B=E),B===E||d.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),d.length-f<B-E&&(B=d.length-f+E);var Z=B-E;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,E,B):Uint8Array.prototype.set.call(d,this.subarray(E,B),f),Z},l.prototype.fill=function(d,f,E,B){if(typeof d=="string"){if(typeof f=="string"?(B=f,f=0,E=this.length):typeof E=="string"&&(B=E,E=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!l.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(d.length===1){var Z=d.charCodeAt(0);(B==="utf8"&&Z<128||B==="latin1")&&(d=Z)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(f<0||this.length<f||this.length<E)throw new RangeError("Out of range index");if(E<=f)return this;f=f>>>0,E=E===void 0?this.length:E>>>0,d||(d=0);var z;if(typeof d=="number")for(z=f;z<E;++z)this[z]=d;else{var le=l.isBuffer(d)?d:l.from(d,B),fe=le.length;if(fe===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(z=0;z<E-f;++z)this[z+f]=le[z%fe]}return this};var K=/[^+/0-9A-Za-z-_]/g;function j(k){if(k=k.split("=")[0],k=k.trim().replace(K,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function N(k,d){d=d||1/0;for(var f,E=k.length,B=null,Z=[],z=0;z<E;++z){if(f=k.charCodeAt(z),f>55295&&f<57344){if(!B){if(f>56319){(d-=3)>-1&&Z.push(239,191,189);continue}else if(z+1===E){(d-=3)>-1&&Z.push(239,191,189);continue}B=f;continue}if(f<56320){(d-=3)>-1&&Z.push(239,191,189),B=f;continue}f=(B-55296<<10|f-56320)+65536}else B&&(d-=3)>-1&&Z.push(239,191,189);if(B=null,f<128){if((d-=1)<0)break;Z.push(f)}else if(f<2048){if((d-=2)<0)break;Z.push(f>>6|192,f&63|128)}else if(f<65536){if((d-=3)<0)break;Z.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((d-=4)<0)break;Z.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return Z}function X(k){for(var d=[],f=0;f<k.length;++f)d.push(k.charCodeAt(f)&255);return d}function $(k,d){for(var f,E,B,Z=[],z=0;z<k.length&&!((d-=2)<0);++z)f=k.charCodeAt(z),E=f>>8,B=f%256,Z.push(B),Z.push(E);return Z}function O(k){return e.toByteArray(j(k))}function L(k,d,f,E){for(var B=0;B<E&&!(B+f>=d.length||B>=k.length);++B)d[B+f]=k[B];return B}function oe(k,d){return k instanceof d||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===d.name}function S(k){return k!==k}var se=function(){for(var k="0123456789abcdef",d=new Array(256),f=0;f<16;++f)for(var E=f*16,B=0;B<16;++B)d[E+B]=k[f]+k[B];return d}()}(gl)),gl}var xl={},yl={},wl,oh;function a0(){return oh||(oh=1,wl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),wl}var vl,lh;function gd(){if(lh)return vl;lh=1;var t=a0();return vl=function(){return t()&&!!Symbol.toStringTag},vl}var bl,ch;function yb(){if(ch)return bl;ch=1;var t=typeof Symbol<"u"&&Symbol,e=a0();return bl=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},bl}var El,uh;function wb(){if(uh)return El;uh=1;var t={foo:{}},e=Object;return El=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},El}var Nl,dh;function vb(){if(dh)return Nl;dh=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(c,u){for(var p=[],g=0;g<c.length;g+=1)p[g]=c[g];for(var y=0;y<u.length;y+=1)p[y+c.length]=u[y];return p},a=function(c,u){for(var p=[],g=u,y=0;g<c.length;g+=1,y+=1)p[y]=c[g];return p},o=function(l,c){for(var u="",p=0;p<l.length;p+=1)u+=l[p],p+1<l.length&&(u+=c);return u};return Nl=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var p=a(arguments,1),g,y=function(){if(this instanceof g){var h=u.apply(this,i(p,arguments));return Object(h)===h?h:this}return u.apply(c,i(p,arguments))},m=r(0,u.length-p.length),b=[],v=0;v<m;v++)b[v]="$"+v;if(g=Function("binder","return function ("+o(b,",")+"){ return binder.apply(this,arguments); }")(y),u.prototype){var _=function(){};_.prototype=u.prototype,g.prototype=new _,_.prototype=null}return g},Nl}var Sl,fh;function xd(){if(fh)return Sl;fh=1;var t=vb();return Sl=Function.prototype.bind||t,Sl}var jl,hh;function bb(){if(hh)return jl;hh=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=xd();return jl=r.call(t,e),jl}var _l,mh;function Cs(){if(mh)return _l;mh=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(M){try{return r('"use strict"; return ('+M+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var o=function(){throw new n},l=a?function(){try{return arguments.callee,o}catch{try{return a(arguments,"callee").get}catch{return o}}}():o,c=yb()(),u=wb()(),p=Object.getPrototypeOf||(u?function(M){return M.__proto__}:null),g={},y=typeof Uint8Array>"u"||!p?t:p(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":c&&p?p([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&p?p(p([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c||!p?t:p(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c||!p?t:p(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&p?p(""[Symbol.iterator]()):t,"%Symbol%":c?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":l,"%TypedArray%":y,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(p)try{null.error}catch(M){var b=p(p(M));m["%Error.prototype%"]=b}var v=function M(te){var A;if(te==="%AsyncFunction%")A=i("async function () {}");else if(te==="%GeneratorFunction%")A=i("function* () {}");else if(te==="%AsyncGeneratorFunction%")A=i("async function* () {}");else if(te==="%AsyncGenerator%"){var V=M("%AsyncGeneratorFunction%");V&&(A=V.prototype)}else if(te==="%AsyncIteratorPrototype%"){var Y=M("%AsyncGenerator%");Y&&p&&(A=p(Y.prototype))}return m[te]=A,A},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h=xd(),x=bb(),w=h.call(Function.call,Array.prototype.concat),T=h.call(Function.apply,Array.prototype.splice),P=h.call(Function.call,String.prototype.replace),H=h.call(Function.call,String.prototype.slice),W=h.call(Function.call,RegExp.prototype.exec),Q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,ee=function(te){var A=H(te,0,1),V=H(te,-1);if(A==="%"&&V!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(V==="%"&&A!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var Y=[];return P(te,Q,function(D,U,R,J){Y[Y.length]=R?P(J,I,"$1"):U||D}),Y},ce=function(te,A){var V=te,Y;if(x(_,V)&&(Y=_[V],V="%"+Y[0]+"%"),x(m,V)){var D=m[V];if(D===g&&(D=v(V)),typeof D>"u"&&!A)throw new n("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:Y,name:V,value:D}}throw new e("intrinsic "+te+" does not exist!")};return _l=function(te,A){if(typeof te!="string"||te.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof A!="boolean")throw new n('"allowMissing" argument must be a boolean');if(W(/^%?[^%]*%?$/,te)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var V=ee(te),Y=V.length>0?V[0]:"",D=ce("%"+Y+"%",A),U=D.name,R=D.value,J=!1,F=D.alias;F&&(Y=F[0],T(V,w([0,1],F)));for(var C=1,G=!0;C<V.length;C+=1){var q=V[C],re=H(q,0,1),K=H(q,-1);if((re==='"'||re==="'"||re==="`"||K==='"'||K==="'"||K==="`")&&re!==K)throw new e("property names with quotes must have matching quotes");if((q==="constructor"||!G)&&(J=!0),Y+="."+q,U="%"+Y+"%",x(m,U))R=m[U];else if(R!=null){if(!(q in R)){if(!A)throw new n("base intrinsic for "+te+" exists, but the property is not available.");return}if(a&&C+1>=V.length){var j=a(R,q);G=!!j,G&&"get"in j&&!("originalValue"in j.get)?R=j.get:R=R[q]}else G=x(R,q),R=R[q];G&&!J&&(m[U]=R)}}return R},_l}var Cl={exports:{}},kl,ph;function o0(){if(ph)return kl;ph=1;var t=Cs(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},kl=r,kl}var Al,gh;function yd(){if(gh)return Al;gh=1;var t=Cs(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Al=e,Al}var Tl,xh;function Eb(){if(xh)return Tl;xh=1;var t=o0()(),e=Cs(),r=t&&e("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch{r=!1}var n=e("%SyntaxError%"),i=e("%TypeError%"),a=yd();return Tl=function(l,c,u){if(!l||typeof l!="object"&&typeof l!="function")throw new i("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,b=!!a&&a(l,c);if(r)r(l,c,{configurable:y===null&&b?b.configurable:!y,enumerable:p===null&&b?b.enumerable:!p,value:u,writable:g===null&&b?b.writable:!g});else if(m||!p&&!g&&!y)l[c]=u;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tl}var Il,yh;function Nb(){if(yh)return Il;yh=1;var t=Cs(),e=Eb(),r=o0()(),n=yd(),i=t("%TypeError%"),a=t("%Math.floor%");return Il=function(l,c){if(typeof l!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],p=!0,g=!0;if("length"in l&&n){var y=n(l,"length");y&&!y.configurable&&(p=!1),y&&!y.writable&&(g=!1)}return(p||g||!u)&&(r?e(l,"length",c,!0,!0):e(l,"length",c)),l},Il}var wh;function l0(){return wh||(wh=1,function(t){var e=xd(),r=Cs(),n=Nb(),i=r("%TypeError%"),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(o,a),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(y){if(typeof y!="function")throw new i("a function is required");var m=l(e,o,arguments);return n(m,1+u(0,y.length-(arguments.length-1)),!0)};var p=function(){return l(e,a,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p}(Cl)),Cl.exports}var Pl,vh;function c0(){if(vh)return Pl;vh=1;var t=Cs(),e=l0(),r=e(t("String.prototype.indexOf"));return Pl=function(i,a){var o=t(i,!!a);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},Pl}var Rl,bh;function Sb(){if(bh)return Rl;bh=1;var t=gd()(),e=c0(),r=e("Object.prototype.toString"),n=function(l){return t&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:r(l)==="[object Arguments]"},i=function(l){return n(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&r(l)!=="[object Array]"&&r(l.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,Rl=a?n:i,Rl}var Ol,Eh;function jb(){if(Eh)return Ol;Eh=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=gd()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return Ol=function(c){if(typeof c!="function")return!1;if(r.test(e.call(c)))return!0;if(!n){var u=t.call(c);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var p=a();o=p?i(p):!1}return i(c)===o},Ol}var Fl,Nh;function _b(){if(Nh)return Fl;Nh=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(x){x!==n&&(e=null)}else e=null;var i=/^\s*class\b/,a=function(w){try{var T=t.call(w);return i.test(T)}catch{return!1}},o=function(w){try{return a(w)?!1:(t.call(w),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",u="[object Function]",p="[object GeneratorFunction]",g="[object HTMLAllCollection]",y="[object HTML document.all class]",m="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var h=document.all;l.call(h)===l.call(document.all)&&(_=function(w){if((v||!w)&&(typeof w>"u"||typeof w=="object"))try{var T=l.call(w);return(T===g||T===y||T===m||T===c)&&w("")==null}catch{}return!1})}return Fl=e?function(w){if(_(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;try{e(w,null,r)}catch(T){if(T!==n)return!1}return!a(w)&&o(w)}:function(w){if(_(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;if(b)return o(w);if(a(w))return!1;var T=l.call(w);return T!==u&&T!==p&&!/^\[object HTML/.test(T)?!1:o(w)},Fl}var Dl,Sh;function Cb(){if(Sh)return Dl;Sh=1;var t=_b(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,u,p){for(var g=0,y=c.length;g<y;g++)r.call(c,g)&&(p==null?u(c[g],g,c):u.call(p,c[g],g,c))},i=function(c,u,p){for(var g=0,y=c.length;g<y;g++)p==null?u(c.charAt(g),g,c):u.call(p,c.charAt(g),g,c)},a=function(c,u,p){for(var g in c)r.call(c,g)&&(p==null?u(c[g],g,c):u.call(p,c[g],g,c))},o=function(c,u,p){if(!t(u))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=p),e.call(c)==="[object Array]"?n(c,u,g):typeof c=="string"?i(c,u,g):a(c,u,g)};return Dl=o,Dl}var Ll,jh;function kb(){if(jh)return Ll;jh=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?lr:globalThis;return Ll=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},Ll}var Bl,_h;function u0(){if(_h)return Bl;_h=1;var t=Cb(),e=kb(),r=l0(),n=c0(),i=yd(),a=n("Object.prototype.toString"),o=gd()(),l=typeof globalThis>"u"?lr:globalThis,c=e(),u=n("String.prototype.slice"),p=Object.getPrototypeOf,g=n("Array.prototype.indexOf",!0)||function(_,h){for(var x=0;x<_.length;x+=1)if(_[x]===h)return x;return-1},y={__proto__:null};o&&i&&p?t(c,function(v){var _=new l[v];if(Symbol.toStringTag in _){var h=p(_),x=i(h,Symbol.toStringTag);if(!x){var w=p(h);x=i(w,Symbol.toStringTag)}y["$"+v]=r(x.get)}}):t(c,function(v){var _=new l[v],h=_.slice||_.set;h&&(y["$"+v]=r(h))});var m=function(_){var h=!1;return t(y,function(x,w){if(!h)try{"$"+x(_)===w&&(h=u(w,1))}catch{}}),h},b=function(_){var h=!1;return t(y,function(x,w){if(!h)try{x(_),h=u(w,1)}catch{}}),h};return Bl=function(_){if(!_||typeof _!="object")return!1;if(!o){var h=u(a(_),8,-1);return g(c,h)>-1?h:h!=="Object"?!1:b(_)}return i?m(_):null},Bl}var Ml,Ch;function Ab(){if(Ch)return Ml;Ch=1;var t=u0();return Ml=function(r){return!!t(r)},Ml}var kh;function Tb(){return kh||(kh=1,function(t){var e=Sb(),r=jb(),n=u0(),i=Ab();function a(E){return E.call.bind(E)}var o=typeof BigInt<"u",l=typeof Symbol<"u",c=a(Object.prototype.toString),u=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),g=a(Boolean.prototype.valueOf);if(o)var y=a(BigInt.prototype.valueOf);if(l)var m=a(Symbol.prototype.valueOf);function b(E,B){if(typeof E!="object")return!1;try{return B(E),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function v(E){return typeof Promise<"u"&&E instanceof Promise||E!==null&&typeof E=="object"&&typeof E.then=="function"&&typeof E.catch=="function"}t.isPromise=v;function _(E){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(E):i(E)||G(E)}t.isArrayBufferView=_;function h(E){return n(E)==="Uint8Array"}t.isUint8Array=h;function x(E){return n(E)==="Uint8ClampedArray"}t.isUint8ClampedArray=x;function w(E){return n(E)==="Uint16Array"}t.isUint16Array=w;function T(E){return n(E)==="Uint32Array"}t.isUint32Array=T;function P(E){return n(E)==="Int8Array"}t.isInt8Array=P;function H(E){return n(E)==="Int16Array"}t.isInt16Array=H;function W(E){return n(E)==="Int32Array"}t.isInt32Array=W;function Q(E){return n(E)==="Float32Array"}t.isFloat32Array=Q;function I(E){return n(E)==="Float64Array"}t.isFloat64Array=I;function ee(E){return n(E)==="BigInt64Array"}t.isBigInt64Array=ee;function ce(E){return n(E)==="BigUint64Array"}t.isBigUint64Array=ce;function M(E){return c(E)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function te(E){return typeof Map>"u"?!1:M.working?M(E):E instanceof Map}t.isMap=te;function A(E){return c(E)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function V(E){return typeof Set>"u"?!1:A.working?A(E):E instanceof Set}t.isSet=V;function Y(E){return c(E)==="[object WeakMap]"}Y.working=typeof WeakMap<"u"&&Y(new WeakMap);function D(E){return typeof WeakMap>"u"?!1:Y.working?Y(E):E instanceof WeakMap}t.isWeakMap=D;function U(E){return c(E)==="[object WeakSet]"}U.working=typeof WeakSet<"u"&&U(new WeakSet);function R(E){return U(E)}t.isWeakSet=R;function J(E){return c(E)==="[object ArrayBuffer]"}J.working=typeof ArrayBuffer<"u"&&J(new ArrayBuffer);function F(E){return typeof ArrayBuffer>"u"?!1:J.working?J(E):E instanceof ArrayBuffer}t.isArrayBuffer=F;function C(E){return c(E)==="[object DataView]"}C.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&C(new DataView(new ArrayBuffer(1),0,1));function G(E){return typeof DataView>"u"?!1:C.working?C(E):E instanceof DataView}t.isDataView=G;var q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(E){return c(E)==="[object SharedArrayBuffer]"}function K(E){return typeof q>"u"?!1:(typeof re.working>"u"&&(re.working=re(new q)),re.working?re(E):E instanceof q)}t.isSharedArrayBuffer=K;function j(E){return c(E)==="[object AsyncFunction]"}t.isAsyncFunction=j;function N(E){return c(E)==="[object Map Iterator]"}t.isMapIterator=N;function X(E){return c(E)==="[object Set Iterator]"}t.isSetIterator=X;function $(E){return c(E)==="[object Generator]"}t.isGeneratorObject=$;function O(E){return c(E)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=O;function L(E){return b(E,u)}t.isNumberObject=L;function oe(E){return b(E,p)}t.isStringObject=oe;function S(E){return b(E,g)}t.isBooleanObject=S;function se(E){return o&&b(E,y)}t.isBigIntObject=se;function k(E){return l&&b(E,m)}t.isSymbolObject=k;function d(E){return L(E)||oe(E)||S(E)||se(E)||k(E)}t.isBoxedPrimitive=d;function f(E){return typeof Uint8Array<"u"&&(F(E)||K(E))}t.isAnyArrayBuffer=f,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(E){Object.defineProperty(t,E,{enumerable:!1,value:function(){throw new Error(E+" is not supported in userland")}})})}(yl)),yl}var Ul,Ah;function Ib(){return Ah||(Ah=1,Ul=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Ul}var Th;function d0(){return Th||(Th=1,function(t){var e=Object.getOwnPropertyDescriptors||function(G){for(var q=Object.keys(G),re={},K=0;K<q.length;K++)re[q[K]]=Object.getOwnPropertyDescriptor(G,q[K]);return re},r=/%[sdj%]/g;t.format=function(C){if(!P(C)){for(var G=[],q=0;q<arguments.length;q++)G.push(o(arguments[q]));return G.join(" ")}for(var q=1,re=arguments,K=re.length,j=String(C).replace(r,function(X){if(X==="%%")return"%";if(q>=K)return X;switch(X){case"%s":return String(re[q++]);case"%d":return Number(re[q++]);case"%j":try{return JSON.stringify(re[q++])}catch{return"[Circular]"}default:return X}}),N=re[q];q<K;N=re[++q])x(N)||!I(N)?j+=" "+N:j+=" "+o(N);return j},t.deprecate=function(C,G){if(typeof je<"u"&&je.noDeprecation===!0)return C;if(typeof je>"u")return function(){return t.deprecate(C,G).apply(this,arguments)};var q=!1;function re(){if(!q){if(je.throwDeprecation)throw new Error(G);je.traceDeprecation?console.trace(G):console.error(G),q=!0}return C.apply(this,arguments)}return re};var n={},i=/^$/;if(je.env.NODE_DEBUG){var a=je.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}t.debuglog=function(C){if(C=C.toUpperCase(),!n[C])if(i.test(C)){var G=je.pid;n[C]=function(){var q=t.format.apply(t,arguments);console.error("%s %d: %s",C,G,q)}}else n[C]=function(){};return n[C]};function o(C,G){var q={seen:[],stylize:c};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),h(G)?q.showHidden=G:G&&t._extend(q,G),W(q.showHidden)&&(q.showHidden=!1),W(q.depth)&&(q.depth=2),W(q.colors)&&(q.colors=!1),W(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=l),p(q,C,q.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(C,G){var q=o.styles[G];return q?"\x1B["+o.colors[q][0]+"m"+C+"\x1B["+o.colors[q][1]+"m":C}function c(C,G){return C}function u(C){var G={};return C.forEach(function(q,re){G[q]=!0}),G}function p(C,G,q){if(C.customInspect&&G&&M(G.inspect)&&G.inspect!==t.inspect&&!(G.constructor&&G.constructor.prototype===G)){var re=G.inspect(q,C);return P(re)||(re=p(C,re,q)),re}var K=g(C,G);if(K)return K;var j=Object.keys(G),N=u(j);if(C.showHidden&&(j=Object.getOwnPropertyNames(G)),ce(G)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return y(G);if(j.length===0){if(M(G)){var X=G.name?": "+G.name:"";return C.stylize("[Function"+X+"]","special")}if(Q(G))return C.stylize(RegExp.prototype.toString.call(G),"regexp");if(ee(G))return C.stylize(Date.prototype.toString.call(G),"date");if(ce(G))return y(G)}var $="",O=!1,L=["{","}"];if(_(G)&&(O=!0,L=["[","]"]),M(G)){var oe=G.name?": "+G.name:"";$=" [Function"+oe+"]"}if(Q(G)&&($=" "+RegExp.prototype.toString.call(G)),ee(G)&&($=" "+Date.prototype.toUTCString.call(G)),ce(G)&&($=" "+y(G)),j.length===0&&(!O||G.length==0))return L[0]+$+L[1];if(q<0)return Q(G)?C.stylize(RegExp.prototype.toString.call(G),"regexp"):C.stylize("[Object]","special");C.seen.push(G);var S;return O?S=m(C,G,q,N,j):S=j.map(function(se){return b(C,G,q,N,se,O)}),C.seen.pop(),v(S,$,L)}function g(C,G){if(W(G))return C.stylize("undefined","undefined");if(P(G)){var q="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(q,"string")}if(T(G))return C.stylize(""+G,"number");if(h(G))return C.stylize(""+G,"boolean");if(x(G))return C.stylize("null","null")}function y(C){return"["+Error.prototype.toString.call(C)+"]"}function m(C,G,q,re,K){for(var j=[],N=0,X=G.length;N<X;++N)U(G,String(N))?j.push(b(C,G,q,re,String(N),!0)):j.push("");return K.forEach(function($){$.match(/^\d+$/)||j.push(b(C,G,q,re,$,!0))}),j}function b(C,G,q,re,K,j){var N,X,$;if($=Object.getOwnPropertyDescriptor(G,K)||{value:G[K]},$.get?$.set?X=C.stylize("[Getter/Setter]","special"):X=C.stylize("[Getter]","special"):$.set&&(X=C.stylize("[Setter]","special")),U(re,K)||(N="["+K+"]"),X||(C.seen.indexOf($.value)<0?(x(q)?X=p(C,$.value,null):X=p(C,$.value,q-1),X.indexOf(`
`)>-1&&(j?X=X.split(`
`).map(function(O){return"  "+O}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(O){return"   "+O}).join(`
`))):X=C.stylize("[Circular]","special")),W(N)){if(j&&K.match(/^\d+$/))return X;N=JSON.stringify(""+K),N.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.slice(1,-1),N=C.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=C.stylize(N,"string"))}return N+": "+X}function v(C,G,q){var re=C.reduce(function(K,j){return j.indexOf(`
`)>=0,K+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?q[0]+(G===""?"":G+`
 `)+" "+C.join(`,
  `)+" "+q[1]:q[0]+G+" "+C.join(", ")+" "+q[1]}t.types=Tb();function _(C){return Array.isArray(C)}t.isArray=_;function h(C){return typeof C=="boolean"}t.isBoolean=h;function x(C){return C===null}t.isNull=x;function w(C){return C==null}t.isNullOrUndefined=w;function T(C){return typeof C=="number"}t.isNumber=T;function P(C){return typeof C=="string"}t.isString=P;function H(C){return typeof C=="symbol"}t.isSymbol=H;function W(C){return C===void 0}t.isUndefined=W;function Q(C){return I(C)&&A(C)==="[object RegExp]"}t.isRegExp=Q,t.types.isRegExp=Q;function I(C){return typeof C=="object"&&C!==null}t.isObject=I;function ee(C){return I(C)&&A(C)==="[object Date]"}t.isDate=ee,t.types.isDate=ee;function ce(C){return I(C)&&(A(C)==="[object Error]"||C instanceof Error)}t.isError=ce,t.types.isNativeError=ce;function M(C){return typeof C=="function"}t.isFunction=M;function te(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}t.isPrimitive=te,t.isBuffer=Ib();function A(C){return Object.prototype.toString.call(C)}function V(C){return C<10?"0"+C.toString(10):C.toString(10)}var Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var C=new Date,G=[V(C.getHours()),V(C.getMinutes()),V(C.getSeconds())].join(":");return[C.getDate(),Y[C.getMonth()],G].join(" ")}t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))},t.inherits=Pn,t._extend=function(C,G){if(!G||!I(G))return C;for(var q=Object.keys(G),re=q.length;re--;)C[q[re]]=G[q[re]];return C};function U(C,G){return Object.prototype.hasOwnProperty.call(C,G)}var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');if(R&&G[R]){var q=G[R];if(typeof q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,R,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(){for(var re,K,j=new Promise(function($,O){re=$,K=O}),N=[],X=0;X<arguments.length;X++)N.push(arguments[X]);N.push(function($,O){$?K($):re(O)});try{G.apply(this,N)}catch($){K($)}return j}return Object.setPrototypeOf(q,Object.getPrototypeOf(G)),R&&Object.defineProperty(q,R,{value:q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(q,e(G))},t.promisify.custom=R;function J(C,G){if(!C){var q=new Error("Promise was rejected with a falsy value");q.reason=C,C=q}return G(C)}function F(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var q=[],re=0;re<arguments.length;re++)q.push(arguments[re]);var K=q.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var j=this,N=function(){return K.apply(j,arguments)};C.apply(this,q).then(function(X){je.nextTick(N.bind(null,null,X))},function(X){je.nextTick(J.bind(null,X,N))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(C)),Object.defineProperties(G,e(C)),G}t.callbackify=F}(xl)),xl}var zl,Ih;function Pb(){if(Ih)return zl;Ih=1;function t(y,m){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(y);m&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(y,_).enumerable})),b.push.apply(b,v)}return b}function e(y){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?t(Object(b),!0).forEach(function(v){r(y,v,b[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(v){Object.defineProperty(y,v,Object.getOwnPropertyDescriptor(b,v))})}return y}function r(y,m,b){return m in y?Object.defineProperty(y,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[m]=b,y}function n(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function i(y,m){for(var b=0;b<m.length;b++){var v=m[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}function a(y,m,b){return m&&i(y.prototype,m),y}var o=Io(),l=o.Buffer,c=d0(),u=c.inspect,p=u&&u.custom||"inspect";function g(y,m,b){l.prototype.copy.call(y,m,b)}return zl=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return a(y,[{key:"push",value:function(b){var v={data:b,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(b){var v={data:b,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var v=this.head,_=""+v.data;v=v.next;)_+=b+v.data;return _}},{key:"concat",value:function(b){if(this.length===0)return l.alloc(0);for(var v=l.allocUnsafe(b>>>0),_=this.head,h=0;_;)g(_.data,v,h),h+=_.data.length,_=_.next;return v}},{key:"consume",value:function(b,v){var _;return b<this.head.data.length?(_=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?_=this.shift():_=v?this._getString(b):this._getBuffer(b),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var v=this.head,_=1,h=v.data;for(b-=h.length;v=v.next;){var x=v.data,w=b>x.length?x.length:b;if(w===x.length?h+=x:h+=x.slice(0,b),b-=w,b===0){w===x.length?(++_,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=x.slice(w));break}++_}return this.length-=_,h}},{key:"_getBuffer",value:function(b){var v=l.allocUnsafe(b),_=this.head,h=1;for(_.data.copy(v),b-=_.data.length;_=_.next;){var x=_.data,w=b>x.length?x.length:b;if(x.copy(v,v.length-b,0,w),b-=w,b===0){w===x.length?(++h,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=x.slice(w));break}++h}return this.length-=h,v}},{key:p,value:function(b,v){return u(this,e({},v,{depth:0,customInspect:!1}))}}]),y}(),zl}var $l,Ph;function f0(){if(Ph)return $l;Ph=1;function t(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,je.nextTick(i,this,o)):je.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(g){!l&&g?c._writableState?c._writableState.errorEmitted?je.nextTick(r,c):(c._writableState.errorEmitted=!0,je.nextTick(e,c,g)):je.nextTick(e,c,g):l?(je.nextTick(r,c),l(g)):je.nextTick(r,c)}),this)}function e(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function a(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return $l={destroy:t,undestroy:n,errorOrDestroy:a},$l}var Vl={},Rh;function ks(){if(Rh)return Vl;Rh=1;function t(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function r(l,c,u){u||(u=Error);function p(y,m,b){return typeof c=="string"?c:c(y,m,b)}var g=function(y){t(m,y);function m(b,v,_){return y.call(this,p(b,v,_))||this}return m}(u);g.prototype.name=u.name,g.prototype.code=l,e[l]=g}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(p){return String(p)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function a(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var p;typeof c=="string"&&i(c,"not ")?(p="must not be",c=c.replace(/^not /,"")):p="must be";var g;if(a(l," argument"))g="The ".concat(l," ").concat(p," ").concat(n(c,"type"));else{var y=o(l,".")?"property":"argument";g='The "'.concat(l,'" ').concat(y," ").concat(p," ").concat(n(c,"type"))}return g+=". Received type ".concat(typeof u),g},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Vl.codes=e,Vl}var Wl,Oh;function h0(){if(Oh)return Wl;Oh=1;var t=ks().codes.ERR_INVALID_OPT_VALUE;function e(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var l=e(i,o,a);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?a:"highWaterMark";throw new t(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return Wl={getHighWaterMark:r},Wl}var Hl,Fh;function Rb(){if(Fh)return Hl;Fh=1,Hl=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function a(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function e(r){try{if(!lr.localStorage)return!1}catch{return!1}var n=lr.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Hl}var Gl,Dh;function m0(){if(Dh)return Gl;Dh=1,Gl=Q;function t(K){var j=this;this.next=null,this.entry=null,this.finish=function(){re(j,K)}}var e;Q.WritableState=H;var r={deprecate:Rb()},n=i0(),i=Io().Buffer,a=lr.Uint8Array||function(){};function o(K){return i.from(K)}function l(K){return i.isBuffer(K)||K instanceof a}var c=f0(),u=h0(),p=u.getHighWaterMark,g=ks().codes,y=g.ERR_INVALID_ARG_TYPE,m=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_MULTIPLE_CALLBACK,v=g.ERR_STREAM_CANNOT_PIPE,_=g.ERR_STREAM_DESTROYED,h=g.ERR_STREAM_NULL_VALUES,x=g.ERR_STREAM_WRITE_AFTER_END,w=g.ERR_UNKNOWN_ENCODING,T=c.errorOrDestroy;Pn(Q,n);function P(){}function H(K,j,N){e=e||ys(),K=K||{},typeof N!="boolean"&&(N=j instanceof e),this.objectMode=!!K.objectMode,N&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=p(this,K,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=K.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){Y(j,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}H.prototype.getBuffer=function(){for(var j=this.bufferedRequest,N=[];j;)N.push(j),j=j.next;return N},function(){try{Object.defineProperty(H.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(j){return W.call(this,j)?!0:this!==Q?!1:j&&j._writableState instanceof H}})):W=function(j){return j instanceof this};function Q(K){e=e||ys();var j=this instanceof e;if(!j&&!W.call(Q,this))return new Q(K);this._writableState=new H(K,this,j),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),n.call(this)}Q.prototype.pipe=function(){T(this,new v)};function I(K,j){var N=new x;T(K,N),je.nextTick(j,N)}function ee(K,j,N,X){var $;return N===null?$=new h:typeof N!="string"&&!j.objectMode&&($=new y("chunk",["string","Buffer"],N)),$?(T(K,$),je.nextTick(X,$),!1):!0}Q.prototype.write=function(K,j,N){var X=this._writableState,$=!1,O=!X.objectMode&&l(K);return O&&!i.isBuffer(K)&&(K=o(K)),typeof j=="function"&&(N=j,j=null),O?j="buffer":j||(j=X.defaultEncoding),typeof N!="function"&&(N=P),X.ending?I(this,N):(O||ee(this,X,K,N))&&(X.pendingcb++,$=M(this,X,O,K,j,N)),$},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&R(this,K))},Q.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new w(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(K,j,N){return!K.objectMode&&K.decodeStrings!==!1&&typeof j=="string"&&(j=i.from(j,N)),j}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(K,j,N,X,$,O){if(!N){var L=ce(j,X,$);X!==L&&(N=!0,$="buffer",X=L)}var oe=j.objectMode?1:X.length;j.length+=oe;var S=j.length<j.highWaterMark;if(S||(j.needDrain=!0),j.writing||j.corked){var se=j.lastBufferedRequest;j.lastBufferedRequest={chunk:X,encoding:$,isBuf:N,callback:O,next:null},se?se.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else te(K,j,!1,oe,X,$,O);return S}function te(K,j,N,X,$,O,L){j.writelen=X,j.writecb=L,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new _("write")):N?K._writev($,j.onwrite):K._write($,O,j.onwrite),j.sync=!1}function A(K,j,N,X,$){--j.pendingcb,N?(je.nextTick($,X),je.nextTick(G,K,j),K._writableState.errorEmitted=!0,T(K,X)):($(X),K._writableState.errorEmitted=!0,T(K,X),G(K,j))}function V(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function Y(K,j){var N=K._writableState,X=N.sync,$=N.writecb;if(typeof $!="function")throw new b;if(V(N),j)A(K,N,X,j,$);else{var O=J(N)||K.destroyed;!O&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&R(K,N),X?je.nextTick(D,K,N,O,$):D(K,N,O,$)}}function D(K,j,N,X){N||U(K,j),j.pendingcb--,X(),G(K,j)}function U(K,j){j.length===0&&j.needDrain&&(j.needDrain=!1,K.emit("drain"))}function R(K,j){j.bufferProcessing=!0;var N=j.bufferedRequest;if(K._writev&&N&&N.next){var X=j.bufferedRequestCount,$=new Array(X),O=j.corkedRequestsFree;O.entry=N;for(var L=0,oe=!0;N;)$[L]=N,N.isBuf||(oe=!1),N=N.next,L+=1;$.allBuffers=oe,te(K,j,!0,j.length,$,"",O.finish),j.pendingcb++,j.lastBufferedRequest=null,O.next?(j.corkedRequestsFree=O.next,O.next=null):j.corkedRequestsFree=new t(j),j.bufferedRequestCount=0}else{for(;N;){var S=N.chunk,se=N.encoding,k=N.callback,d=j.objectMode?1:S.length;if(te(K,j,!1,d,S,se,k),N=N.next,j.bufferedRequestCount--,j.writing)break}N===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=N,j.bufferProcessing=!1}Q.prototype._write=function(K,j,N){N(new m("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(K,j,N){var X=this._writableState;return typeof K=="function"?(N=K,K=null,j=null):typeof j=="function"&&(N=j,j=null),K!=null&&this.write(K,j),X.corked&&(X.corked=1,this.uncork()),X.ending||q(this,X,N),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function J(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function F(K,j){K._final(function(N){j.pendingcb--,N&&T(K,N),j.prefinished=!0,K.emit("prefinish"),G(K,j)})}function C(K,j){!j.prefinished&&!j.finalCalled&&(typeof K._final=="function"&&!j.destroyed?(j.pendingcb++,j.finalCalled=!0,je.nextTick(F,K,j)):(j.prefinished=!0,K.emit("prefinish")))}function G(K,j){var N=J(j);if(N&&(C(K,j),j.pendingcb===0&&(j.finished=!0,K.emit("finish"),j.autoDestroy))){var X=K._readableState;(!X||X.autoDestroy&&X.endEmitted)&&K.destroy()}return N}function q(K,j,N){j.ending=!0,G(K,j),N&&(j.finished?je.nextTick(N):K.once("finish",N)),j.ended=!0,K.writable=!1}function re(K,j,N){var X=K.entry;for(K.entry=null;X;){var $=X.callback;j.pendingcb--,$(N),X=X.next}j.corkedRequestsFree.next=K}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),Q.prototype.destroy=c.destroy,Q.prototype._undestroy=c.undestroy,Q.prototype._destroy=function(K,j){j(K)},Gl}var ql,Lh;function ys(){if(Lh)return ql;Lh=1;var t=Object.keys||function(u){var p=[];for(var g in u)p.push(g);return p};ql=o;var e=p0(),r=m0();Pn(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||je.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),ql}var Kl={},na={exports:{}},Bh;function Ob(){return Bh||(Bh=1,function(t,e){var r=Io(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(o,l,c){return n(o,l,c)}i(n,a),a.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},a.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(na,na.exports)),na.exports}var Mh;function fu(){if(Mh)return Kl;Mh=1;var t=Ob().Buffer,e=t.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(h){if(!h)return"utf8";for(var x;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(x)return;h=(""+h).toLowerCase(),x=!0}}function n(h){var x=r(h);if(typeof x!="string"&&(t.isEncoding===e||!e(h)))throw new Error("Unknown encoding: "+h);return x||h}Kl.StringDecoder=i;function i(h){this.encoding=n(h);var x;switch(this.encoding){case"utf16le":this.text=g,this.end=y,x=4;break;case"utf8":this.fillLast=c,x=4;break;case"base64":this.text=m,this.end=b,x=3;break;default:this.write=v,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(x)}i.prototype.write=function(h){if(h.length===0)return"";var x,w;if(this.lastNeed){if(x=this.fillLast(h),x===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<h.length?x?x+this.text(h,w):this.text(h,w):x||""},i.prototype.end=p,i.prototype.text=u,i.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function a(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function o(h,x,w){var T=x.length-1;if(T<w)return 0;var P=a(x[T]);return P>=0?(P>0&&(h.lastNeed=P-1),P):--T<w||P===-2?0:(P=a(x[T]),P>=0?(P>0&&(h.lastNeed=P-2),P):--T<w||P===-2?0:(P=a(x[T]),P>=0?(P>0&&(P===2?P=0:h.lastNeed=P-3),P):0))}function l(h,x,w){if((x[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return h.lastNeed=2,""}}function c(h){var x=this.lastTotal-this.lastNeed,w=l(this,h);if(w!==void 0)return w;if(this.lastNeed<=h.length)return h.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,x,0,h.length),this.lastNeed-=h.length}function u(h,x){var w=o(this,h,x);if(!this.lastNeed)return h.toString("utf8",x);this.lastTotal=w;var T=h.length-(w-this.lastNeed);return h.copy(this.lastChar,0,T),h.toString("utf8",x,T)}function p(h){var x=h&&h.length?this.write(h):"";return this.lastNeed?x+"":x}function g(h,x){if((h.length-x)%2===0){var w=h.toString("utf16le",x);if(w){var T=w.charCodeAt(w.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",x,h.length-1)}function y(h){var x=h&&h.length?this.write(h):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,w)}return x}function m(h,x){var w=(h.length-x)%3;return w===0?h.toString("base64",x):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",x,h.length-w))}function b(h){var x=h&&h.length?this.write(h):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function v(h){return h.toString(this.encoding)}function _(h){return h&&h.length?this.write(h):""}return Kl}var Yl,Uh;function wd(){if(Uh)return Yl;Uh=1;var t=ks().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a.apply(this,c)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,l){if(typeof o=="function")return i(a,null,o);o||(o={}),l=e(l||r);var c=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,p=function(){a.writable||y()},g=a._writableState&&a._writableState.finished,y=function(){u=!1,g=!0,c||l.call(a)},m=a._readableState&&a._readableState.endEmitted,b=function(){c=!1,m=!0,u||l.call(a)},v=function(w){l.call(a,w)},_=function(){var w;if(c&&!m)return(!a._readableState||!a._readableState.ended)&&(w=new t),l.call(a,w);if(u&&!g)return(!a._writableState||!a._writableState.ended)&&(w=new t),l.call(a,w)},h=function(){a.req.on("finish",y)};return n(a)?(a.on("complete",y),a.on("abort",_),a.req?h():a.on("request",h)):u&&!a._writableState&&(a.on("end",p),a.on("close",p)),a.on("end",b),a.on("finish",y),o.error!==!1&&a.on("error",v),a.on("close",_),function(){a.removeListener("complete",y),a.removeListener("abort",_),a.removeListener("request",h),a.req&&a.req.removeListener("finish",y),a.removeListener("end",p),a.removeListener("close",p),a.removeListener("finish",y),a.removeListener("end",b),a.removeListener("error",v),a.removeListener("close",_)}}return Yl=i,Yl}var Xl,zh;function Fb(){if(zh)return Xl;zh=1;var t;function e(h,x,w){return x in h?Object.defineProperty(h,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):h[x]=w,h}var r=wd(),n=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function p(h,x){return{value:h,done:x}}function g(h){var x=h[n];if(x!==null){var w=h[u].read();w!==null&&(h[l]=null,h[n]=null,h[i]=null,x(p(w,!1)))}}function y(h){je.nextTick(g,h)}function m(h,x){return function(w,T){h.then(function(){if(x[o]){w(p(void 0,!0));return}x[c](w,T)},T)}}var b=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var x=this,w=this[a];if(w!==null)return Promise.reject(w);if(this[o])return Promise.resolve(p(void 0,!0));if(this[u].destroyed)return new Promise(function(W,Q){je.nextTick(function(){x[a]?Q(x[a]):W(p(void 0,!0))})});var T=this[l],P;if(T)P=new Promise(m(T,this));else{var H=this[u].read();if(H!==null)return Promise.resolve(p(H,!1));P=new Promise(this[c])}return this[l]=P,P}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var x=this;return new Promise(function(w,T){x[u].destroy(null,function(P){if(P){T(P);return}w(p(void 0,!0))})})}),t),b),_=function(x){var w,T=Object.create(v,(w={},e(w,u,{value:x,writable:!0}),e(w,n,{value:null,writable:!0}),e(w,i,{value:null,writable:!0}),e(w,a,{value:null,writable:!0}),e(w,o,{value:x._readableState.endEmitted,writable:!0}),e(w,c,{value:function(H,W){var Q=T[u].read();Q?(T[l]=null,T[n]=null,T[i]=null,H(p(Q,!1))):(T[n]=H,T[i]=W)},writable:!0}),w));return T[l]=null,r(x,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=T[i];H!==null&&(T[l]=null,T[n]=null,T[i]=null,H(P)),T[a]=P;return}var W=T[n];W!==null&&(T[l]=null,T[n]=null,T[i]=null,W(p(void 0,!0))),T[o]=!0}),x.on("readable",y.bind(null,T)),T};return Xl=_,Xl}var Ql,$h;function Db(){return $h||($h=1,Ql=function(){throw new Error("Readable.from is not available in the browser")}),Ql}var Jl,Vh;function p0(){if(Vh)return Jl;Vh=1,Jl=I;var t;I.ReadableState=Q,pd.EventEmitter;var e=function(L,oe){return L.listeners(oe).length},r=i0(),n=Io().Buffer,i=lr.Uint8Array||function(){};function a(O){return n.from(O)}function o(O){return n.isBuffer(O)||O instanceof i}var l=d0(),c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=Pb(),p=f0(),g=h0(),y=g.getHighWaterMark,m=ks().codes,b=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,h=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,w,T;Pn(I,r);var P=p.errorOrDestroy,H=["error","close","destroy","pause","resume"];function W(O,L,oe){if(typeof O.prependListener=="function")return O.prependListener(L,oe);!O._events||!O._events[L]?O.on(L,oe):Array.isArray(O._events[L])?O._events[L].unshift(oe):O._events[L]=[oe,O._events[L]]}function Q(O,L,oe){t=t||ys(),O=O||{},typeof oe!="boolean"&&(oe=L instanceof t),this.objectMode=!!O.objectMode,oe&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=y(this,O,"readableHighWaterMark",oe),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(x||(x=fu().StringDecoder),this.decoder=new x(O.encoding),this.encoding=O.encoding)}function I(O){if(t=t||ys(),!(this instanceof I))return new I(O);var L=this instanceof t;this._readableState=new Q(O,this,L),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),r.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(O,L){L(O)},I.prototype.push=function(O,L){var oe=this._readableState,S;return oe.objectMode?S=!0:typeof O=="string"&&(L=L||oe.defaultEncoding,L!==oe.encoding&&(O=n.from(O,L),L=""),S=!0),ee(this,O,L,!1,S)},I.prototype.unshift=function(O){return ee(this,O,null,!0,!1)};function ee(O,L,oe,S,se){c("readableAddChunk",L);var k=O._readableState;if(L===null)k.reading=!1,Y(O,k);else{var d;if(se||(d=M(k,L)),d)P(O,d);else if(k.objectMode||L&&L.length>0)if(typeof L!="string"&&!k.objectMode&&Object.getPrototypeOf(L)!==n.prototype&&(L=a(L)),S)k.endEmitted?P(O,new h):ce(O,k,L,!0);else if(k.ended)P(O,new v);else{if(k.destroyed)return!1;k.reading=!1,k.decoder&&!oe?(L=k.decoder.write(L),k.objectMode||L.length!==0?ce(O,k,L,!1):R(O,k)):ce(O,k,L,!1)}else S||(k.reading=!1,R(O,k))}return!k.ended&&(k.length<k.highWaterMark||k.length===0)}function ce(O,L,oe,S){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,O.emit("data",oe)):(L.length+=L.objectMode?1:oe.length,S?L.buffer.unshift(oe):L.buffer.push(oe),L.needReadable&&D(O)),R(O,L)}function M(O,L){var oe;return!o(L)&&typeof L!="string"&&L!==void 0&&!O.objectMode&&(oe=new b("chunk",["string","Buffer","Uint8Array"],L)),oe}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(O){x||(x=fu().StringDecoder);var L=new x(O);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,S="";oe!==null;)S+=L.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),S!==""&&this._readableState.buffer.push(S),this._readableState.length=S.length,this};var te=1073741824;function A(O){return O>=te?O=te:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function V(O,L){return O<=0||L.length===0&&L.ended?0:L.objectMode?1:O!==O?L.flowing&&L.length?L.buffer.head.data.length:L.length:(O>L.highWaterMark&&(L.highWaterMark=A(O)),O<=L.length?O:L.ended?L.length:(L.needReadable=!0,0))}I.prototype.read=function(O){c("read",O),O=parseInt(O,10);var L=this._readableState,oe=O;if(O!==0&&(L.emittedReadable=!1),O===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return c("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?N(this):D(this),null;if(O=V(O,L),O===0&&L.ended)return L.length===0&&N(this),null;var S=L.needReadable;c("need readable",S),(L.length===0||L.length-O<L.highWaterMark)&&(S=!0,c("length less than watermark",S)),L.ended||L.reading?(S=!1,c("reading or ended",S)):S&&(c("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(O=V(oe,L)));var se;return O>0?se=j(O,L):se=null,se===null?(L.needReadable=L.length<=L.highWaterMark,O=0):(L.length-=O,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),oe!==O&&L.ended&&N(this)),se!==null&&this.emit("data",se),se};function Y(O,L){if(c("onEofChunk"),!L.ended){if(L.decoder){var oe=L.decoder.end();oe&&oe.length&&(L.buffer.push(oe),L.length+=L.objectMode?1:oe.length)}L.ended=!0,L.sync?D(O):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,U(O)))}}function D(O){var L=O._readableState;c("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(c("emitReadable",L.flowing),L.emittedReadable=!0,je.nextTick(U,O))}function U(O){var L=O._readableState;c("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(O.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,K(O)}function R(O,L){L.readingMore||(L.readingMore=!0,je.nextTick(J,O,L))}function J(O,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var oe=L.length;if(c("maybeReadMore read 0"),O.read(0),oe===L.length)break}L.readingMore=!1}I.prototype._read=function(O){P(this,new _("_read()"))},I.prototype.pipe=function(O,L){var oe=this,S=this._readableState;switch(S.pipesCount){case 0:S.pipes=O;break;case 1:S.pipes=[S.pipes,O];break;default:S.pipes.push(O);break}S.pipesCount+=1,c("pipe count=%d opts=%j",S.pipesCount,L);var se=(!L||L.end!==!1)&&O!==je.stdout&&O!==je.stderr,k=se?f:pe;S.endEmitted?je.nextTick(k):oe.once("end",k),O.on("unpipe",d);function d(we,be){c("onunpipe"),we===oe&&be&&be.hasUnpiped===!1&&(be.hasUnpiped=!0,Z())}function f(){c("onend"),O.end()}var E=F(oe);O.on("drain",E);var B=!1;function Z(){c("cleanup"),O.removeListener("close",fe),O.removeListener("finish",de),O.removeListener("drain",E),O.removeListener("error",le),O.removeListener("unpipe",d),oe.removeListener("end",f),oe.removeListener("end",pe),oe.removeListener("data",z),B=!0,S.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&E()}oe.on("data",z);function z(we){c("ondata");var be=O.write(we);c("dest.write",be),be===!1&&((S.pipesCount===1&&S.pipes===O||S.pipesCount>1&&$(S.pipes,O)!==-1)&&!B&&(c("false write response, pause",S.awaitDrain),S.awaitDrain++),oe.pause())}function le(we){c("onerror",we),pe(),O.removeListener("error",le),e(O,"error")===0&&P(O,we)}W(O,"error",le);function fe(){O.removeListener("finish",de),pe()}O.once("close",fe);function de(){c("onfinish"),O.removeListener("close",fe),pe()}O.once("finish",de);function pe(){c("unpipe"),oe.unpipe(O)}return O.emit("pipe",oe),S.flowing||(c("pipe resume"),oe.resume()),O};function F(O){return function(){var oe=O._readableState;c("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&e(O,"data")&&(oe.flowing=!0,K(O))}}I.prototype.unpipe=function(O){var L=this._readableState,oe={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return O&&O!==L.pipes?this:(O||(O=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,O&&O.emit("unpipe",this,oe),this);if(!O){var S=L.pipes,se=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var k=0;k<se;k++)S[k].emit("unpipe",this,{hasUnpiped:!1});return this}var d=$(L.pipes,O);return d===-1?this:(L.pipes.splice(d,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),O.emit("unpipe",this,oe),this)},I.prototype.on=function(O,L){var oe=r.prototype.on.call(this,O,L),S=this._readableState;return O==="data"?(S.readableListening=this.listenerCount("readable")>0,S.flowing!==!1&&this.resume()):O==="readable"&&!S.endEmitted&&!S.readableListening&&(S.readableListening=S.needReadable=!0,S.flowing=!1,S.emittedReadable=!1,c("on readable",S.length,S.reading),S.length?D(this):S.reading||je.nextTick(G,this)),oe},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(O,L){var oe=r.prototype.removeListener.call(this,O,L);return O==="readable"&&je.nextTick(C,this),oe},I.prototype.removeAllListeners=function(O){var L=r.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&je.nextTick(C,this),L};function C(O){var L=O._readableState;L.readableListening=O.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:O.listenerCount("data")>0&&O.resume()}function G(O){c("readable nexttick read 0"),O.read(0)}I.prototype.resume=function(){var O=this._readableState;return O.flowing||(c("resume"),O.flowing=!O.readableListening,q(this,O)),O.paused=!1,this};function q(O,L){L.resumeScheduled||(L.resumeScheduled=!0,je.nextTick(re,O,L))}function re(O,L){c("resume",L.reading),L.reading||O.read(0),L.resumeScheduled=!1,O.emit("resume"),K(O),L.flowing&&!L.reading&&O.read(0)}I.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(O){var L=O._readableState;for(c("flow",L.flowing);L.flowing&&O.read()!==null;);}I.prototype.wrap=function(O){var L=this,oe=this._readableState,S=!1;O.on("end",function(){if(c("wrapped end"),oe.decoder&&!oe.ended){var d=oe.decoder.end();d&&d.length&&L.push(d)}L.push(null)}),O.on("data",function(d){if(c("wrapped data"),oe.decoder&&(d=oe.decoder.write(d)),!(oe.objectMode&&d==null)&&!(!oe.objectMode&&(!d||!d.length))){var f=L.push(d);f||(S=!0,O.pause())}});for(var se in O)this[se]===void 0&&typeof O[se]=="function"&&(this[se]=function(f){return function(){return O[f].apply(O,arguments)}}(se));for(var k=0;k<H.length;k++)O.on(H[k],this.emit.bind(this,H[k]));return this._read=function(d){c("wrapped _read",d),S&&(S=!1,O.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=Fb()),w(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),I._fromList=j,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function j(O,L){if(L.length===0)return null;var oe;return L.objectMode?oe=L.buffer.shift():!O||O>=L.length?(L.decoder?oe=L.buffer.join(""):L.buffer.length===1?oe=L.buffer.first():oe=L.buffer.concat(L.length),L.buffer.clear()):oe=L.buffer.consume(O,L.decoder),oe}function N(O){var L=O._readableState;c("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,je.nextTick(X,L,O))}function X(O,L){if(c("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,L.readable=!1,L.emit("end"),O.autoDestroy)){var oe=L._writableState;(!oe||oe.autoDestroy&&oe.finished)&&L.destroy()}}typeof Symbol=="function"&&(I.from=function(O,L){return T===void 0&&(T=Db()),T(I,O,L)});function $(O,L){for(var oe=0,S=O.length;oe<S;oe++)if(O[oe]===L)return oe;return-1}return Jl}var Zl,Wh;function g0(){if(Wh)return Zl;Wh=1,Zl=l;var t=ks().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=ys();Pn(l,a);function o(p,g){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new r);y.writechunk=null,y.writecb=null,g!=null&&this.push(g),m(p);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);a.call(this,p),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function c(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,y){u(p,g,y)}):u(this,null,null)}l.prototype.push=function(p,g){return this._transformState.needTransform=!1,a.prototype.push.call(this,p,g)},l.prototype._transform=function(p,g,y){y(new e("_transform()"))},l.prototype._write=function(p,g,y){var m=this._transformState;if(m.writecb=y,m.writechunk=p,m.writeencoding=g,!m.transforming){var b=this._readableState;(m.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},l.prototype._read=function(p){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},l.prototype._destroy=function(p,g){a.prototype._destroy.call(this,p,function(y){g(y)})};function u(p,g,y){if(g)return p.emit("error",g);if(y!=null&&p.push(y),p._writableState.length)throw new i;if(p._transformState.transforming)throw new n;return p.push(null)}return Zl}var ec,Hh;function Lb(){if(Hh)return ec;Hh=1,ec=e;var t=g0();Pn(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},ec}var tc,Gh;function Bb(){if(Gh)return tc;Gh=1;var t;function e(y){var m=!1;return function(){m||(m=!0,y.apply(void 0,arguments))}}var r=ks().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(y){if(y)throw y}function o(y){return y.setHeader&&typeof y.abort=="function"}function l(y,m,b,v){v=e(v);var _=!1;y.on("close",function(){_=!0}),t===void 0&&(t=wd()),t(y,{readable:m,writable:b},function(x){if(x)return v(x);_=!0,v()});var h=!1;return function(x){if(!_&&!h){if(h=!0,o(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();v(x||new i("pipe"))}}}function c(y){y()}function u(y,m){return y.pipe(m)}function p(y){return!y.length||typeof y[y.length-1]!="function"?a:y.pop()}function g(){for(var y=arguments.length,m=new Array(y),b=0;b<y;b++)m[b]=arguments[b];var v=p(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var _,h=m.map(function(x,w){var T=w<m.length-1,P=w>0;return l(x,T,P,function(H){_||(_=H),H&&h.forEach(c),!T&&(h.forEach(c),v(_))})});return m.reduce(u)}return tc=g,tc}var vd=Wt,bd=pd.EventEmitter,Mb=Pn;Mb(Wt,bd);Wt.Readable=p0();Wt.Writable=m0();Wt.Duplex=ys();Wt.Transform=g0();Wt.PassThrough=Lb();Wt.finished=wd();Wt.pipeline=Bb();Wt.Stream=Wt;function Wt(){bd.call(this)}Wt.prototype.pipe=function(t,e){var r=this;function n(p){t.writable&&t.write(p)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",l));var a=!1;function o(){a||(a=!0,t.end())}function l(){a||(a=!0,typeof t.destroy=="function"&&t.destroy())}function c(p){if(u(),bd.listenerCount(this,"error")===0)throw p}r.on("error",c),t.on("error",c);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",l),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t};(function(t){(function(e){e.parser=function(j,N){return new n(j,N)},e.SAXParser=n,e.SAXStream=p,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(j,N){if(!(this instanceof n))return new n(j,N);var X=this;a(X),X.q=X.c="",X.bufferCheckPosition=e.MAX_BUFFER_LENGTH,X.opt=N||{},X.opt.lowercase=X.opt.lowercase||X.opt.lowercasetags,X.looseCase=X.opt.lowercase?"toLowerCase":"toUpperCase",X.tags=[],X.closed=X.closedRoot=X.sawRoot=!1,X.tag=X.error=null,X.strict=!!j,X.noscript=!!(j||X.opt.noscript),X.state=I.BEGIN,X.strictEntities=X.opt.strictEntities,X.ENTITIES=X.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),X.attribList=[],X.opt.xmlns&&(X.ns=Object.create(v)),X.trackPosition=X.opt.position!==!1,X.trackPosition&&(X.position=X.line=X.column=0),ce(X,"onready")}Object.create||(Object.create=function(j){function N(){}N.prototype=j;var X=new N;return X}),Object.keys||(Object.keys=function(j){var N=[];for(var X in j)j.hasOwnProperty(X)&&N.push(X);return N});function i(j){for(var N=Math.max(e.MAX_BUFFER_LENGTH,10),X=0,$=0,O=r.length;$<O;$++){var L=j[r[$]].length;if(L>N)switch(r[$]){case"textNode":te(j);break;case"cdata":M(j,"oncdata",j.cdata),j.cdata="";break;case"script":M(j,"onscript",j.script),j.script="";break;default:V(j,"Max buffer length exceeded: "+r[$])}X=Math.max(X,L)}var oe=e.MAX_BUFFER_LENGTH-X;j.bufferCheckPosition=oe+j.position}function a(j){for(var N=0,X=r.length;N<X;N++)j[r[N]]=""}function o(j){te(j),j.cdata!==""&&(M(j,"oncdata",j.cdata),j.cdata=""),j.script!==""&&(M(j,"onscript",j.script),j.script="")}n.prototype={end:function(){Y(this)},write:K,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=vd.Stream}catch{l=function(){}}var c=e.EVENTS.filter(function(j){return j!=="error"&&j!=="end"});function u(j,N){return new p(j,N)}function p(j,N){if(!(this instanceof p))return new p(j,N);l.apply(this),this._parser=new n(j,N),this.writable=!0,this.readable=!0;var X=this;this._parser.onend=function(){X.emit("end")},this._parser.onerror=function($){X.emit("error",$),X._parser.error=null},this._decoder=null,c.forEach(function($){Object.defineProperty(X,"on"+$,{get:function(){return X._parser["on"+$]},set:function(O){if(!O)return X.removeAllListeners($),X._parser["on"+$]=O,O;X.on($,O)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(l.prototype,{constructor:{value:p}}),p.prototype.write=function(j){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(j)){if(!this._decoder){var N=fu().StringDecoder;this._decoder=new N("utf8")}j=this._decoder.write(j)}return this._parser.write(j.toString()),this.emit("data",j),!0},p.prototype.end=function(j){return j&&j.length&&this.write(j),this._parser.end(),!0},p.prototype.on=function(j,N){var X=this;return!X._parser["on"+j]&&c.indexOf(j)!==-1&&(X._parser["on"+j]=function(){var $=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);$.splice(0,0,j),X.emit.apply(X,$)}),l.prototype.on.call(X,j,N)};var g="[CDATA[",y="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",v={xml:m,xmlns:b},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(j){return j===" "||j===`
`||j==="\r"||j==="	"}function P(j){return j==='"'||j==="'"}function H(j){return j===">"||T(j)}function W(j,N){return j.test(N)}function Q(j,N){return!W(j,N)}var I=0;e.STATE={BEGIN:I++,BEGIN_WHITESPACE:I++,TEXT:I++,TEXT_ENTITY:I++,OPEN_WAKA:I++,SGML_DECL:I++,SGML_DECL_QUOTED:I++,DOCTYPE:I++,DOCTYPE_QUOTED:I++,DOCTYPE_DTD:I++,DOCTYPE_DTD_QUOTED:I++,COMMENT_STARTING:I++,COMMENT:I++,COMMENT_ENDING:I++,COMMENT_ENDED:I++,CDATA:I++,CDATA_ENDING:I++,CDATA_ENDING_2:I++,PROC_INST:I++,PROC_INST_BODY:I++,PROC_INST_ENDING:I++,OPEN_TAG:I++,OPEN_TAG_SLASH:I++,ATTRIB:I++,ATTRIB_NAME:I++,ATTRIB_NAME_SAW_WHITE:I++,ATTRIB_VALUE:I++,ATTRIB_VALUE_QUOTED:I++,ATTRIB_VALUE_CLOSED:I++,ATTRIB_VALUE_UNQUOTED:I++,ATTRIB_VALUE_ENTITY_Q:I++,ATTRIB_VALUE_ENTITY_U:I++,CLOSE_TAG:I++,CLOSE_TAG_SAW_WHITE:I++,SCRIPT:I++,SCRIPT_ENDING:I++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(j){var N=e.ENTITIES[j],X=typeof N=="number"?String.fromCharCode(N):N;e.ENTITIES[j]=X});for(var ee in e.STATE)e.STATE[e.STATE[ee]]=ee;I=e.STATE;function ce(j,N,X){j[N]&&j[N](X)}function M(j,N,X){j.textNode&&te(j),ce(j,N,X)}function te(j){j.textNode=A(j.opt,j.textNode),j.textNode&&ce(j,"ontext",j.textNode),j.textNode=""}function A(j,N){return j.trim&&(N=N.trim()),j.normalize&&(N=N.replace(/\s+/g," ")),N}function V(j,N){return te(j),j.trackPosition&&(N+=`
Line: `+j.line+`
Column: `+j.column+`
Char: `+j.c),N=new Error(N),j.error=N,ce(j,"onerror",N),j}function Y(j){return j.sawRoot&&!j.closedRoot&&D(j,"Unclosed root tag"),j.state!==I.BEGIN&&j.state!==I.BEGIN_WHITESPACE&&j.state!==I.TEXT&&V(j,"Unexpected end"),te(j),j.c="",j.closed=!0,ce(j,"onend"),n.call(j,j.strict,j.opt),j}function D(j,N){if(typeof j!="object"||!(j instanceof n))throw new Error("bad call to strictFail");j.strict&&V(j,N)}function U(j){j.strict||(j.tagName=j.tagName[j.looseCase]());var N=j.tags[j.tags.length-1]||j,X=j.tag={name:j.tagName,attributes:{}};j.opt.xmlns&&(X.ns=N.ns),j.attribList.length=0,M(j,"onopentagstart",X)}function R(j,N){var X=j.indexOf(":"),$=X<0?["",j]:j.split(":"),O=$[0],L=$[1];return N&&j==="xmlns"&&(O="xmlns",L=""),{prefix:O,local:L}}function J(j){if(j.strict||(j.attribName=j.attribName[j.looseCase]()),j.attribList.indexOf(j.attribName)!==-1||j.tag.attributes.hasOwnProperty(j.attribName)){j.attribName=j.attribValue="";return}if(j.opt.xmlns){var N=R(j.attribName,!0),X=N.prefix,$=N.local;if(X==="xmlns")if($==="xml"&&j.attribValue!==m)D(j,"xml: prefix must be bound to "+m+`
Actual: `+j.attribValue);else if($==="xmlns"&&j.attribValue!==b)D(j,"xmlns: prefix must be bound to "+b+`
Actual: `+j.attribValue);else{var O=j.tag,L=j.tags[j.tags.length-1]||j;O.ns===L.ns&&(O.ns=Object.create(L.ns)),O.ns[$]=j.attribValue}j.attribList.push([j.attribName,j.attribValue])}else j.tag.attributes[j.attribName]=j.attribValue,M(j,"onattribute",{name:j.attribName,value:j.attribValue});j.attribName=j.attribValue=""}function F(j,N){if(j.opt.xmlns){var X=j.tag,$=R(j.tagName);X.prefix=$.prefix,X.local=$.local,X.uri=X.ns[$.prefix]||"",X.prefix&&!X.uri&&(D(j,"Unbound namespace prefix: "+JSON.stringify(j.tagName)),X.uri=$.prefix);var O=j.tags[j.tags.length-1]||j;X.ns&&O.ns!==X.ns&&Object.keys(X.ns).forEach(function(z){M(j,"onopennamespace",{prefix:z,uri:X.ns[z]})});for(var L=0,oe=j.attribList.length;L<oe;L++){var S=j.attribList[L],se=S[0],k=S[1],d=R(se,!0),f=d.prefix,E=d.local,B=f===""?"":X.ns[f]||"",Z={name:se,value:k,prefix:f,local:E,uri:B};f&&f!=="xmlns"&&!B&&(D(j,"Unbound namespace prefix: "+JSON.stringify(f)),Z.uri=f),j.tag.attributes[se]=Z,M(j,"onattribute",Z)}j.attribList.length=0}j.tag.isSelfClosing=!!N,j.sawRoot=!0,j.tags.push(j.tag),M(j,"onopentag",j.tag),N||(!j.noscript&&j.tagName.toLowerCase()==="script"?j.state=I.SCRIPT:j.state=I.TEXT,j.tag=null,j.tagName=""),j.attribName=j.attribValue="",j.attribList.length=0}function C(j){if(!j.tagName){D(j,"Weird empty close tag."),j.textNode+="</>",j.state=I.TEXT;return}if(j.script){if(j.tagName!=="script"){j.script+="</"+j.tagName+">",j.tagName="",j.state=I.SCRIPT;return}M(j,"onscript",j.script),j.script=""}var N=j.tags.length,X=j.tagName;j.strict||(X=X[j.looseCase]());for(var $=X;N--;){var O=j.tags[N];if(O.name!==$)D(j,"Unexpected close tag");else break}if(N<0){D(j,"Unmatched closing tag: "+j.tagName),j.textNode+="</"+j.tagName+">",j.state=I.TEXT;return}j.tagName=X;for(var L=j.tags.length;L-- >N;){var oe=j.tag=j.tags.pop();j.tagName=j.tag.name,M(j,"onclosetag",j.tagName);var S={};for(var se in oe.ns)S[se]=oe.ns[se];var k=j.tags[j.tags.length-1]||j;j.opt.xmlns&&oe.ns!==k.ns&&Object.keys(oe.ns).forEach(function(d){var f=oe.ns[d];M(j,"onclosenamespace",{prefix:d,uri:f})})}N===0&&(j.closedRoot=!0),j.tagName=j.attribValue=j.attribName="",j.attribList.length=0,j.state=I.TEXT}function G(j){var N=j.entity,X=N.toLowerCase(),$,O="";return j.ENTITIES[N]?j.ENTITIES[N]:j.ENTITIES[X]?j.ENTITIES[X]:(N=X,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),$=parseInt(N,16),O=$.toString(16)):(N=N.slice(1),$=parseInt(N,10),O=$.toString(10))),N=N.replace(/^0+/,""),isNaN($)||O.toLowerCase()!==N?(D(j,"Invalid character entity"),"&"+j.entity+";"):String.fromCodePoint($))}function q(j,N){N==="<"?(j.state=I.OPEN_WAKA,j.startTagPosition=j.position):T(N)||(D(j,"Non-whitespace before first tag."),j.textNode=N,j.state=I.TEXT)}function re(j,N){var X="";return N<j.length&&(X=j.charAt(N)),X}function K(j){var N=this;if(this.error)throw this.error;if(N.closed)return V(N,"Cannot write after close. Assign an onready handler.");if(j===null)return Y(N);typeof j=="object"&&(j=j.toString());for(var X=0,$="";$=re(j,X++),N.c=$,!!$;)switch(N.trackPosition&&(N.position++,$===`
`?(N.line++,N.column=0):N.column++),N.state){case I.BEGIN:if(N.state=I.BEGIN_WHITESPACE,$==="\uFEFF")continue;q(N,$);continue;case I.BEGIN_WHITESPACE:q(N,$);continue;case I.TEXT:if(N.sawRoot&&!N.closedRoot){for(var O=X-1;$&&$!=="<"&&$!=="&";)$=re(j,X++),$&&N.trackPosition&&(N.position++,$===`
`?(N.line++,N.column=0):N.column++);N.textNode+=j.substring(O,X-1)}$==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=I.OPEN_WAKA,N.startTagPosition=N.position):(!T($)&&(!N.sawRoot||N.closedRoot)&&D(N,"Text data outside of root node."),$==="&"?N.state=I.TEXT_ENTITY:N.textNode+=$);continue;case I.SCRIPT:$==="<"?N.state=I.SCRIPT_ENDING:N.script+=$;continue;case I.SCRIPT_ENDING:$==="/"?N.state=I.CLOSE_TAG:(N.script+="<"+$,N.state=I.SCRIPT);continue;case I.OPEN_WAKA:if($==="!")N.state=I.SGML_DECL,N.sgmlDecl="";else if(!T($))if(W(_,$))N.state=I.OPEN_TAG,N.tagName=$;else if($==="/")N.state=I.CLOSE_TAG,N.tagName="";else if($==="?")N.state=I.PROC_INST,N.procInstName=N.procInstBody="";else{if(D(N,"Unencoded <"),N.startTagPosition+1<N.position){var L=N.position-N.startTagPosition;$=new Array(L).join(" ")+$}N.textNode+="<"+$,N.state=I.TEXT}continue;case I.SGML_DECL:(N.sgmlDecl+$).toUpperCase()===g?(M(N,"onopencdata"),N.state=I.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+$==="--"?(N.state=I.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+$).toUpperCase()===y?(N.state=I.DOCTYPE,(N.doctype||N.sawRoot)&&D(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):$===">"?(M(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=I.TEXT):(P($)&&(N.state=I.SGML_DECL_QUOTED),N.sgmlDecl+=$);continue;case I.SGML_DECL_QUOTED:$===N.q&&(N.state=I.SGML_DECL,N.q=""),N.sgmlDecl+=$;continue;case I.DOCTYPE:$===">"?(N.state=I.TEXT,M(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=$,$==="["?N.state=I.DOCTYPE_DTD:P($)&&(N.state=I.DOCTYPE_QUOTED,N.q=$));continue;case I.DOCTYPE_QUOTED:N.doctype+=$,$===N.q&&(N.q="",N.state=I.DOCTYPE);continue;case I.DOCTYPE_DTD:N.doctype+=$,$==="]"?N.state=I.DOCTYPE:P($)&&(N.state=I.DOCTYPE_DTD_QUOTED,N.q=$);continue;case I.DOCTYPE_DTD_QUOTED:N.doctype+=$,$===N.q&&(N.state=I.DOCTYPE_DTD,N.q="");continue;case I.COMMENT:$==="-"?N.state=I.COMMENT_ENDING:N.comment+=$;continue;case I.COMMENT_ENDING:$==="-"?(N.state=I.COMMENT_ENDED,N.comment=A(N.opt,N.comment),N.comment&&M(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+$,N.state=I.COMMENT);continue;case I.COMMENT_ENDED:$!==">"?(D(N,"Malformed comment"),N.comment+="--"+$,N.state=I.COMMENT):N.state=I.TEXT;continue;case I.CDATA:$==="]"?N.state=I.CDATA_ENDING:N.cdata+=$;continue;case I.CDATA_ENDING:$==="]"?N.state=I.CDATA_ENDING_2:(N.cdata+="]"+$,N.state=I.CDATA);continue;case I.CDATA_ENDING_2:$===">"?(N.cdata&&M(N,"oncdata",N.cdata),M(N,"onclosecdata"),N.cdata="",N.state=I.TEXT):$==="]"?N.cdata+="]":(N.cdata+="]]"+$,N.state=I.CDATA);continue;case I.PROC_INST:$==="?"?N.state=I.PROC_INST_ENDING:T($)?N.state=I.PROC_INST_BODY:N.procInstName+=$;continue;case I.PROC_INST_BODY:if(!N.procInstBody&&T($))continue;$==="?"?N.state=I.PROC_INST_ENDING:N.procInstBody+=$;continue;case I.PROC_INST_ENDING:$===">"?(M(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=I.TEXT):(N.procInstBody+="?"+$,N.state=I.PROC_INST_BODY);continue;case I.OPEN_TAG:W(h,$)?N.tagName+=$:(U(N),$===">"?F(N):$==="/"?N.state=I.OPEN_TAG_SLASH:(T($)||D(N,"Invalid character in tag name"),N.state=I.ATTRIB));continue;case I.OPEN_TAG_SLASH:$===">"?(F(N,!0),C(N)):(D(N,"Forward-slash in opening tag not followed by >"),N.state=I.ATTRIB);continue;case I.ATTRIB:if(T($))continue;$===">"?F(N):$==="/"?N.state=I.OPEN_TAG_SLASH:W(_,$)?(N.attribName=$,N.attribValue="",N.state=I.ATTRIB_NAME):D(N,"Invalid attribute name");continue;case I.ATTRIB_NAME:$==="="?N.state=I.ATTRIB_VALUE:$===">"?(D(N,"Attribute without value"),N.attribValue=N.attribName,J(N),F(N)):T($)?N.state=I.ATTRIB_NAME_SAW_WHITE:W(h,$)?N.attribName+=$:D(N,"Invalid attribute name");continue;case I.ATTRIB_NAME_SAW_WHITE:if($==="=")N.state=I.ATTRIB_VALUE;else{if(T($))continue;D(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",M(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",$===">"?F(N):W(_,$)?(N.attribName=$,N.state=I.ATTRIB_NAME):(D(N,"Invalid attribute name"),N.state=I.ATTRIB)}continue;case I.ATTRIB_VALUE:if(T($))continue;P($)?(N.q=$,N.state=I.ATTRIB_VALUE_QUOTED):(D(N,"Unquoted attribute value"),N.state=I.ATTRIB_VALUE_UNQUOTED,N.attribValue=$);continue;case I.ATTRIB_VALUE_QUOTED:if($!==N.q){$==="&"?N.state=I.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=$;continue}J(N),N.q="",N.state=I.ATTRIB_VALUE_CLOSED;continue;case I.ATTRIB_VALUE_CLOSED:T($)?N.state=I.ATTRIB:$===">"?F(N):$==="/"?N.state=I.OPEN_TAG_SLASH:W(_,$)?(D(N,"No whitespace between attributes"),N.attribName=$,N.attribValue="",N.state=I.ATTRIB_NAME):D(N,"Invalid attribute name");continue;case I.ATTRIB_VALUE_UNQUOTED:if(!H($)){$==="&"?N.state=I.ATTRIB_VALUE_ENTITY_U:N.attribValue+=$;continue}J(N),$===">"?F(N):N.state=I.ATTRIB;continue;case I.CLOSE_TAG:if(N.tagName)$===">"?C(N):W(h,$)?N.tagName+=$:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=I.SCRIPT):(T($)||D(N,"Invalid tagname in closing tag"),N.state=I.CLOSE_TAG_SAW_WHITE);else{if(T($))continue;Q(_,$)?N.script?(N.script+="</"+$,N.state=I.SCRIPT):D(N,"Invalid tagname in closing tag."):N.tagName=$}continue;case I.CLOSE_TAG_SAW_WHITE:if(T($))continue;$===">"?C(N):D(N,"Invalid characters in closing tag");continue;case I.TEXT_ENTITY:case I.ATTRIB_VALUE_ENTITY_Q:case I.ATTRIB_VALUE_ENTITY_U:var oe,S;switch(N.state){case I.TEXT_ENTITY:oe=I.TEXT,S="textNode";break;case I.ATTRIB_VALUE_ENTITY_Q:oe=I.ATTRIB_VALUE_QUOTED,S="attribValue";break;case I.ATTRIB_VALUE_ENTITY_U:oe=I.ATTRIB_VALUE_UNQUOTED,S="attribValue";break}$===";"?(N[S]+=G(N),N.entity="",N.state=oe):W(N.entity.length?w:x,$)?N.entity+=$:(D(N,"Invalid character in entity name"),N[S]+="&"+N.entity+$,N.entity="",N.state=oe);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&i(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var j=String.fromCharCode,N=Math.floor,X=function(){var $=16384,O=[],L,oe,S=-1,se=arguments.length;if(!se)return"";for(var k="";++S<se;){var d=Number(arguments[S]);if(!isFinite(d)||d<0||d>1114111||N(d)!==d)throw RangeError("Invalid code point: "+d);d<=65535?O.push(d):(d-=65536,L=(d>>10)+55296,oe=d%1024+56320,O.push(L,oe)),(S+1===se||O.length>$)&&(k+=j.apply(null,O),O.length=0)}return k};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:X,configurable:!0,writable:!0}):String.fromCodePoint=X}()})(t)})(Gg);var Ed={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}},Ub=Ed.isArray,Nd={copyOptions:function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!Ub(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},zb=Gg,Te=Nd,as=Ed.isArray,ue,Ee;function $b(t){return ue=Te.copyOptions(t),Te.ensureFlagExists("ignoreDeclaration",ue),Te.ensureFlagExists("ignoreInstruction",ue),Te.ensureFlagExists("ignoreAttributes",ue),Te.ensureFlagExists("ignoreText",ue),Te.ensureFlagExists("ignoreComment",ue),Te.ensureFlagExists("ignoreCdata",ue),Te.ensureFlagExists("ignoreDoctype",ue),Te.ensureFlagExists("compact",ue),Te.ensureFlagExists("alwaysChildren",ue),Te.ensureFlagExists("addParent",ue),Te.ensureFlagExists("trim",ue),Te.ensureFlagExists("nativeType",ue),Te.ensureFlagExists("nativeTypeAttributes",ue),Te.ensureFlagExists("sanitize",ue),Te.ensureFlagExists("instructionHasAttributes",ue),Te.ensureFlagExists("captureSpacesBetweenElements",ue),Te.ensureAlwaysArrayExists(ue),Te.ensureKeyExists("declaration",ue),Te.ensureKeyExists("instruction",ue),Te.ensureKeyExists("attributes",ue),Te.ensureKeyExists("text",ue),Te.ensureKeyExists("comment",ue),Te.ensureKeyExists("cdata",ue),Te.ensureKeyExists("doctype",ue),Te.ensureKeyExists("type",ue),Te.ensureKeyExists("name",ue),Te.ensureKeyExists("elements",ue),Te.ensureKeyExists("parent",ue),ue}function x0(t){var e=Number(t);if(!isNaN(e))return e;var r=t.toLowerCase();return r==="true"?!0:r==="false"?!1:t}function Pi(t,e){var r;if(ue.compact){if(!Ee[ue[t+"Key"]]&&(as(ue.alwaysArray)?ue.alwaysArray.indexOf(ue[t+"Key"])!==-1:ue.alwaysArray)&&(Ee[ue[t+"Key"]]=[]),Ee[ue[t+"Key"]]&&!as(Ee[ue[t+"Key"]])&&(Ee[ue[t+"Key"]]=[Ee[ue[t+"Key"]]]),t+"Fn"in ue&&typeof e=="string"&&(e=ue[t+"Fn"](e,Ee)),t==="instruction"&&("instructionFn"in ue||"instructionNameFn"in ue)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in ue)e[r]=ue.instructionFn(e[r],r,Ee);else{var n=e[r];delete e[r],e[ue.instructionNameFn(r,n,Ee)]=n}}as(Ee[ue[t+"Key"]])?Ee[ue[t+"Key"]].push(e):Ee[ue[t+"Key"]]=e}else{Ee[ue.elementsKey]||(Ee[ue.elementsKey]=[]);var i={};if(i[ue.typeKey]=t,t==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;i[ue.nameKey]="instructionNameFn"in ue?ue.instructionNameFn(r,e,Ee):r,ue.instructionHasAttributes?(i[ue.attributesKey]=e[r][ue.attributesKey],"instructionFn"in ue&&(i[ue.attributesKey]=ue.instructionFn(i[ue.attributesKey],r,Ee))):("instructionFn"in ue&&(e[r]=ue.instructionFn(e[r],r,Ee)),i[ue.instructionKey]=e[r])}else t+"Fn"in ue&&(e=ue[t+"Fn"](e,Ee)),i[ue[t+"Key"]]=e;ue.addParent&&(i[ue.parentKey]=Ee),Ee[ue.elementsKey].push(i)}}function y0(t){if("attributesFn"in ue&&t&&(t=ue.attributesFn(t,Ee)),(ue.trim||"attributeValueFn"in ue||"attributeNameFn"in ue||ue.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(ue.trim&&(t[e]=t[e].trim()),ue.nativeTypeAttributes&&(t[e]=x0(t[e])),"attributeValueFn"in ue&&(t[e]=ue.attributeValueFn(t[e],e,Ee)),"attributeNameFn"in ue)){var r=t[e];delete t[e],t[ue.attributeNameFn(e,t[e],Ee)]=r}}return t}function Vb(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||ue.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=r.exec(t.body))!==null;)e[n[1]]=n[2]||n[3]||n[4];e=y0(e)}if(t.name.toLowerCase()==="xml"){if(ue.ignoreDeclaration)return;Ee[ue.declarationKey]={},Object.keys(e).length&&(Ee[ue.declarationKey][ue.attributesKey]=e),ue.addParent&&(Ee[ue.declarationKey][ue.parentKey]=Ee)}else{if(ue.ignoreInstruction)return;ue.trim&&(t.body=t.body.trim());var i={};ue.instructionHasAttributes&&Object.keys(e).length?(i[t.name]={},i[t.name][ue.attributesKey]=e):i[t.name]=t.body,Pi("instruction",i)}}function Wb(t,e){var r;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=y0(e),"elementNameFn"in ue&&(t=ue.elementNameFn(t,Ee)),ue.compact){if(r={},!ue.ignoreAttributes&&e&&Object.keys(e).length){r[ue.attributesKey]={};var n;for(n in e)e.hasOwnProperty(n)&&(r[ue.attributesKey][n]=e[n])}!(t in Ee)&&(as(ue.alwaysArray)?ue.alwaysArray.indexOf(t)!==-1:ue.alwaysArray)&&(Ee[t]=[]),Ee[t]&&!as(Ee[t])&&(Ee[t]=[Ee[t]]),as(Ee[t])?Ee[t].push(r):Ee[t]=r}else Ee[ue.elementsKey]||(Ee[ue.elementsKey]=[]),r={},r[ue.typeKey]="element",r[ue.nameKey]=t,!ue.ignoreAttributes&&e&&Object.keys(e).length&&(r[ue.attributesKey]=e),ue.alwaysChildren&&(r[ue.elementsKey]=[]),Ee[ue.elementsKey].push(r);r[ue.parentKey]=Ee,Ee=r}function Hb(t){ue.ignoreText||!t.trim()&&!ue.captureSpacesBetweenElements||(ue.trim&&(t=t.trim()),ue.nativeType&&(t=x0(t)),ue.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),Pi("text",t))}function Gb(t){ue.ignoreComment||(ue.trim&&(t=t.trim()),Pi("comment",t))}function qb(t){var e=Ee[ue.parentKey];ue.addParent||delete Ee[ue.parentKey],Ee=e}function Kb(t){ue.ignoreCdata||(ue.trim&&(t=t.trim()),Pi("cdata",t))}function Yb(t){ue.ignoreDoctype||(t=t.replace(/^ /,""),ue.trim&&(t=t.trim()),Pi("doctype",t))}function Xb(t){t.note=t}var w0=function(t,e){var r=zb.parser(!0,{}),n={};if(Ee=n,ue=$b(e),r.opt={strictEntities:!0},r.onopentag=Wb,r.ontext=Hb,r.oncomment=Gb,r.onclosetag=qb,r.onerror=Xb,r.oncdata=Kb,r.ondoctype=Yb,r.onprocessinginstruction=Vb,r.write(t).close(),n[ue.elementsKey]){var i=n[ue.elementsKey];delete n[ue.elementsKey],n[ue.elementsKey]=i,delete n.text}return n},qh=Nd,Qb=w0;function Jb(t){var e=qh.copyOptions(t);return qh.ensureSpacesExists(e),e}var Zb=function(t,e){var r,n,i,a;return r=Jb(e),n=Qb(t,r),a="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?i=JSON.stringify(n,function(o,l){return o===a?"_":l},r.spaces):i=JSON.stringify(n,null,r.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},De=Nd,e1=Ed.isArray,ft,ht;function t1(t){var e=De.copyOptions(t);return De.ensureFlagExists("ignoreDeclaration",e),De.ensureFlagExists("ignoreInstruction",e),De.ensureFlagExists("ignoreAttributes",e),De.ensureFlagExists("ignoreText",e),De.ensureFlagExists("ignoreComment",e),De.ensureFlagExists("ignoreCdata",e),De.ensureFlagExists("ignoreDoctype",e),De.ensureFlagExists("compact",e),De.ensureFlagExists("indentText",e),De.ensureFlagExists("indentCdata",e),De.ensureFlagExists("indentAttributes",e),De.ensureFlagExists("indentInstruction",e),De.ensureFlagExists("fullTagEmptyElement",e),De.ensureFlagExists("noQuotesForNativeAttributes",e),De.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),De.ensureKeyExists("declaration",e),De.ensureKeyExists("instruction",e),De.ensureKeyExists("attributes",e),De.ensureKeyExists("text",e),De.ensureKeyExists("comment",e),De.ensureKeyExists("cdata",e),De.ensureKeyExists("doctype",e),De.ensureKeyExists("type",e),De.ensureKeyExists("name",e),De.ensureKeyExists("elements",e),e}function ar(t,e,r){return(!r&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}function Po(t,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,ht,ft));var n,i,a,o,l=[];for(n in t)t.hasOwnProperty(n)&&t[n]!==null&&t[n]!==void 0&&(o=e.noQuotesForNativeAttributes&&typeof t[n]!="string"?"":'"',i=""+t[n],i=i.replace(/"/g,"&quot;"),a="attributeNameFn"in e?e.attributeNameFn(n,i,ht,ft):n,l.push(e.spaces&&e.indentAttributes?ar(e,r+1,!1):" "),l.push(a+"="+o+("attributeValueFn"in e?e.attributeValueFn(i,n,ht,ft):i)+o));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&l.push(ar(e,r,!1)),l.join("")}function v0(t,e,r){return ft=t,ht="xml",e.ignoreDeclaration?"":"<?xml"+Po(t[e.attributesKey],e,r)+"?>"}function b0(t,e,r){if(e.ignoreInstruction)return"";var n;for(n in t)if(t.hasOwnProperty(n))break;var i="instructionNameFn"in e?e.instructionNameFn(n,t[n],ht,ft):n;if(typeof t[n]=="object")return ft=t,ht=i,"<?"+i+Po(t[n][e.attributesKey],e,r)+"?>";var a=t[n]?t[n]:"";return"instructionFn"in e&&(a=e.instructionFn(a,n,ht,ft)),"<?"+i+(a?" "+a:"")+"?>"}function E0(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,ht,ft):t)+"-->"}function N0(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,ht,ft):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function S0(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,ht,ft):t)+">"}function Sd(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,ht,ft):t)}function r1(t,e){var r;if(t.elements&&t.elements.length)for(r=0;r<t.elements.length;++r)switch(t.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function n1(t,e,r){ft=t,ht=t.name;var n=[],i="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;n.push("<"+i),t[e.attributesKey]&&n.push(Po(t[e.attributesKey],e,r));var a=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return a||("fullTagEmptyElementFn"in e?a=e.fullTagEmptyElementFn(t.name,t):a=e.fullTagEmptyElement),a?(n.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(n.push(j0(t[e.elementsKey],e,r+1)),ft=t,ht=t.name),n.push(e.spaces&&r1(t,e)?`
`+Array(r+1).join(e.spaces):""),n.push("</"+i+">")):n.push("/>"),n.join("")}function j0(t,e,r,n){return t.reduce(function(i,a){var o=ar(e,r,n&&!i);switch(a.type){case"element":return i+o+n1(a,e,r);case"comment":return i+o+E0(a[e.commentKey],e);case"doctype":return i+o+S0(a[e.doctypeKey],e);case"cdata":return i+(e.indentCdata?o:"")+N0(a[e.cdataKey],e);case"text":return i+(e.indentText?o:"")+Sd(a[e.textKey],e);case"instruction":var l={};return l[a[e.nameKey]]=a[e.attributesKey]?a:a[e.instructionKey],i+(e.indentInstruction?o:"")+b0(l,e,r)}},"")}function _0(t,e,r){var n;for(n in t)if(t.hasOwnProperty(n))switch(n){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function s1(t,e,r,n,i){ft=t,ht=e;var a="elementNameFn"in r?r.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,t)||r.fullTagEmptyElement?"<"+a+"></"+a+">":"<"+a+"/>";var o=[];if(e){if(o.push("<"+a),typeof t!="object")return o.push(">"+Sd(t,r)+"</"+a+">"),o.join("");t[r.attributesKey]&&o.push(Po(t[r.attributesKey],r,n));var l=_0(t,r,!0)||t[r.attributesKey]&&t[r.attributesKey]["xml:space"]==="preserve";if(l||("fullTagEmptyElementFn"in r?l=r.fullTagEmptyElementFn(e,t):l=r.fullTagEmptyElement),l)o.push(">");else return o.push("/>"),o.join("")}return o.push(C0(t,r,n+1,!1)),ft=t,ht=e,e&&o.push((i?ar(r,n,!1):"")+"</"+a+">"),o.join("")}function C0(t,e,r,n){var i,a,o,l=[];for(a in t)if(t.hasOwnProperty(a))for(o=e1(t[a])?t[a]:[t[a]],i=0;i<o.length;++i){switch(a){case e.declarationKey:l.push(v0(o[i],e,r));break;case e.instructionKey:l.push((e.indentInstruction?ar(e,r,n):"")+b0(o[i],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:l.push((e.indentText?ar(e,r,n):"")+Sd(o[i],e));break;case e.cdataKey:l.push((e.indentCdata?ar(e,r,n):"")+N0(o[i],e));break;case e.doctypeKey:l.push(ar(e,r,n)+S0(o[i],e));break;case e.commentKey:l.push(ar(e,r,n)+E0(o[i],e));break;default:l.push(ar(e,r,n)+s1(o[i],a,e,r,_0(o[i],e)))}n=n&&!l.length}return l.join("")}var k0=function(t,e){e=t1(e);var r=[];return ft=t,ht="_root_",e.compact?r.push(C0(t,e,0,!0)):(t[e.declarationKey]&&r.push(v0(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&r.push(j0(t[e.elementsKey],e,0,!r.length))),r.join("")},i1=k0,a1=function(t,e){t instanceof Buffer&&(t=t.toString());var r=null;if(typeof t=="string")try{r=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else r=t;return i1(r,e)},o1=w0,l1=Zb,c1=k0,u1=a1,A0={xml2js:o1,xml2json:l1,js2xml:c1,json2xml:u1};const jd=t=>{switch(t.type){case void 0:case"element":const e=new f1(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=jd(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class d1 extends xe{}class f1 extends ie{static fromXmlString(e){const r=A0.xml2js(e,{compact:!1});return jd(r)}constructor(e,r){super(e),r&&this.root.push(new d1(r))}push(e){this.root.push(e)}}class h1 extends ie{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class T0 extends ie{constructor(e,r){super(e),r&&(this.root=r.root)}}const pt=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Ro=t=>{const e=pt(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},I0=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},Kh=t=>I0(t,1),_d=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},P0=t=>{const e=_d(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},ws=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return I0(e,3)},br=t=>typeof t=="string"?_d(t):pt(t),m1=t=>typeof t=="string"?P0(t):Ro(t),st=t=>typeof t=="string"?P0(t):Ro(t),p1=t=>{const e=t.substring(0,t.length-1);return`${Number(e)}%`},g1=t=>typeof t=="number"?pt(t):t.slice(-1)==="%"?p1(t):_d(t),x1=Ro,y1=Ro,w1=t=>t.toISOString();class he extends ie{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new He({val:r}))}}class rc extends ie{constructor(e,r){super(e),this.root.push(new He({val:m1(r)}))}}class vn extends ie{constructor(e,r){super(e),this.root.push(new He({val:r}))}}const $s=(t,e)=>new gt({name:t,attributes:{value:{key:"w:val",value:e}}});class Cd extends ie{constructor(e,r){super(e),this.root.push(new He({val:r}))}}class v1 extends ie{constructor(e,r){super(e),this.root.push(new He({val:r}))}}class sn extends ie{constructor(e,r){super(e),this.root.push(r)}}class gt extends ie{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new Ir(r)),n&&this.root.push(...n)}}const ut={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class b1 extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class R0 extends ie{constructor(e){super("w:jc"),this.root.push(new b1({val:e}))}}class Re extends ie{constructor(e,{color:r,size:n,space:i,style:a}){super(e),this.root.push(new E1({style:a,color:r===void 0?void 0:ws(r),size:n===void 0?void 0:x1(n),space:i===void 0?void 0:y1(i)}))}}class E1 extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Fe={SINGLE:"single",NONE:"none"};class N1 extends Tr{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Re("w:top",e.top)),e.bottom&&this.root.push(new Re("w:bottom",e.bottom)),e.left&&this.root.push(new Re("w:left",e.left)),e.right&&this.root.push(new Re("w:right",e.right))}}class S1 extends ie{constructor(){super("w:pBdr");const e=new Re("w:bottom",{color:"auto",space:1,style:Fe.SINGLE,size:6});this.root.push(e)}}class j1 extends ie{constructor({start:e,end:r,left:n,right:i,hanging:a,firstLine:o}){super("w:ind"),this.root.push(new Ir({start:{key:"w:start",value:e===void 0?void 0:br(e)},end:{key:"w:end",value:r===void 0?void 0:br(r)},left:{key:"w:left",value:n===void 0?void 0:br(n)},right:{key:"w:right",value:i===void 0?void 0:br(i)},hanging:{key:"w:hanging",value:a===void 0?void 0:st(a)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:st(o)}}))}}let _1=class extends ie{constructor(){super("w:br")}};const kd={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Ad extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class sa extends ie{constructor(e){super("w:fldChar"),this.root.push(new Ad({type:kd.BEGIN,dirty:e}))}}class ia extends ie{constructor(e){super("w:fldChar"),this.root.push(new Ad({type:kd.SEPARATE,dirty:e}))}}class aa extends ie{constructor(e){super("w:fldChar"),this.root.push(new Ad({type:kd.END,dirty:e}))}}const vs={DEFAULT:"default",PRESERVE:"preserve"};class bs extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{space:"xml:space"})}}class C1 extends ie{constructor(){super("w:instrText"),this.root.push(new bs({space:vs.PRESERVE})),this.root.push("PAGE")}}class k1 extends ie{constructor(){super("w:instrText"),this.root.push(new bs({space:vs.PRESERVE})),this.root.push("NUMPAGES")}}class A1 extends ie{constructor(){super("w:instrText"),this.root.push(new bs({space:vs.PRESERVE})),this.root.push("SECTIONPAGES")}}class T1 extends ie{constructor(){super("w:instrText"),this.root.push(new bs({space:vs.PRESERVE})),this.root.push("SECTION")}}class I1 extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Oo extends ie{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new I1({fill:e===void 0?void 0:ws(e),color:r===void 0?void 0:ws(r),type:n}))}}class P1 extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const R1={DOT:"dot"};class O1 extends ie{constructor(e){super("w:em"),this.root.push(new He({val:e}))}}class F1 extends O1{constructor(e=R1.DOT){super(e)}}class D1 extends ie{constructor(e){super("w:spacing"),this.root.push(new He({val:br(e)}))}}class L1 extends ie{constructor(e){super("w:color"),this.root.push(new He({val:ws(e)}))}}class B1 extends ie{constructor(e){super("w:highlight"),this.root.push(new He({val:e}))}}class M1 extends ie{constructor(e){super("w:highlightCs"),this.root.push(new He({val:e}))}}const U1=t=>new gt({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class Yh extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class nc extends ie{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new Yh({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new Yh(n))}}}let O0=class extends ie{constructor(e){super("w:vertAlign"),this.root.push(new He({val:e}))}};class z1 extends O0{constructor(){super("superscript")}}class $1 extends O0{constructor(){super("subscript")}}const F0={SINGLE:"single"};class V1 extends ie{constructor(e=F0.SINGLE,r){super("w:u"),this.root.push(new He({val:e,color:r===void 0?void 0:ws(r)}))}}class Rn extends Tr{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new he("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new he("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new he("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new he("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new he("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.underline&&this.push(new V1(e.underline.type,e.underline.color)),e.effect&&this.push(new vn("w:effect",e.effect)),e.emphasisMark&&this.push(new F1(e.emphasisMark.type)),e.color&&this.push(new L1(e.color)),e.kern&&this.push(new rc("w:kern",e.kern)),e.position&&this.push(new vn("w:position",e.position)),e.size!==void 0&&this.push(new rc("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new rc("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new he("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new he("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new he("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new he("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new he("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new $1),e.superScript&&this.push(new z1),e.style&&this.push(new vn("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new nc(e.font)):"name"in e.font?this.push(new nc(e.font.name,e.font.hint)):this.push(new nc(e.font))),e.highlight&&this.push(new B1(e.highlight));const a=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;a&&this.push(new M1(a)),e.characterSpacing&&this.push(new D1(e.characterSpacing)),e.emboss!==void 0&&this.push(new he("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new he("w:imprint",e.imprint)),e.shading&&this.push(new Oo(e.shading)),e.revision&&this.push(new W1(e.revision)),e.border&&this.push(new Re("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new he("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new he("w:vanish",e.vanish)),e.specVanish&&this.push(new he("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new Cd("w:w",e.scale)),e.language&&this.push(U1(e.language)),e.math&&this.push(new he("w:oMath",e.math))}push(e){this.root.push(e)}}class W1 extends ie{constructor(e){super("w:rPrChange"),this.root.push(new P1({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Rn(e))}}class hu extends ie{constructor(e){var r;return super("w:t"),typeof e=="string"?(this.root.push(new bs({space:vs.PRESERVE})),this.root.push(e),this):(this.root.push(new bs({space:(r=e.space)!=null?r:vs.DEFAULT})),this.root.push(e.text),this)}}const oa={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Ri extends ie{constructor(e){if(super("w:r"),ae(this,"properties"),this.properties=new Rn(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new _1);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case oa.CURRENT:this.root.push(new sa),this.root.push(new C1),this.root.push(new ia),this.root.push(new aa);break;case oa.TOTAL_PAGES:this.root.push(new sa),this.root.push(new k1),this.root.push(new ia),this.root.push(new aa);break;case oa.TOTAL_PAGES_IN_SECTION:this.root.push(new sa),this.root.push(new A1),this.root.push(new ia),this.root.push(new aa);break;case oa.CURRENT_SECTION:this.root.push(new sa),this.root.push(new T1),this.root.push(new ia),this.root.push(new aa);break;default:this.root.push(new hu(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new hu(e.text))}}class Ae extends Ri{constructor(e){if(typeof e=="string")return super({}),this.root.push(new hu(e)),this;super(e)}}let H1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",G1=(t,e=21)=>(r=e)=>{let n="",i=r;for(;i--;)n+=t[Math.random()*t.length|0];return n},q1=(t=21)=>{let e="",r=t;for(;r--;)e+=H1[Math.random()*64|0];return e};const Gt=t=>Math.floor(t*72*20),Fo=(t=0)=>{let e=t;return()=>++e},K1=()=>Fo(),Y1=()=>Fo(1),X1=()=>Fo(),Q1=()=>Fo(),D0=()=>q1().toLowerCase(),Vs=t=>G1("1234567890abcdef",t)(),J1=()=>`${Vs(8)}-${Vs(4)}-${Vs(4)}-${Vs(4)}-${Vs(12)}`,Z1={PAGE:"page"},eE={PAGE:"page"};class tE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{x:"x",y:"y"})}}class rE extends ie{constructor(){super("wp:simplePos"),this.root.push(new tE({x:0,y:0}))}}class L0 extends ie{constructor(e){super("wp:align"),this.root.push(e)}}class B0 extends ie{constructor(e){super("wp:posOffset"),this.root.push(e.toString())}}class nE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class sE extends ie{constructor(e){if(super("wp:positionH"),this.root.push(new nE({relativeFrom:e.relative||Z1.PAGE})),e.align)this.root.push(new L0(e.align));else if(e.offset!==void 0)this.root.push(new B0(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class iE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{relativeFrom:"relativeFrom"})}}class aE extends ie{constructor(e){if(super("wp:positionV"),this.root.push(new iE({relativeFrom:e.relative||eE.PAGE})),e.align)this.root.push(new L0(e.align));else if(e.offset!==void 0)this.root.push(new B0(e.offset));else throw new Error("There is no configuration provided for floating position (Align or offset)")}}class oE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{uri:"uri"})}}class lE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{embed:"r:embed",cstate:"cstate"})}}class cE extends ie{constructor(e){super("a:blip"),this.root.push(new lE({embed:`rId{${e.fileName}}`,cstate:"none"}))}}class uE extends ie{constructor(){super("a:srcRect")}}class dE extends ie{constructor(){super("a:fillRect")}}class fE extends ie{constructor(){super("a:stretch"),this.root.push(new dE)}}class hE extends ie{constructor(e){super("pic:blipFill"),this.root.push(new cE(e)),this.root.push(new uE),this.root.push(new fE)}}class mE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class pE extends ie{constructor(){super("a:picLocks"),this.root.push(new mE({noChangeAspect:1,noChangeArrowheads:1}))}}class gE extends ie{constructor(){super("pic:cNvPicPr"),this.root.push(new pE)}}const M0=(t,e)=>new gt({name:"a:hlinkClick",attributes:xs(Ce({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class xE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class yE extends ie{constructor(){super("pic:cNvPr"),this.root.push(new xE({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const n=e.stack[r];if(n instanceof Td){this.root.push(M0(n.linkId,!1));break}}return super.prepForXml(e)}}class wE extends ie{constructor(){super("pic:nvPicPr"),this.root.push(new yE),this.root.push(new gE)}}class vE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class bE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class EE extends ie{constructor(e,r){super("a:ext"),ae(this,"attributes"),this.attributes=new bE({cx:e,cy:r}),this.root.push(this.attributes)}}class NE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{x:"x",y:"y"})}}class SE extends ie{constructor(){super("a:off"),this.root.push(new NE({x:0,y:0}))}}class jE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class _E extends ie{constructor(e){var r,n;super("a:xfrm"),ae(this,"extents"),this.root.push(new jE({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(n=e.flip)==null?void 0:n.horizontal,rotation:e.rotation})),this.extents=new EE(e.emus.x,e.emus.y),this.root.push(new SE),this.root.push(this.extents)}}const U0=()=>new gt({name:"a:noFill"}),CE=t=>new gt({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),kE=t=>new gt({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),Xh=t=>new gt({name:"a:solidFill",children:[t.type==="rgb"?kE(t):CE(t)]}),AE=t=>new gt({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?U0():t.solidFillType==="rgb"?Xh({type:"rgb",value:t.value}):Xh({type:"scheme",value:t.value})]});class TE extends ie{constructor(){super("a:avLst")}}class IE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{prst:"prst"})}}class PE extends ie{constructor(){super("a:prstGeom"),this.root.push(new IE({prst:"rect"})),this.root.push(new TE)}}class RE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{bwMode:"bwMode"})}}class OE extends ie{constructor({outline:e,transform:r}){super("pic:spPr"),ae(this,"form"),this.root.push(new RE({bwMode:"auto"})),this.form=new _E(r),this.root.push(this.form),this.root.push(new PE),e&&(this.root.push(U0()),this.root.push(AE(e)))}}class FE extends ie{constructor({mediaData:e,transform:r,outline:n}){super("pic:pic"),this.root.push(new vE({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new wE),this.root.push(new hE(e)),this.root.push(new OE({transform:r,outline:n}))}}class DE extends ie{constructor({mediaData:e,transform:r,outline:n}){super("a:graphicData"),ae(this,"pic"),this.root.push(new oE({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new FE({mediaData:e,transform:r,outline:n}),this.root.push(this.pic)}}class LE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{a:"xmlns:a"})}}class z0 extends ie{constructor({mediaData:e,transform:r,outline:n}){super("a:graphic"),ae(this,"data"),this.root.push(new LE({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new DE({mediaData:e,transform:r,outline:n}),this.root.push(this.data)}}const la={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},BE={BOTH_SIDES:"bothSides"};class Qh extends ie{constructor(){super("wp:wrapNone")}}class ME extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class UE extends ie{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new ME({wrapText:e.side||BE.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class zE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class $E extends ie{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new zE({distT:e.top,distB:e.bottom}))}}class VE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class WE extends ie{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new VE({distT:e.top,distB:e.bottom}))}}class $0 extends ie{constructor({name:e,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),ae(this,"docPropertiesUniqueNumericId",X1()),this.root.push(new Ir({id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e},description:{key:"descr",value:r},title:{key:"title",value:n}}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){const n=e.stack[r];if(n instanceof Td){this.root.push(M0(n.linkId,!0));break}}return super.prepForXml(e)}}const V0=({top:t,right:e,bottom:r,left:n})=>new gt({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:n}}});class HE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class W0 extends ie{constructor(e,r){super("wp:extent"),ae(this,"attributes"),this.attributes=new HE({cx:e,cy:r}),this.root.push(this.attributes)}}class GE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class qE extends ie{constructor(){super("a:graphicFrameLocks"),this.root.push(new GE({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class H0 extends ie{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new qE)}}class KE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class YE extends ie{constructor({mediaData:e,transform:r,drawingOptions:n}){super("wp:anchor");const i=Ce({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new KE({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:r.emus.y})),this.root.push(new rE),this.root.push(new sE(i.horizontalPosition)),this.root.push(new aE(i.verticalPosition)),this.root.push(new W0(r.emus.x,r.emus.y)),this.root.push(V0({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case la.SQUARE:this.root.push(new UE(n.floating.wrap,n.floating.margins));break;case la.TIGHT:this.root.push(new $E(n.floating.margins));break;case la.TOP_AND_BOTTOM:this.root.push(new WE(n.floating.margins));break;case la.NONE:default:this.root.push(new Qh)}else this.root.push(new Qh);this.root.push(new $0(n.docProperties)),this.root.push(new H0),this.root.push(new z0({mediaData:e,transform:r,outline:n.outline}))}}const XE=({mediaData:t,transform:e,docProperties:r,outline:n})=>{var i,a,o,l;return new gt({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[new W0(e.emus.x,e.emus.y),V0(n?{top:((i=n.width)!=null?i:9525)*2,right:((a=n.width)!=null?a:9525)*2,bottom:((o=n.width)!=null?o:9525)*2,left:((l=n.width)!=null?l:9525)*2}:{top:0,right:0,bottom:0,left:0}),new $0(r),new H0,new z0({mediaData:t,transform:e,outline:n})]})};class QE extends ie{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new YE({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(XE({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}}class JE extends Ri{constructor(e){super({}),ae(this,"key",`${D0()}.png`),ae(this,"imageData");const r=typeof e.data=="string"?this.convertDataURIToBinary(e.data):e.data;this.imageData={stream:r,fileName:this.key,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}};const n=new QE(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(n)}prepForXml(e){return e.file.Media.addImage(this.key,this.imageData),super.prepForXml(e)}convertDataURIToBinary(e){if(typeof atob=="function"){const r=";base64,",n=e.indexOf(r),i=n===-1?0:n+r.length;return new Uint8Array(atob(e.substring(i)).split("").map(a=>a.charCodeAt(0)))}else{const r=require("buffer");return new r.Buffer(e,"base64")}}}class ZE extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class eN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class tN extends ie{constructor({id:e,initials:r,author:n,date:i=new Date,children:a}){super("w:comment"),this.root.push(new ZE({id:e,initials:r,author:n,date:i.toISOString()}));for(const o of a)this.root.push(o)}}class rN extends ie{constructor({children:e}){super("w:comments"),this.root.push(new eN({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new tN(r))}}class nN extends ie{constructor(){super("w:pageBreakBefore")}}const mu={AUTO:"auto"};class sN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class iN extends ie{constructor(e){super("w:spacing"),this.root.push(new sN(e))}}let ca=class extends ie{constructor(e){super("w:pStyle"),this.root.push(new He({val:e}))}};class aN extends ie{constructor(e){super("w:tabs");for(const r of e)this.root.push(new lN(r))}}const Jh={LEFT:"left",RIGHT:"right"};class oN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class lN extends ie{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new oN({val:e,pos:r,leader:n}))}}class Zh extends ie{constructor(e,r){super("w:numPr"),this.root.push(new cN(r)),this.root.push(new uN(e))}}class cN extends ie{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new He({val:e}))}}class uN extends ie{constructor(e){super("w:numId"),this.root.push(new He({val:typeof e=="string"?`{${e}}`:e}))}}class G0 extends ie{constructor(){super(...arguments),ae(this,"fileChild",Symbol())}}class dN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const fN={EXTERNAL:"External"};class hN extends ie{constructor(e,r,n,i){super("Relationship"),this.root.push(new dN({id:e,type:r,target:n,targetMode:i}))}}class mN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Td extends ie{constructor(e,r,n){super("w:hyperlink"),ae(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new mN(i);this.root.push(a),e.forEach(o=>{this.root.push(o)})}}class pN extends ie{constructor(e){super("w:externalHyperlink"),this.options=e}}class gN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class xN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{id:"w:id"})}}class yN{constructor(e){ae(this,"bookmarkUniqueNumericId",Q1()),ae(this,"start"),ae(this,"children"),ae(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new wN(e.id,r),this.children=e.children,this.end=new vN(r)}}class wN extends ie{constructor(e,r){super("w:bookmarkStart");const n=new gN({name:e,id:r});this.root.push(n)}}class vN extends ie{constructor(e){super("w:bookmarkEnd");const r=new xN({id:e});this.root.push(r)}}class bN extends ie{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new He({val:e}))}}class EN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{verticalAlign:"w:val"})}}class q0 extends ie{constructor(e){super("w:vAlign"),this.root.push(new EN({verticalAlign:e}))}}const os={DEFAULT:"default",FIRST:"first",EVEN:"even"};class NN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const em={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class sc extends ie{constructor(e,r){super(e),this.root.push(new NN({type:r.type||os.DEFAULT,id:`rId${r.id}`}))}}class SN extends ie{constructor({space:e,count:r,separate:n,equalWidth:i,children:a}){super("w:cols"),this.root.push(new Ir({space:{key:"w:space",value:e===void 0?void 0:st(e)},count:{key:"w:num",value:r===void 0?void 0:pt(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&a&&a.forEach(o=>this.addChildElement(o))}}class jN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class _N extends ie{constructor(e,r,n){super("w:docGrid"),this.root.push(new jN({type:n,linePitch:pt(e),charSpace:r?pt(r):void 0}))}}const CN=({countBy:t,start:e,restart:r,distance:n})=>new gt({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:pt(t)},start:{key:"w:start",value:e===void 0?void 0:pt(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:st(n)}}});class tm extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class kN extends Tr{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new tm({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new tm({})),e.pageBorderTop&&this.root.push(new Re("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Re("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Re("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Re("w:right",e.pageBorderRight))}}class AN extends ie{constructor(e,r,n,i,a,o,l){super("w:pgMar"),this.root.push(new Ir({top:{key:"w:top",value:br(e)},right:{key:"w:right",value:st(r)},bottom:{key:"w:bottom",value:br(n)},left:{key:"w:left",value:st(i)},header:{key:"w:header",value:st(a)},footer:{key:"w:footer",value:st(o)},gutter:{key:"w:gutter",value:st(l)}}))}}class TN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class IN extends ie{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new TN({start:e===void 0?void 0:pt(e),formatType:r,separator:n}))}}const K0={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class PN extends ie{constructor(e,r,n){super("w:pgSz");const i=n===K0.LANDSCAPE,a=st(e),o=st(r);this.root.push(new Ir({width:{key:"w:w",value:i?o:a},height:{key:"w:h",value:i?a:o},orientation:{key:"w:orient",value:n}}))}}class RN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class ON extends ie{constructor(e){super("w:textDirection"),this.root.push(new RN({val:e}))}}class FN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class DN extends ie{constructor(e){super("w:type"),this.root.push(new FN({val:e}))}}const an={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},ic={WIDTH:11906,HEIGHT:16838,ORIENTATION:K0.PORTRAIT};class LN extends ie{constructor({page:{size:{width:e=ic.WIDTH,height:r=ic.HEIGHT,orientation:n=ic.ORIENTATION}={},margin:{top:i=an.TOP,right:a=an.RIGHT,bottom:o=an.BOTTOM,left:l=an.LEFT,header:c=an.HEADER,footer:u=an.FOOTER,gutter:p=an.GUTTER}={},pageNumbers:g={},borders:y,textDirection:m}={},grid:{linePitch:b=360,charSpace:v,type:_}={},headerWrapperGroup:h={},footerWrapperGroup:x={},lineNumbers:w,titlePage:T,verticalAlign:P,column:H,type:W}={}){super("w:sectPr"),this.addHeaderFooterGroup(em.HEADER,h),this.addHeaderFooterGroup(em.FOOTER,x),W&&this.root.push(new DN(W)),this.root.push(new PN(e,r,n)),this.root.push(new AN(i,a,o,l,c,u,p)),y&&this.root.push(new kN(y)),w&&this.root.push(CN(w)),this.root.push(new IN(g)),H&&this.root.push(new SN(H)),P&&this.root.push(new q0(P)),T!==void 0&&this.root.push(new he("w:titlePg",T)),m&&this.root.push(new ON(m)),this.root.push(new _N(b,v,_))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new sc(e,{type:os.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new sc(e,{type:os.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new sc(e,{type:os.EVEN,id:r.even.View.ReferenceId}))}}class BN extends ie{constructor(){super("w:body"),ae(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new LN(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new ge({}),n=new Es({});return n.push(e),r.addChildElement(n),r}}class Oi extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class MN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class UN extends ie{constructor(e){super("w:background"),this.root.push(new MN({color:e.color===void 0?void 0:ws(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:Kh(e.themeShade),themeTint:e.themeTint===void 0?void 0:Kh(e.themeTint)}))}}class zN extends ie{constructor(e){super("w:document"),ae(this,"body"),this.root.push(new Oi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new BN,e.background&&this.root.push(new UN(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class $N extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{xmlns:"xmlns"})}}class As extends ie{constructor(){super("Relationships"),this.root.push(new $N({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const a=new hN(`rId${e}`,r,n,i);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class Y0{constructor(e){ae(this,"document"),ae(this,"relationships"),this.document=new zN(e),this.relationships=new As}get View(){return this.document}get Relationships(){return this.relationships}}class VN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class WN extends ie{constructor(){super("w:wordWrap"),this.root.push(new VN({val:0}))}}const HN=t=>{var e,r;return new gt({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Es extends Tr{constructor(e){var r,n;if(super("w:pPr"),ae(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new ca(e.heading)),e.bullet&&this.push(new ca("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new ca("ListParagraph"))),e.style&&this.push(new ca(e.style)),e.keepNext!==void 0&&this.push(new he("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new he("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new nN),e.frame&&this.push(HN(e.frame)),e.widowControl!==void 0&&this.push(new he("w:widowControl",e.widowControl)),e.bullet&&this.push(new Zh(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Zh(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))),e.border&&this.push(new N1(e.border)),e.thematicBreak&&this.push(new S1),e.shading&&this.push(new Oo(e.shading)),e.wordWrap&&this.push(new WN),e.overflowPunctuation&&this.push(new he("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:Jh.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:Jh.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new aN(i)),e.bidirectional!==void 0&&this.push(new he("w:bidi",e.bidirectional)),e.spacing&&this.push(new iN(e.spacing)),e.indent&&this.push(new j1(e.indent)),e.contextualSpacing!==void 0&&this.push(new he("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new R0(e.alignment)),e.outlineLevel!==void 0&&this.push(new bN(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new he("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new he("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Rn(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Y0)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class ge extends G0{constructor(e){if(super("w:p"),ae(this,"properties"),typeof e=="string")return this.properties=new Es({}),this.root.push(this.properties),this.root.push(new Ae(e)),this;if(this.properties=new Es(e),this.root.push(this.properties),e.text&&this.root.push(new Ae(e.text)),e.children)for(const r of e.children){if(r instanceof yN){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof pN){const n=this.root.indexOf(r),i=new Td(r.options.children,D0());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,fN.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class GN extends ie{constructor(e){super("w:tblGrid");for(const r of e)this.root.push(new qN(r))}}class qN extends ie{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new Ir({width:{key:"w:w",value:st(e)}}))}}const X0={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class Q0 extends Tr{constructor(e,{marginUnitType:r=Ke.DXA,top:n,left:i,bottom:a,right:o}){super(e),n!==void 0&&this.root.push(new gn("w:top",{type:r,size:n})),i!==void 0&&this.root.push(new gn("w:left",{type:r,size:i})),a!==void 0&&this.root.push(new gn("w:bottom",{type:r,size:a})),o!==void 0&&this.root.push(new gn("w:right",{type:r,size:o}))}}const Ke={AUTO:"auto",DXA:"dxa",PERCENTAGE:"pct"};class gn extends ie{constructor(e,{type:r=Ke.AUTO,size:n}){super(e);let i=n;r===Ke.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new Ir({type:{key:"w:type",value:r},size:{key:"w:w",value:g1(i)}}))}}class KN extends Tr{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Re("w:top",e.top)),e.start&&this.root.push(new Re("w:start",e.start)),e.left&&this.root.push(new Re("w:left",e.left)),e.bottom&&this.root.push(new Re("w:bottom",e.bottom)),e.end&&this.root.push(new Re("w:end",e.end)),e.right&&this.root.push(new Re("w:right",e.right))}}class YN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class XN extends ie{constructor(e){super("w:gridSpan"),this.root.push(new YN({val:pt(e)}))}}const J0={CONTINUE:"continue",RESTART:"restart"};class QN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class rm extends ie{constructor(e){super("w:vMerge"),this.root.push(new QN({val:e}))}}class JN extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class ZN extends ie{constructor(e){super("w:textDirection"),this.root.push(new JN({val:e}))}}class eS extends Tr{constructor(e){super("w:tcPr"),e.width&&this.root.push(new gn("w:tcW",e.width)),e.columnSpan&&this.root.push(new XN(e.columnSpan)),e.verticalMerge?this.root.push(new rm(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new rm(J0.RESTART)),e.borders&&this.root.push(new KN(e.borders)),e.shading&&this.root.push(new Oo(e.shading)),e.margins&&this.root.push(new Q0(X0.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new ZN(e.textDirection)),e.verticalAlign&&this.root.push(new q0(e.verticalAlign))}}class Se extends ie{constructor(e){super("w:tc"),this.options=e,this.root.push(new eS(e));for(const r of e.children)this.root.push(r)}prepForXml(e){return this.root[this.root.length-1]instanceof ge||this.root.push(new ge({})),super.prepForXml(e)}}const Dn={style:Fe.NONE,size:0,color:"auto"},Ln={style:Fe.SINGLE,size:4,color:"auto"};class Z0 extends ie{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Re("w:top",e.top)):this.root.push(new Re("w:top",Ln)),e.left?this.root.push(new Re("w:left",e.left)):this.root.push(new Re("w:left",Ln)),e.bottom?this.root.push(new Re("w:bottom",e.bottom)):this.root.push(new Re("w:bottom",Ln)),e.right?this.root.push(new Re("w:right",e.right)):this.root.push(new Re("w:right",Ln)),e.insideHorizontal?this.root.push(new Re("w:insideH",e.insideHorizontal)):this.root.push(new Re("w:insideH",Ln)),e.insideVertical?this.root.push(new Re("w:insideV",e.insideVertical)):this.root.push(new Re("w:insideV",Ln))}}ae(Z0,"NONE",{top:Dn,bottom:Dn,left:Dn,right:Dn,insideHorizontal:Dn,insideVertical:Dn});class tS extends ie{constructor({horizontalAnchor:e,verticalAnchor:r,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:a,relativeVerticalPosition:o,bottomFromText:l,topFromText:c,leftFromText:u,rightFromText:p,overlap:g}){super("w:tblpPr"),this.root.push(new Ir({leftFromText:{key:"w:leftFromText",value:u===void 0?void 0:st(u)},rightFromText:{key:"w:rightFromText",value:p===void 0?void 0:st(p)},topFromText:{key:"w:topFromText",value:c===void 0?void 0:st(c)},bottomFromText:{key:"w:bottomFromText",value:l===void 0?void 0:st(l)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:br(n)},absoluteVerticalPosition:{key:"w:tblpY",value:a===void 0?void 0:br(a)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:o},verticalAnchor:{key:"w:vertAnchor",value:r}})),g&&this.root.push(new v1("w:tblOverlap",g))}}class rS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{type:"w:type"})}}class nS extends ie{constructor(e){super("w:tblLayout"),this.root.push(new rS({type:e}))}}class sS extends Tr{constructor(e){super("w:tblPr"),e.style&&this.root.push(new vn("w:tblStyle",e.style)),e.float&&this.root.push(new tS(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new he("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new gn("w:tblW",e.width)),e.alignment&&this.root.push(new R0(e.alignment)),e.indent&&this.root.push(new gn("w:tblInd",e.indent)),e.borders&&this.root.push(new Z0(e.borders)),e.shading&&this.root.push(new Oo(e.shading)),e.layout&&this.root.push(new nS(e.layout)),e.cellMargin&&this.root.push(new Q0(X0.TABLE,e.cellMargin))}}class ua extends G0{constructor({rows:e,width:r,columnWidths:n=Array(Math.max(...e.map(y=>y.CellCount))).fill(100),margins:i,indent:a,float:o,layout:l,style:c,borders:u,alignment:p,visuallyRightToLeft:g}){super("w:tbl"),this.root.push(new sS({borders:u??{},width:r??{size:100},indent:a,float:o,layout:l,style:c,alignment:p,cellMargin:i,visuallyRightToLeft:g})),this.root.push(new GN(n));for(const y of e)this.root.push(y);e.forEach((y,m)=>{if(m===e.length-1)return;let b=0;y.cells.forEach(v=>{if(v.options.rowSpan&&v.options.rowSpan>1){const _=new Se({rowSpan:v.options.rowSpan-1,columnSpan:v.options.columnSpan,borders:v.options.borders,children:[],verticalMerge:J0.CONTINUE});e[m+1].addCellToColumnIndex(_,b)}b+=v.options.columnSpan||1})})}}class iS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class aS extends ie{constructor(e,r){super("w:trHeight"),this.root.push(new iS({value:st(e),rule:r}))}}class oS extends Tr{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new he("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new he("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new aS(e.height.value,e.height.rule))}}class Ot extends ie{constructor(e){super("w:tr"),this.options=e,this.root.push(new oS(e));for(const r of e.children)this.root.push(r)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Se)}addCellToIndex(e,r){this.root.splice(r+1,0,e)}addCellToColumnIndex(e,r){const n=this.columnIndexToRootIndex(r,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let r=0;for(let n=1;n<e;n++){const i=this.root[n];r+=i.options.columnSpan||1}return r}columnIndexToRootIndex(e,r=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=e;){if(i>=this.root.length){if(r)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}const a=this.root[i];i+=1,n+=a&&a.options.columnSpan||1}return i-1}}class lS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class cS extends ie{constructor(){super("Properties"),this.root.push(new lS({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class uS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{xmlns:"xmlns"})}}class dS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Or extends ie{constructor(e,r){super("Default"),this.root.push(new dS({contentType:e,extension:r}))}}class fS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ft extends ie{constructor(e,r){super("Override"),this.root.push(new fS({contentType:e,partName:r}))}}class hS extends ie{constructor(){super("Types"),this.root.push(new uS({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Or("image/png","png")),this.root.push(new Or("image/jpeg","jpeg")),this.root.push(new Or("image/jpeg","jpg")),this.root.push(new Or("image/bmp","bmp")),this.root.push(new Or("image/gif","gif")),this.root.push(new Or("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Or("application/xml","xml")),this.root.push(new Or("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ft("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Ft("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class mS extends ie{constructor(e){super("cp:coreProperties"),this.root.push(new Oi({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new sn("dc:title",e.title)),e.subject&&this.root.push(new sn("dc:subject",e.subject)),e.creator&&this.root.push(new sn("dc:creator",e.creator)),e.keywords&&this.root.push(new sn("cp:keywords",e.keywords)),e.description&&this.root.push(new sn("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new sn("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new sn("cp:revision",String(e.revision))),this.root.push(new nm("dcterms:created")),this.root.push(new nm("dcterms:modified"))}}class nm extends ie{constructor(e){super(e),this.root.push(new Oi({type:"dcterms:W3CDTF"})),this.root.push(w1(new Date))}}class pS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class gS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class xS extends ie{constructor(e,r){super("property"),this.root.push(new gS({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new yS(r.value))}}class yS extends ie{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class wS extends ie{constructor(e){super("Properties"),ae(this,"nextId"),ae(this,"properties",[]),this.root.push(new pS({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new xS(this.nextId++,e))}}class vS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let bS=class extends T0{constructor(e,r){super("w:ftr",r),ae(this,"refId"),this.refId=e,r||this.root.push(new vS({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class ES{constructor(e,r,n){ae(this,"footer"),ae(this,"relationships"),this.media=e,this.footer=new bS(r,n),this.relationships=new As}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class NS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class SS extends ie{constructor(){super("w:footnoteRef")}}class jS extends Ri{constructor(){super({style:"FootnoteReference"}),this.root.push(new SS)}}const sm={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class ac extends ie{constructor(e){super("w:footnote"),this.root.push(new NS({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new jS),this.root.push(n)}}}class _S extends ie{constructor(){super("w:continuationSeparator")}}class CS extends Ri{constructor(){super({}),this.root.push(new _S)}}class kS extends ie{constructor(){super("w:separator")}}class AS extends Ri{constructor(){super({}),this.root.push(new kS)}}class TS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class IS extends ie{constructor(){super("w:footnotes"),this.root.push(new TS({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new ac({id:-1,type:sm.SEPERATOR,children:[new ge({spacing:{after:0,line:240,lineRule:mu.AUTO},children:[new AS]})]});this.root.push(e);const r=new ac({id:0,type:sm.CONTINUATION_SEPERATOR,children:[new ge({spacing:{after:0,line:240,lineRule:mu.AUTO},children:[new CS]})]});this.root.push(r)}createFootNote(e,r){const n=new ac({id:e,children:r});this.root.push(n)}}class PS{constructor(){ae(this,"footnotess"),ae(this,"relationships"),this.footnotess=new IS,this.relationships=new As}get View(){return this.footnotess}get Relationships(){return this.relationships}}class RS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let OS=class extends T0{constructor(e,r){super("w:hdr",r),ae(this,"refId"),this.refId=e,r||this.root.push(new RS({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class FS{constructor(e,r,n){ae(this,"header"),ae(this,"relationships"),this.media=e,this.header=new OS(r,n),this.relationships=new As}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class DS{constructor(){ae(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const hr={BULLET:"bullet"};class LS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class BS extends ie{constructor(e){super("w:numFmt"),this.root.push(new He({val:e}))}}class MS extends ie{constructor(e){super("w:lvlText"),this.root.push(new He({val:e}))}}class US extends ie{constructor(e){super("w:lvlJc"),this.root.push(new He({val:e}))}}class zS extends ie{constructor(e){super("w:suff"),this.root.push(new He({val:e}))}}class $S extends ie{constructor(){super("w:isLgl")}}class VS extends ie{constructor({level:e,format:r,text:n,alignment:i=ut.START,start:a=1,style:o,suffix:l,isLegalNumberingStyle:c}){if(super("w:lvl"),ae(this,"paragraphProperties"),ae(this,"runProperties"),this.root.push(new Cd("w:start",pt(a))),r&&this.root.push(new BS(r)),l&&this.root.push(new zS(l)),c&&this.root.push(new $S),n&&this.root.push(new MS(n)),this.root.push(new US(i)),this.paragraphProperties=new Es(o&&o.paragraph),this.runProperties=new Rn(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new LS({ilvl:pt(e),tentative:1}))}}class WS extends VS{}class HS extends ie{constructor(e){super("w:multiLevelType"),this.root.push(new He({val:e}))}}class GS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class im extends ie{constructor(e,r){super("w:abstractNum"),ae(this,"id"),this.root.push(new GS({abstractNumId:pt(e),restartNumberingAfterBreak:0})),this.root.push(new HS("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new WS(n))}}class qS extends ie{constructor(e){super("w:abstractNumId"),this.root.push(new He({val:e}))}}class KS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{numId:"w:numId"})}}class am extends ie{constructor(e){if(super("w:num"),ae(this,"numId"),ae(this,"reference"),ae(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new KS({numId:pt(e.numId)})),this.root.push(new qS(pt(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new XS(r.num,r.start))}}class YS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{ilvl:"w:ilvl"})}}class XS extends ie{constructor(e,r){super("w:lvlOverride"),this.root.push(new YS({ilvl:e})),r!==void 0&&this.root.push(new JS(r))}}class QS extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class JS extends ie{constructor(e){super("w:startOverride"),this.root.push(new QS({val:e}))}}class ZS extends ie{constructor(e){super("w:numbering"),ae(this,"abstractNumberingMap",new Map),ae(this,"concreteNumberingMap",new Map),ae(this,"referenceConfigMap",new Map),ae(this,"abstractNumUniqueNumericId",K1()),ae(this,"concreteNumUniqueNumericId",Y1()),this.root.push(new Oi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const r=new im(this.abstractNumUniqueNumericId(),[{level:0,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:Gt(.5),hanging:Gt(.25)}}}},{level:1,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:Gt(1),hanging:Gt(.25)}}}},{level:2,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:2160,hanging:Gt(.25)}}}},{level:3,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:2880,hanging:Gt(.25)}}}},{level:4,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:3600,hanging:Gt(.25)}}}},{level:5,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:4320,hanging:Gt(.25)}}}},{level:6,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:5040,hanging:Gt(.25)}}}},{level:7,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:5760,hanging:Gt(.25)}}}},{level:8,format:hr.BULLET,text:"",alignment:ut.LEFT,style:{paragraph:{indent:{left:6480,hanging:Gt(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new am({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new im(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const a=this.referenceConfigMap.get(e),o=a&&a[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new am(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class ej extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class tj extends ie{constructor(e){super("w:compatSetting"),this.root.push(new ej({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class rj extends ie{constructor(e){super("w:compat"),e.version&&this.root.push(new tj(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new he("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new he("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new he("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new he("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new he("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new he("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new he("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new he("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new he("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new he("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new he("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new he("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new he("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new he("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new he("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new he("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new he("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new he("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new he("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new he("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new he("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new he("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new he("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new he("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new he("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new he("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new he("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new he("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new he("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new he("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new he("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new he("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new he("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new he("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new he("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new he("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new he("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new he("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new he("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new he("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new he("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new he("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new he("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new he("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new he("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new he("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new he("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new he("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new he("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new he("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new he("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new he("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new he("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new he("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new he("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new he("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new he("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new he("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new he("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new he("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new he("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new he("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new he("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new he("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new he("w:cachedColBalance",e.cachedColumnBalance))}}class nj extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class sj extends ie{constructor(e){var r,n,i,a;super("w:settings"),this.root.push(new nj({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new he("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new he("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new he("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new he("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Cd("w:defaultTabStop",e.defaultTabStop)),this.root.push(new rj(xs(Ce({},(r=e.compatibility)!=null?r:{}),{version:(a=(i=(n=e.compatibility)==null?void 0:n.version)!=null?i:e.compatibilityModeVersion)!=null?a:15})))}}class ex extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{val:"w:val"})}}class ij extends ie{constructor(e){super("w:name"),this.root.push(new ex({val:e}))}}class aj extends ie{constructor(e){super("w:uiPriority"),this.root.push(new ex({val:pt(e)}))}}class oj extends xe{constructor(){super(...arguments),ae(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class tx extends ie{constructor(e,r){super("w:style"),this.root.push(new oj(e)),r.name&&this.root.push(new ij(r.name)),r.basedOn&&this.root.push(new vn("w:basedOn",r.basedOn)),r.next&&this.root.push(new vn("w:next",r.next)),r.link&&this.root.push(new vn("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new aj(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new he("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new he("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new he("w:qFormat",r.quickFormat))}}class Do extends tx{constructor(e){super({type:"paragraph",styleId:e.id},e),ae(this,"paragraphProperties"),ae(this,"runProperties"),this.paragraphProperties=new Es(e.paragraph),this.runProperties=new Rn(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Lo extends tx{constructor(e){super({type:"character",styleId:e.id},Ce({uiPriority:99,unhideWhenUsed:!0},e)),ae(this,"runProperties"),this.runProperties=new Rn(e.run),this.root.push(this.runProperties)}}class nn extends Do{constructor(e){super(Ce({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class lj extends nn{constructor(e){super(Ce({id:"Title",name:"Title"},e))}}class cj extends nn{constructor(e){super(Ce({id:"Heading1",name:"Heading 1"},e))}}class uj extends nn{constructor(e){super(Ce({id:"Heading2",name:"Heading 2"},e))}}class dj extends nn{constructor(e){super(Ce({id:"Heading3",name:"Heading 3"},e))}}class fj extends nn{constructor(e){super(Ce({id:"Heading4",name:"Heading 4"},e))}}class hj extends nn{constructor(e){super(Ce({id:"Heading5",name:"Heading 5"},e))}}class mj extends nn{constructor(e){super(Ce({id:"Heading6",name:"Heading 6"},e))}}class pj extends nn{constructor(e){super(Ce({id:"Strong",name:"Strong"},e))}}class gj extends Do{constructor(e){super(Ce({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class xj extends Do{constructor(e){super(Ce({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:mu.AUTO}},run:{size:20}},e))}}class yj extends Lo{constructor(e){super(Ce({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class wj extends Lo{constructor(e){super(Ce({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class vj extends Lo{constructor(e){super(Ce({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:F0.SINGLE}}},e))}}class pu extends ie{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new Do(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Lo(r))}}class bj extends ie{constructor(e){super("w:pPrDefault"),this.root.push(new Es(e))}}class Ej extends ie{constructor(e){super("w:rPrDefault"),this.root.push(new Rn(e))}}class Nj extends ie{constructor(e){super("w:docDefaults"),ae(this,"runPropertiesDefaults"),ae(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new Ej(e.run),this.paragraphPropertiesDefaults=new bj(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Sj{newInstance(e){const r=A0.xml2js(e,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new pu({initialStyles:new h1(n.attributes),importedStyles:i.map(o=>jd(o))})}}class om{newInstance(e={}){var r;return{initialStyles:new Oi({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new Nj((r=e.document)!=null?r:{}),new lj(Ce({run:{size:56}},e.title)),new cj(Ce({run:{color:"2E74B5",size:32}},e.heading1)),new uj(Ce({run:{color:"2E74B5",size:26}},e.heading2)),new dj(Ce({run:{color:"1F4D78",size:24}},e.heading3)),new fj(Ce({run:{color:"2E74B5",italics:!0}},e.heading4)),new hj(Ce({run:{color:"2E74B5"}},e.heading5)),new mj(Ce({run:{color:"1F4D78"}},e.heading6)),new pj(Ce({run:{bold:!0}},e.strong)),new gj(e.listParagraph||{}),new vj(e.hyperlink||{}),new yj(e.footnoteReference||{}),new xj(e.footnoteText||{}),new wj(e.footnoteTextChar||{})]}}}const da=({id:t,fontKey:e,subsetted:r},n)=>new gt({name:n,attributes:Ce({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new he("w:subsetted",r)]:[]]}),jj=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:a,pitch:o,sig:l,embedRegular:c,embedBold:u,embedItalic:p,embedBoldItalic:g})=>new gt({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[$s("w:altName",e)]:[],...r?[$s("w:panose1",r)]:[],...n?[$s("w:charset",n)]:[],$s("w:family",i),...a?[new he("w:notTrueType",a)]:[],$s("w:pitch",o),...l?[new gt({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...c?[da(c,"w:embedRegular")]:[],...u?[da(u,"w:embedBold")]:[],...p?[da(p,"w:embedItalic")]:[],...g?[da(g,"w:embedBoldItalic")]:[]]}),_j=({name:t,index:e,fontKey:r,characterSet:n})=>jj({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),Cj=t=>new gt({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>_j({name:e.name,index:r+1,fontKey:e.fontKey}))});class kj{constructor(e){ae(this,"fontTable"),ae(this,"relationships"),ae(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>xs(Ce({},r),{fontKey:J1()})),this.fontTable=Cj(this.fontOptionsWithKey),this.relationships=new As;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Aj{constructor(e){ae(this,"currentRelationshipId",1),ae(this,"documentWrapper"),ae(this,"headers",[]),ae(this,"footers",[]),ae(this,"coreProperties"),ae(this,"numbering"),ae(this,"media"),ae(this,"fileRelationships"),ae(this,"footnotesWrapper"),ae(this,"settings"),ae(this,"contentTypes"),ae(this,"customProperties"),ae(this,"appProperties"),ae(this,"styles"),ae(this,"comments"),ae(this,"fontWrapper");var r,n,i,a,o,l,c,u;if(this.coreProperties=new mS(xs(Ce({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new ZS(e.numbering?e.numbering:{config:[]}),this.comments=new rN((a=e.comments)!=null?a:{children:[]}),this.fileRelationships=new As,this.customProperties=new wS((o=e.customProperties)!=null?o:[]),this.appProperties=new cS,this.footnotesWrapper=new PS,this.contentTypes=new hS,this.documentWrapper=new Y0({background:e.background}),this.settings=new sj({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new DS,e.externalStyles){const p=new Sj;this.styles=p.newInstance(e.externalStyles)}else if(e.styles){const g=new om().newInstance(e.styles.default);this.styles=new pu(Ce(Ce({},g),e.styles))}else{const p=new om;this.styles=new pu(p.newInstance())}this.addDefaultRelationships();for(const p of e.sections)this.addSection(p);if(e.footnotes)for(const p in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(p),e.footnotes[p].children);this.fontWrapper=new kj((u=e.fonts)!=null?u:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(xs(Ce({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(e){const r=new FS(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new ES(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=os.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=os.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function fa(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rx={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(u,p){if(!i[u]){if(!n[u]){var g=typeof fa=="function"&&fa;if(!p&&g)return g(u,!0);if(l)return l(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var m=i[u]={exports:{}};n[u][0].call(m.exports,function(b){var v=n[u][1][b];return o(v||b)},m,m.exports,r,n,i,a)}return i[u].exports}for(var l=typeof fa=="function"&&fa,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,p,g,y,m,b,v,_=[],h=0,x=c.length,w=x,T=a.getTypeOf(c)!=="string";h<c.length;)w=x-h,g=T?(u=c[h++],p=h<x?c[h++]:0,h<x?c[h++]:0):(u=c.charCodeAt(h++),p=h<x?c.charCodeAt(h++):0,h<x?c.charCodeAt(h++):0),y=u>>2,m=(3&u)<<4|p>>4,b=1<w?(15&p)<<2|g>>6:64,v=2<w?63&g:64,_.push(l.charAt(y)+l.charAt(m)+l.charAt(b)+l.charAt(v));return _.join("")},i.decode=function(c){var u,p,g,y,m,b,v=0,_=0,h="data:";if(c.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&w--,c.charAt(c.length-2)===l.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|w):new Array(0|w);v<c.length;)u=l.indexOf(c.charAt(v++))<<2|(y=l.indexOf(c.charAt(v++)))>>4,p=(15&y)<<4|(m=l.indexOf(c.charAt(v++)))>>2,g=(3&m)<<6|(b=l.indexOf(c.charAt(v++))),x[_++]=u,m!==64&&(x[_++]=p),b!==64&&(x[_++]=g);return x}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(p,g,y,m,b){this.compressedSize=p,this.uncompressedSize=g,this.crc32=y,this.compression=m,this.compressedContent=b}u.prototype={getContentWorker:function(){var p=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return p.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(p,g,y){return p.pipe(new l).pipe(new c("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();n.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,p,g,y){var m=o,b=y+g;u^=-1;for(var v=y;v<b;v++)u=u>>>8^m[255&(u^p[v])];return-1^u}(0|c,l,l.length,0):function(u,p,g,y){var m=o,b=y+g;u^=-1;for(var v=y;v<b;v++)u=u>>>8^m[255&(u^p.charCodeAt(v))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),l=r("./utils"),c=r("./stream/GenericWorker"),u=a?"uint8array":"array";function p(g,y){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}i.magic="\b\0",l.inherits(p,c),p.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,g.data),!1)},p.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},i.compressWorker=function(g){return new p("Deflate",g)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(m,b){var v,_="";for(v=0;v<b;v++)_+=String.fromCharCode(255&m),m>>>=8;return _}function o(m,b,v,_,h,x){var w,T,P=m.file,H=m.compression,W=x!==u.utf8encode,Q=l.transformTo("string",x(P.name)),I=l.transformTo("string",u.utf8encode(P.name)),ee=P.comment,ce=l.transformTo("string",x(ee)),M=l.transformTo("string",u.utf8encode(ee)),te=I.length!==P.name.length,A=M.length!==ee.length,V="",Y="",D="",U=P.dir,R=P.date,J={crc32:0,compressedSize:0,uncompressedSize:0};b&&!v||(J.crc32=m.crc32,J.compressedSize=m.compressedSize,J.uncompressedSize=m.uncompressedSize);var F=0;b&&(F|=8),W||!te&&!A||(F|=2048);var C=0,G=0;U&&(C|=16),h==="UNIX"?(G=798,C|=function(re,K){var j=re;return re||(j=K?16893:33204),(65535&j)<<16}(P.unixPermissions,U)):(G=20,C|=function(re){return 63&(re||0)}(P.dosPermissions)),w=R.getUTCHours(),w<<=6,w|=R.getUTCMinutes(),w<<=5,w|=R.getUTCSeconds()/2,T=R.getUTCFullYear()-1980,T<<=4,T|=R.getUTCMonth()+1,T<<=5,T|=R.getUTCDate(),te&&(Y=a(1,1)+a(p(Q),4)+I,V+="up"+a(Y.length,2)+Y),A&&(D=a(1,1)+a(p(ce),4)+M,V+="uc"+a(D.length,2)+D);var q="";return q+=`
\0`,q+=a(F,2),q+=H.magic,q+=a(w,2),q+=a(T,2),q+=a(J.crc32,4),q+=a(J.compressedSize,4),q+=a(J.uncompressedSize,4),q+=a(Q.length,2),q+=a(V.length,2),{fileRecord:g.LOCAL_FILE_HEADER+q+Q+V,dirRecord:g.CENTRAL_FILE_HEADER+a(G,2)+q+a(ce.length,2)+"\0\0\0\0"+a(C,4)+a(_,4)+Q+V+ce}}var l=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),p=r("../crc32"),g=r("../signature");function y(m,b,v,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=v,this.encodeFileName=_,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(y,c),y.prototype.push=function(m){var b=m.meta.percent||0,v=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(b+100*(v-_-1))/v:100}}))},y.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var b=this.streamFiles&&!m.file.dir;if(b){var v=o(m,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(m){this.accumulate=!1;var b=this.streamFiles&&!m.file.dir,v=o(m,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),b)this.push({data:function(_){return g.DATA_DESCRIPTOR+a(_.crc32,4)+a(_.compressedSize,4)+a(_.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var m=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var v=this.bytesWritten-m,_=function(h,x,w,T,P){var H=l.transformTo("string",P(T));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(h,2)+a(h,2)+a(x,4)+a(w,4)+a(H.length,2)+H}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(m){this._sources.push(m);var b=this;return m.on("data",function(v){b.processChunk(v)}),m.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),m.on("error",function(v){b.error(v)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(m){var b=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var v=0;v<b.length;v++)try{b[v].error(m)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,b=0;b<m.length;b++)m[b].lock()},n.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(l,c,u){var p=new o(c.streamFiles,u,c.platform,c.encodeFileName),g=0;try{l.forEach(function(y,m){g++;var b=function(x,w){var T=x||w,P=a[T];if(!P)throw new Error(T+" is not a valid compression method !");return P}(m.options.compression,c.compression),v=m.options.compressionOptions||c.compressionOptions||{},_=m.dir,h=m.date;m._compressWorker(b,v).withStreamInfo("file",{name:y,dir:_,date:h,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(p)}),p.entriesCount=g}catch(y){p.error(y)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),l=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function g(y){return new o.Promise(function(m,b){var v=y.decompressed.getContentWorker().pipe(new u);v.on("error",function(_){b(_)}).on("end",function(){v.streamInfo.crc32!==y.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(y,m){var b=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),p.isNode&&p.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",y,!0,m.optimizedBinaryString,m.base64).then(function(v){var _=new c(m);return _.load(v),_}).then(function(v){var _=[o.Promise.resolve(v)],h=v.files;if(m.checkCRC32)for(var x=0;x<h.length;x++)_.push(g(h[x]));return o.Promise.all(_)}).then(function(v){for(var _=v.shift(),h=_.files,x=0;x<h.length;x++){var w=h[x],T=w.fileNameStr,P=a.resolve(w.fileNameStr);b.file(P,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(b.file(P).unsafeOriginalName=T)}return _.zipComment.length&&(b.comment=_.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function l(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,o),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(p){u.push({data:p,meta:{percent:0}})}).on("error",function(p){u.isPaused?this.generatedError=p:u.error(p)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(l,c,u){a.call(this,c),this._helper=l;var p=this;l.on("data",function(g,y){p.push(g)||p._helper.pause(),u&&u(y)}).on("error",function(g){p.emit("error",g)}).on("end",function(){p.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(P,H,W){var Q,I=l.getTypeOf(H),ee=l.extend(W||{},p);ee.date=ee.date||new Date,ee.compression!==null&&(ee.compression=ee.compression.toUpperCase()),typeof ee.unixPermissions=="string"&&(ee.unixPermissions=parseInt(ee.unixPermissions,8)),ee.unixPermissions&&16384&ee.unixPermissions&&(ee.dir=!0),ee.dosPermissions&&16&ee.dosPermissions&&(ee.dir=!0),ee.dir&&(P=h(P)),ee.createFolders&&(Q=_(P))&&x.call(this,Q,!0);var ce=I==="string"&&ee.binary===!1&&ee.base64===!1;W&&W.binary!==void 0||(ee.binary=!ce),(H instanceof g&&H.uncompressedSize===0||ee.dir||!H||H.length===0)&&(ee.base64=!1,ee.binary=!0,H="",ee.compression="STORE",I="string");var M=null;M=H instanceof g||H instanceof c?H:b.isNode&&b.isStream(H)?new v(P,H):l.prepareContent(P,H,ee.binary,ee.optimizedBinaryString,ee.base64);var te=new y(P,M,ee);this.files[P]=te}var o=r("./utf8"),l=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),p=r("./defaults"),g=r("./compressedObject"),y=r("./zipObject"),m=r("./generate"),b=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),_=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var H=P.lastIndexOf("/");return 0<H?P.substring(0,H):""},h=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},x=function(P,H){return H=H!==void 0?H:p.createFolders,P=h(P),this.files[P]||a.call(this,P,null,{dir:!0,createFolders:H}),this.files[P]};function w(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var H,W,Q;for(H in this.files)Q=this.files[H],(W=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&P(W,Q)},filter:function(P){var H=[];return this.forEach(function(W,Q){P(W,Q)&&H.push(Q)}),H},file:function(P,H,W){if(arguments.length!==1)return P=this.root+P,a.call(this,P,H,W),this;if(w(P)){var Q=P;return this.filter(function(ee,ce){return!ce.dir&&Q.test(ee)})}var I=this.files[this.root+P];return I&&!I.dir?I:null},folder:function(P){if(!P)return this;if(w(P))return this.filter(function(I,ee){return ee.dir&&P.test(I)});var H=this.root+P,W=x.call(this,H),Q=this.clone();return Q.root=W.name,Q},remove:function(P){P=this.root+P;var H=this.files[P];if(H||(P.slice(-1)!=="/"&&(P+="/"),H=this.files[P]),H&&!H.dir)delete this.files[P];else for(var W=this.filter(function(I,ee){return ee.name.slice(0,P.length)===P}),Q=0;Q<W.length;Q++)delete this.files[W[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var H,W={};try{if((W=l.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=W.type.toLowerCase(),W.compression=W.compression.toUpperCase(),W.type==="binarystring"&&(W.type="string"),!W.type)throw new Error("No output type specified.");l.checkSupport(W.type),W.platform!=="darwin"&&W.platform!=="freebsd"&&W.platform!=="linux"&&W.platform!=="sunos"||(W.platform="UNIX"),W.platform==="win32"&&(W.platform="DOS");var Q=W.comment||this.comment||"";H=m.generateWorker(this,W,Q)}catch(I){(H=new c("error")).error(I)}return new u(H,W.type||"string",W.mimeType)},generateAsync:function(P,H){return this.generateInternalStream(P).accumulate(H)},generateNodeStream:function(P,H){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(H)}};n.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}r("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),p=l.charCodeAt(2),g=l.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===u&&this.data[y+2]===p&&this.data[y+3]===g)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),p=l.charCodeAt(2),g=l.charCodeAt(3),y=this.readData(4);return c===y[0]&&u===y[1]&&p===y[2]&&g===y[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(l){a.call(this,l)}r("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(l){a.call(this,l)}r("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(l){a.call(this,l)}r("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),l=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");n.exports=function(g){var y=a.getTypeOf(g);return a.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new u(g):o.uint8array?new p(a.transformTo("uint8array",g)):new l(a.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,o),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(p){u.dataIsReady=!0,u.data=p,u.max=p&&p.length||0,u.type=a.getTypeOf(p),u.isPaused||u._tickAndRepeat()},function(p){u.error(p)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),l=r("./GenericWorker"),c=r("../base64"),u=r("../support"),p=r("../external"),g=null;if(u.nodestream)try{g=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(b,v){return new p.Promise(function(_,h){var x=[],w=b._internalType,T=b._outputType,P=b._mimeType;b.on("data",function(H,W){x.push(H),v&&v(W)}).on("error",function(H){x=[],h(H)}).on("end",function(){try{var H=function(W,Q,I){switch(W){case"blob":return a.newBlob(a.transformTo("arraybuffer",Q),I);case"base64":return c.encode(Q);default:return a.transformTo(W,Q)}}(T,function(W,Q){var I,ee=0,ce=null,M=0;for(I=0;I<Q.length;I++)M+=Q[I].length;switch(W){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(ce=new Uint8Array(M),I=0;I<Q.length;I++)ce.set(Q[I],ee),ee+=Q[I].length;return ce;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+W+"'")}}(w,x),P);_(H)}catch(W){h(W)}x=[]}).resume()})}function m(b,v,_){var h=v;switch(v){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=v,this._mimeType=_,a.checkSupport(h),this._worker=b.pipe(new o(h)),b.lock()}catch(x){this._worker=new l("error"),this._worker.error(x)}}m.prototype={accumulate:function(b){return y(this,b)},on:function(b,v){var _=this;return b==="data"?this._worker.on(b,function(h){v.call(_,h.data,h.meta)}):this._worker.on(b,function(){a.delay(v,arguments,_)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),l=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),p=0;p<256;p++)u[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;u[254]=u[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?l.newBufferFrom(m,"utf-8"):function(b){var v,_,h,x,w,T=b.length,P=0;for(x=0;x<T;x++)(64512&(_=b.charCodeAt(x)))==55296&&x+1<T&&(64512&(h=b.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(h-56320),x++),P+=_<128?1:_<2048?2:_<65536?3:4;for(v=o.uint8array?new Uint8Array(P):new Array(P),x=w=0;w<P;x++)(64512&(_=b.charCodeAt(x)))==55296&&x+1<T&&(64512&(h=b.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(h-56320),x++),_<128?v[w++]=_:(_<2048?v[w++]=192|_>>>6:(_<65536?v[w++]=224|_>>>12:(v[w++]=240|_>>>18,v[w++]=128|_>>>12&63),v[w++]=128|_>>>6&63),v[w++]=128|63&_);return v}(m)},i.utf8decode=function(m){return o.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(b){var v,_,h,x,w=b.length,T=new Array(2*w);for(v=_=0;v<w;)if((h=b[v++])<128)T[_++]=h;else if(4<(x=u[h]))T[_++]=65533,v+=x-1;else{for(h&=x===2?31:x===3?15:7;1<x&&v<w;)h=h<<6|63&b[v++],x--;1<x?T[_++]=65533:h<65536?T[_++]=h:(h-=65536,T[_++]=55296|h>>10&1023,T[_++]=56320|1023&h)}return T.length!==_&&(T.subarray?T=T.subarray(0,_):T.length=_),a.applyFromCharCode(T)}(m=a.transformTo(o.uint8array?"uint8array":"array",m))},a.inherits(g,c),g.prototype.processChunk=function(m){var b=a.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=b;(b=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),b.set(v,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var _=function(x,w){var T;for((w=w||x.length)>x.length&&(w=x.length),T=w-1;0<=T&&(192&x[T])==128;)T--;return T<0||T===0?w:T+u[x[T]]>w?T:w}(b),h=b;_!==b.length&&(o.uint8array?(h=b.subarray(0,_),this.leftOver=b.subarray(_,b.length)):(h=b.slice(0,_),this.leftOver=b.slice(_,b.length))),this.push({data:i.utf8decode(h),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(y,c),y.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),l=r("./nodejsUtils"),c=r("./external");function u(v){return v}function p(v,_){for(var h=0;h<v.length;++h)_[h]=255&v.charCodeAt(h);return _}r("setimmediate"),i.newBlob=function(v,_){i.checkSupport("blob");try{return new Blob([v],{type:_})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(v),h.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(v,_,h){var x=[],w=0,T=v.length;if(T<=h)return String.fromCharCode.apply(null,v);for(;w<T;)_==="array"||_==="nodebuffer"?x.push(String.fromCharCode.apply(null,v.slice(w,Math.min(w+h,T)))):x.push(String.fromCharCode.apply(null,v.subarray(w,Math.min(w+h,T)))),w+=h;return x.join("")},stringifyByChar:function(v){for(var _="",h=0;h<v.length;h++)_+=String.fromCharCode(v[h]);return _},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function y(v){var _=65536,h=i.getTypeOf(v),x=!0;if(h==="uint8array"?x=g.applyCanBeUsed.uint8array:h==="nodebuffer"&&(x=g.applyCanBeUsed.nodebuffer),x)for(;1<_;)try{return g.stringifyByChunk(v,h,_)}catch{_=Math.floor(_/2)}return g.stringifyByChar(v)}function m(v,_){for(var h=0;h<v.length;h++)_[h]=v[h];return _}i.applyFromCharCode=y;var b={};b.string={string:u,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return b.string.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:function(v){return p(v,l.allocBuffer(v.length))}},b.array={string:y,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},b.arraybuffer={string:function(v){return y(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},b.uint8array={string:y,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return l.newBufferFrom(v)}},b.nodebuffer={string:y,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return b.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,_){if(_=_||"",!v)return _;i.checkSupport(v);var h=i.getTypeOf(_);return b[h][v](_)},i.resolve=function(v){for(var _=v.split("/"),h=[],x=0;x<_.length;x++){var w=_[x];w==="."||w===""&&x!==0&&x!==_.length-1||(w===".."?h.pop():h.push(w))}return h.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var _,h,x="";for(h=0;h<(v||"").length;h++)x+="\\x"+((_=v.charCodeAt(h))<16?"0":"")+_.toString(16).toUpperCase();return x},i.delay=function(v,_,h){setImmediate(function(){v.apply(h||null,_||[])})},i.inherits=function(v,_){function h(){}h.prototype=_.prototype,v.prototype=new h},i.extend=function(){var v,_,h={};for(v=0;v<arguments.length;v++)for(_ in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],_)&&h[_]===void 0&&(h[_]=arguments[v][_]);return h},i.prepareContent=function(v,_,h,x,w){return c.Promise.resolve(_).then(function(T){return a.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(P,H){var W=new FileReader;W.onload=function(Q){P(Q.target.result)},W.onerror=function(Q){H(Q.target.error)},W.readAsArrayBuffer(T)}):T}).then(function(T){var P=i.getTypeOf(T);return P?(P==="arraybuffer"?T=i.transformTo("uint8array",T):P==="string"&&(w?T=o.decode(T):h&&x!==!0&&(T=function(H){return p(H,a.uint8array?new Uint8Array(H.length):new Array(H.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),l=r("./signature"),c=r("./zipEntry"),u=r("./support");function p(g){this.files=[],this.loadOptions=g}p.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(g)+")")}},isSignature:function(g,y){var m=this.reader.index;this.reader.setIndex(g);var b=this.reader.readString(4)===y;return this.reader.setIndex(m),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=u.uint8array?"uint8array":"array",m=o.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,y,m,b=this.zip64EndOfCentralSize-44;0<b;)g=this.reader.readInt(2),y=this.reader.readInt(4),m=this.reader.readData(y),this.zip64ExtensibleData[g]={id:g,length:y,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var y=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var b=y-m;if(0<b)this.isSignature(y,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),l=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),p=r("./compressions"),g=r("./support");function y(m,b){this.options=m,this.loadOptions=b}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var b,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(_){for(var h in p)if(Object.prototype.hasOwnProperty.call(p,h)&&p[h].magic===_)return p[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var b=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(b),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var b,v,_,h=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<h;)b=m.readInt(2),v=m.readInt(2),_=m.readData(v),this.extraFields[b]={id:b,length:v,value:_};m.setIndex(h)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var v=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var h=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var b=a(m.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var b=a(m.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(m.length-5))}return null}},n.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(b,v,_){this.name=b,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=v,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),p=r("./stream/GenericWorker");a.prototype={internalStream:function(b){var v=null,_="string";try{if(!b)throw new Error("No output type specified.");var h=(_=b.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),v=this._decompressWorker();var x=!this._dataBinary;x&&!h&&(v=v.pipe(new c.Utf8EncodeWorker)),!x&&h&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(w){(v=new p("error")).error(w)}return new o(v,_,"")},async:function(b,v){return this.internalStream(b).accumulate(v)},nodeStream:function(b,v){return this.internalStream(b||"nodebuffer").toNodejsStream(v)},_compressWorker:function(b,v){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(_,b,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof p?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)a.prototype[g[m]]=y;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,p=new c(b),g=a.document.createTextNode("");p.observe(g,{characterData:!0}),o=function(){g.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){b(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(b,0)};else{var y=new a.MessageChannel;y.port1.onmessage=b,o=function(){y.port2.postMessage(0)}}var m=[];function b(){var v,_;l=!0;for(var h=m.length;h;){for(_=m,m=[],v=-1;++v<h;)_[v]();h=m.length}l=!1}n.exports=function(v){m.push(v)!==1||l||o()}}).call(this,typeof lr<"u"?lr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],p=["PENDING"];function g(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,h!==o&&v(this,h)}function y(h,x,w){this.promise=h,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(h,x,w){a(function(){var T;try{T=x(w)}catch(P){return l.reject(h,P)}T===h?l.reject(h,new TypeError("Cannot resolve promise with itself")):l.resolve(h,T)})}function b(h){var x=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof x=="function")return function(){x.apply(h,arguments)}}function v(h,x){var w=!1;function T(W){w||(w=!0,l.reject(h,W))}function P(W){w||(w=!0,l.resolve(h,W))}var H=_(function(){x(P,T)});H.status==="error"&&T(H.value)}function _(h,x){var w={};try{w.value=h(x),w.status="success"}catch(T){w.status="error",w.value=T}return w}(n.exports=g).prototype.finally=function(h){if(typeof h!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(h()).then(function(){return w})},function(w){return x.resolve(h()).then(function(){throw w})})},g.prototype.catch=function(h){return this.then(null,h)},g.prototype.then=function(h,x){if(typeof h!="function"&&this.state===u||typeof x!="function"&&this.state===c)return this;var w=new this.constructor(o);return this.state!==p?m(w,this.state===u?h:x,this.outcome):this.queue.push(new y(w,h,x)),w},y.prototype.callFulfilled=function(h){l.resolve(this.promise,h)},y.prototype.otherCallFulfilled=function(h){m(this.promise,this.onFulfilled,h)},y.prototype.callRejected=function(h){l.reject(this.promise,h)},y.prototype.otherCallRejected=function(h){m(this.promise,this.onRejected,h)},l.resolve=function(h,x){var w=_(b,x);if(w.status==="error")return l.reject(h,w.value);var T=w.value;if(T)v(h,T);else{h.state=u,h.outcome=x;for(var P=-1,H=h.queue.length;++P<H;)h.queue[P].callFulfilled(x)}return h},l.reject=function(h,x){h.state=c,h.outcome=x;for(var w=-1,T=h.queue.length;++w<T;)h.queue[w].callRejected(x);return h},g.resolve=function(h){return h instanceof this?h:l.resolve(new this(o),h)},g.reject=function(h){var x=new this(o);return l.reject(x,h)},g.all=function(h){var x=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,T=!1;if(!w)return this.resolve([]);for(var P=new Array(w),H=0,W=-1,Q=new this(o);++W<w;)I(h[W],W);return Q;function I(ee,ce){x.resolve(ee).then(function(M){P[ce]=M,++H!==w||T||(T=!0,l.resolve(Q,P))},function(M){T||(T=!0,l.reject(Q,M))})}},g.race=function(h){var x=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=h.length,T=!1;if(!w)return this.resolve([]);for(var P=-1,H=new this(o);++P<w;)W=h[P],x.resolve(W).then(function(Q){T||(T=!0,l.resolve(H,Q))},function(Q){T||(T=!0,l.reject(H,Q))});var W;return H}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),p=Object.prototype.toString,g=0,y=-1,m=0,b=8;function v(h){if(!(this instanceof v))return new v(h);this.options=o.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},h||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=a.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==g)throw new Error(c[w]);if(x.header&&a.deflateSetHeader(this.strm,x.header),x.dictionary){var T;if(T=typeof x.dictionary=="string"?l.string2buf(x.dictionary):p.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=a.deflateSetDictionary(this.strm,T))!==g)throw new Error(c[w]);this._dict_set=!0}}function _(h,x){var w=new v(x);if(w.push(h,!0),w.err)throw w.msg||c[w.err];return w.result}v.prototype.push=function(h,x){var w,T,P=this.strm,H=this.options.chunkSize;if(this.ended)return!1;T=x===~~x?x:x===!0?4:0,typeof h=="string"?P.input=l.string2buf(h):p.call(h)==="[object ArrayBuffer]"?P.input=new Uint8Array(h):P.input=h,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new o.Buf8(H),P.next_out=0,P.avail_out=H),(w=a.deflate(P,T))!==1&&w!==g)return this.onEnd(w),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(P.output,P.next_out))):this.onData(o.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&w!==1);return T===4?(w=a.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===g):T!==2||(this.onEnd(g),!(P.avail_out=0))},v.prototype.onData=function(h){this.chunks.push(h)},v.prototype.onEnd=function(h){h===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Deflate=v,i.deflate=_,i.deflateRaw=function(h,x){return(x=x||{}).raw=!0,_(h,x)},i.gzip=function(h,x){return(x=x||{}).gzip=!0,_(h,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),p=r("./zlib/zstream"),g=r("./zlib/gzheader"),y=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||v&&v.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var h=a.inflateInit2(this.strm,_.windowBits);if(h!==c.Z_OK)throw new Error(u[h]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function b(v,_){var h=new m(_);if(h.push(v,!0),h.err)throw h.msg||u[h.err];return h.result}m.prototype.push=function(v,_){var h,x,w,T,P,H,W=this.strm,Q=this.options.chunkSize,I=this.options.dictionary,ee=!1;if(this.ended)return!1;x=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?W.input=l.binstring2buf(v):y.call(v)==="[object ArrayBuffer]"?W.input=new Uint8Array(v):W.input=v,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new o.Buf8(Q),W.next_out=0,W.avail_out=Q),(h=a.inflate(W,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(H=typeof I=="string"?l.string2buf(I):y.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,h=a.inflateSetDictionary(this.strm,H)),h===c.Z_BUF_ERROR&&ee===!0&&(h=c.Z_OK,ee=!1),h!==c.Z_STREAM_END&&h!==c.Z_OK)return this.onEnd(h),!(this.ended=!0);W.next_out&&(W.avail_out!==0&&h!==c.Z_STREAM_END&&(W.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=l.utf8border(W.output,W.next_out),T=W.next_out-w,P=l.buf2string(W.output,w),W.next_out=T,W.avail_out=Q-T,T&&o.arraySet(W.output,W.output,w,T,0),this.onData(P)):this.onData(o.shrinkBuf(W.output,W.next_out)))),W.avail_in===0&&W.avail_out===0&&(ee=!0)}while((0<W.avail_in||W.avail_out===0)&&h!==c.Z_STREAM_END);return h===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(h=a.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(W.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=m,i.inflate=b,i.inflateRaw=function(v,_){return(_=_||{}).raw=!0,b(v,_)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var p=u.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var g in p)p.hasOwnProperty(g)&&(c[g]=p[g])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,p,g,y){if(u.subarray&&c.subarray)c.set(u.subarray(p,p+g),y);else for(var m=0;m<g;m++)c[y+m]=u[p+m]},flattenChunks:function(c){var u,p,g,y,m,b;for(u=g=0,p=c.length;u<p;u++)g+=c[u].length;for(b=new Uint8Array(g),u=y=0,p=c.length;u<p;u++)m=c[u],b.set(m,y),y+=m.length;return b}},l={arraySet:function(c,u,p,g,y){for(var m=0;m<g;m++)c[y+m]=u[p+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function p(g,y){if(y<65537&&(g.subarray&&l||!g.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(g,y));for(var m="",b=0;b<y;b++)m+=String.fromCharCode(g[b]);return m}c[254]=c[254]=1,i.string2buf=function(g){var y,m,b,v,_,h=g.length,x=0;for(v=0;v<h;v++)(64512&(m=g.charCodeAt(v)))==55296&&v+1<h&&(64512&(b=g.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),v++),x+=m<128?1:m<2048?2:m<65536?3:4;for(y=new a.Buf8(x),v=_=0;_<x;v++)(64512&(m=g.charCodeAt(v)))==55296&&v+1<h&&(64512&(b=g.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(b-56320),v++),m<128?y[_++]=m:(m<2048?y[_++]=192|m>>>6:(m<65536?y[_++]=224|m>>>12:(y[_++]=240|m>>>18,y[_++]=128|m>>>12&63),y[_++]=128|m>>>6&63),y[_++]=128|63&m);return y},i.buf2binstring=function(g){return p(g,g.length)},i.binstring2buf=function(g){for(var y=new a.Buf8(g.length),m=0,b=y.length;m<b;m++)y[m]=g.charCodeAt(m);return y},i.buf2string=function(g,y){var m,b,v,_,h=y||g.length,x=new Array(2*h);for(m=b=0;m<h;)if((v=g[m++])<128)x[b++]=v;else if(4<(_=c[v]))x[b++]=65533,m+=_-1;else{for(v&=_===2?31:_===3?15:7;1<_&&m<h;)v=v<<6|63&g[m++],_--;1<_?x[b++]=65533:v<65536?x[b++]=v:(v-=65536,x[b++]=55296|v>>10&1023,x[b++]=56320|1023&v)}return p(x,b)},i.utf8border=function(g,y){var m;for((y=y||g.length)>g.length&&(y=g.length),m=y-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?y:m+c[g[m]]>y?m:y}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,l,c){for(var u=65535&a|0,p=a>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;p=p+(u=u+o[c++]|0)|0,--g;);u%=65521,p%=65521}return u|p<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l,c,u){var p=a,g=u+c;o^=-1;for(var y=u;y<g;y++)o=o>>>8^p[255&(o^l[y])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),l=r("./trees"),c=r("./adler32"),u=r("./crc32"),p=r("./messages"),g=0,y=4,m=0,b=-2,v=-1,_=4,h=2,x=8,w=9,T=286,P=30,H=19,W=2*T+1,Q=15,I=3,ee=258,ce=ee+I+1,M=42,te=113,A=1,V=2,Y=3,D=4;function U(S,se){return S.msg=p[se],se}function R(S){return(S<<1)-(4<S?9:0)}function J(S){for(var se=S.length;0<=--se;)S[se]=0}function F(S){var se=S.state,k=se.pending;k>S.avail_out&&(k=S.avail_out),k!==0&&(o.arraySet(S.output,se.pending_buf,se.pending_out,k,S.next_out),S.next_out+=k,se.pending_out+=k,S.total_out+=k,S.avail_out-=k,se.pending-=k,se.pending===0&&(se.pending_out=0))}function C(S,se){l._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,se),S.block_start=S.strstart,F(S.strm)}function G(S,se){S.pending_buf[S.pending++]=se}function q(S,se){S.pending_buf[S.pending++]=se>>>8&255,S.pending_buf[S.pending++]=255&se}function re(S,se){var k,d,f=S.max_chain_length,E=S.strstart,B=S.prev_length,Z=S.nice_match,z=S.strstart>S.w_size-ce?S.strstart-(S.w_size-ce):0,le=S.window,fe=S.w_mask,de=S.prev,pe=S.strstart+ee,we=le[E+B-1],be=le[E+B];S.prev_length>=S.good_match&&(f>>=2),Z>S.lookahead&&(Z=S.lookahead);do if(le[(k=se)+B]===be&&le[k+B-1]===we&&le[k]===le[E]&&le[++k]===le[E+1]){E+=2,k++;do;while(le[++E]===le[++k]&&le[++E]===le[++k]&&le[++E]===le[++k]&&le[++E]===le[++k]&&le[++E]===le[++k]&&le[++E]===le[++k]&&le[++E]===le[++k]&&le[++E]===le[++k]&&E<pe);if(d=ee-(pe-E),E=pe-ee,B<d){if(S.match_start=se,Z<=(B=d))break;we=le[E+B-1],be=le[E+B]}}while((se=de[se&fe])>z&&--f!=0);return B<=S.lookahead?B:S.lookahead}function K(S){var se,k,d,f,E,B,Z,z,le,fe,de=S.w_size;do{if(f=S.window_size-S.lookahead-S.strstart,S.strstart>=de+(de-ce)){for(o.arraySet(S.window,S.window,de,de,0),S.match_start-=de,S.strstart-=de,S.block_start-=de,se=k=S.hash_size;d=S.head[--se],S.head[se]=de<=d?d-de:0,--k;);for(se=k=de;d=S.prev[--se],S.prev[se]=de<=d?d-de:0,--k;);f+=de}if(S.strm.avail_in===0)break;if(B=S.strm,Z=S.window,z=S.strstart+S.lookahead,le=f,fe=void 0,fe=B.avail_in,le<fe&&(fe=le),k=fe===0?0:(B.avail_in-=fe,o.arraySet(Z,B.input,B.next_in,fe,z),B.state.wrap===1?B.adler=c(B.adler,Z,fe,z):B.state.wrap===2&&(B.adler=u(B.adler,Z,fe,z)),B.next_in+=fe,B.total_in+=fe,fe),S.lookahead+=k,S.lookahead+S.insert>=I)for(E=S.strstart-S.insert,S.ins_h=S.window[E],S.ins_h=(S.ins_h<<S.hash_shift^S.window[E+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[E+I-1])&S.hash_mask,S.prev[E&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=E,E++,S.insert--,!(S.lookahead+S.insert<I)););}while(S.lookahead<ce&&S.strm.avail_in!==0)}function j(S,se){for(var k,d;;){if(S.lookahead<ce){if(K(S),S.lookahead<ce&&se===g)return A;if(S.lookahead===0)break}if(k=0,S.lookahead>=I&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,k=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),k!==0&&S.strstart-k<=S.w_size-ce&&(S.match_length=re(S,k)),S.match_length>=I)if(d=l._tr_tally(S,S.strstart-S.match_start,S.match_length-I),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=I){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,k=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else d=l._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(d&&(C(S,!1),S.strm.avail_out===0))return A}return S.insert=S.strstart<I-1?S.strstart:I-1,se===y?(C(S,!0),S.strm.avail_out===0?Y:D):S.last_lit&&(C(S,!1),S.strm.avail_out===0)?A:V}function N(S,se){for(var k,d,f;;){if(S.lookahead<ce){if(K(S),S.lookahead<ce&&se===g)return A;if(S.lookahead===0)break}if(k=0,S.lookahead>=I&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,k=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=I-1,k!==0&&S.prev_length<S.max_lazy_match&&S.strstart-k<=S.w_size-ce&&(S.match_length=re(S,k),S.match_length<=5&&(S.strategy===1||S.match_length===I&&4096<S.strstart-S.match_start)&&(S.match_length=I-1)),S.prev_length>=I&&S.match_length<=S.prev_length){for(f=S.strstart+S.lookahead-I,d=l._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-I),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=f&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,k=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=I-1,S.strstart++,d&&(C(S,!1),S.strm.avail_out===0))return A}else if(S.match_available){if((d=l._tr_tally(S,0,S.window[S.strstart-1]))&&C(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return A}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(d=l._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<I-1?S.strstart:I-1,se===y?(C(S,!0),S.strm.avail_out===0?Y:D):S.last_lit&&(C(S,!1),S.strm.avail_out===0)?A:V}function X(S,se,k,d,f){this.good_length=S,this.max_lazy=se,this.nice_length=k,this.max_chain=d,this.func=f}function $(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*W),this.dyn_dtree=new o.Buf16(2*(2*P+1)),this.bl_tree=new o.Buf16(2*(2*H+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(Q+1),this.heap=new o.Buf16(2*T+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*T+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(S){var se;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=h,(se=S.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?M:te,S.adler=se.wrap===2?0:1,se.last_flush=g,l._tr_init(se),m):U(S,b)}function L(S){var se=O(S);return se===m&&function(k){k.window_size=2*k.w_size,J(k.head),k.max_lazy_match=a[k.level].max_lazy,k.good_match=a[k.level].good_length,k.nice_match=a[k.level].nice_length,k.max_chain_length=a[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=I-1,k.match_available=0,k.ins_h=0}(S.state),se}function oe(S,se,k,d,f,E){if(!S)return b;var B=1;if(se===v&&(se=6),d<0?(B=0,d=-d):15<d&&(B=2,d-=16),f<1||w<f||k!==x||d<8||15<d||se<0||9<se||E<0||_<E)return U(S,b);d===8&&(d=9);var Z=new $;return(S.state=Z).strm=S,Z.wrap=B,Z.gzhead=null,Z.w_bits=d,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=f+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+I-1)/I),Z.window=new o.Buf8(2*Z.w_size),Z.head=new o.Buf16(Z.hash_size),Z.prev=new o.Buf16(Z.w_size),Z.lit_bufsize=1<<f+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new o.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=se,Z.strategy=E,Z.method=k,L(S)}a=[new X(0,0,0,0,function(S,se){var k=65535;for(k>S.pending_buf_size-5&&(k=S.pending_buf_size-5);;){if(S.lookahead<=1){if(K(S),S.lookahead===0&&se===g)return A;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var d=S.block_start+k;if((S.strstart===0||S.strstart>=d)&&(S.lookahead=S.strstart-d,S.strstart=d,C(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-ce&&(C(S,!1),S.strm.avail_out===0))return A}return S.insert=0,se===y?(C(S,!0),S.strm.avail_out===0?Y:D):(S.strstart>S.block_start&&(C(S,!1),S.strm.avail_out),A)}),new X(4,4,8,4,j),new X(4,5,16,8,j),new X(4,6,32,32,j),new X(4,4,16,16,N),new X(8,16,32,32,N),new X(8,16,128,128,N),new X(8,32,128,256,N),new X(32,128,258,1024,N),new X(32,258,258,4096,N)],i.deflateInit=function(S,se){return oe(S,se,x,15,8,0)},i.deflateInit2=oe,i.deflateReset=L,i.deflateResetKeep=O,i.deflateSetHeader=function(S,se){return S&&S.state?S.state.wrap!==2?b:(S.state.gzhead=se,m):b},i.deflate=function(S,se){var k,d,f,E;if(!S||!S.state||5<se||se<0)return S?U(S,b):b;if(d=S.state,!S.output||!S.input&&S.avail_in!==0||d.status===666&&se!==y)return U(S,S.avail_out===0?-5:b);if(d.strm=S,k=d.last_flush,d.last_flush=se,d.status===M)if(d.wrap===2)S.adler=0,G(d,31),G(d,139),G(d,8),d.gzhead?(G(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),G(d,255&d.gzhead.time),G(d,d.gzhead.time>>8&255),G(d,d.gzhead.time>>16&255),G(d,d.gzhead.time>>24&255),G(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),G(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(G(d,255&d.gzhead.extra.length),G(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(S.adler=u(S.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(G(d,0),G(d,0),G(d,0),G(d,0),G(d,0),G(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),G(d,3),d.status=te);else{var B=x+(d.w_bits-8<<4)<<8;B|=(2<=d.strategy||d.level<2?0:d.level<6?1:d.level===6?2:3)<<6,d.strstart!==0&&(B|=32),B+=31-B%31,d.status=te,q(d,B),d.strstart!==0&&(q(d,S.adler>>>16),q(d,65535&S.adler)),S.adler=1}if(d.status===69)if(d.gzhead.extra){for(f=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>f&&(S.adler=u(S.adler,d.pending_buf,d.pending-f,f)),F(S),f=d.pending,d.pending!==d.pending_buf_size));)G(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>f&&(S.adler=u(S.adler,d.pending_buf,d.pending-f,f)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(d.status===73)if(d.gzhead.name){f=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>f&&(S.adler=u(S.adler,d.pending_buf,d.pending-f,f)),F(S),f=d.pending,d.pending===d.pending_buf_size)){E=1;break}E=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,G(d,E)}while(E!==0);d.gzhead.hcrc&&d.pending>f&&(S.adler=u(S.adler,d.pending_buf,d.pending-f,f)),E===0&&(d.gzindex=0,d.status=91)}else d.status=91;if(d.status===91)if(d.gzhead.comment){f=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>f&&(S.adler=u(S.adler,d.pending_buf,d.pending-f,f)),F(S),f=d.pending,d.pending===d.pending_buf_size)){E=1;break}E=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,G(d,E)}while(E!==0);d.gzhead.hcrc&&d.pending>f&&(S.adler=u(S.adler,d.pending_buf,d.pending-f,f)),E===0&&(d.status=103)}else d.status=103;if(d.status===103&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&F(S),d.pending+2<=d.pending_buf_size&&(G(d,255&S.adler),G(d,S.adler>>8&255),S.adler=0,d.status=te)):d.status=te),d.pending!==0){if(F(S),S.avail_out===0)return d.last_flush=-1,m}else if(S.avail_in===0&&R(se)<=R(k)&&se!==y)return U(S,-5);if(d.status===666&&S.avail_in!==0)return U(S,-5);if(S.avail_in!==0||d.lookahead!==0||se!==g&&d.status!==666){var Z=d.strategy===2?function(z,le){for(var fe;;){if(z.lookahead===0&&(K(z),z.lookahead===0)){if(le===g)return A;break}if(z.match_length=0,fe=l._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,fe&&(C(z,!1),z.strm.avail_out===0))return A}return z.insert=0,le===y?(C(z,!0),z.strm.avail_out===0?Y:D):z.last_lit&&(C(z,!1),z.strm.avail_out===0)?A:V}(d,se):d.strategy===3?function(z,le){for(var fe,de,pe,we,be=z.window;;){if(z.lookahead<=ee){if(K(z),z.lookahead<=ee&&le===g)return A;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=I&&0<z.strstart&&(de=be[pe=z.strstart-1])===be[++pe]&&de===be[++pe]&&de===be[++pe]){we=z.strstart+ee;do;while(de===be[++pe]&&de===be[++pe]&&de===be[++pe]&&de===be[++pe]&&de===be[++pe]&&de===be[++pe]&&de===be[++pe]&&de===be[++pe]&&pe<we);z.match_length=ee-(we-pe),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=I?(fe=l._tr_tally(z,1,z.match_length-I),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(fe=l._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),fe&&(C(z,!1),z.strm.avail_out===0))return A}return z.insert=0,le===y?(C(z,!0),z.strm.avail_out===0?Y:D):z.last_lit&&(C(z,!1),z.strm.avail_out===0)?A:V}(d,se):a[d.level].func(d,se);if(Z!==Y&&Z!==D||(d.status=666),Z===A||Z===Y)return S.avail_out===0&&(d.last_flush=-1),m;if(Z===V&&(se===1?l._tr_align(d):se!==5&&(l._tr_stored_block(d,0,0,!1),se===3&&(J(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),F(S),S.avail_out===0))return d.last_flush=-1,m}return se!==y?m:d.wrap<=0?1:(d.wrap===2?(G(d,255&S.adler),G(d,S.adler>>8&255),G(d,S.adler>>16&255),G(d,S.adler>>24&255),G(d,255&S.total_in),G(d,S.total_in>>8&255),G(d,S.total_in>>16&255),G(d,S.total_in>>24&255)):(q(d,S.adler>>>16),q(d,65535&S.adler)),F(S),0<d.wrap&&(d.wrap=-d.wrap),d.pending!==0?m:1)},i.deflateEnd=function(S){var se;return S&&S.state?(se=S.state.status)!==M&&se!==69&&se!==73&&se!==91&&se!==103&&se!==te&&se!==666?U(S,b):(S.state=null,se===te?U(S,-3):m):b},i.deflateSetDictionary=function(S,se){var k,d,f,E,B,Z,z,le,fe=se.length;if(!S||!S.state||(E=(k=S.state).wrap)===2||E===1&&k.status!==M||k.lookahead)return b;for(E===1&&(S.adler=c(S.adler,se,fe,0)),k.wrap=0,fe>=k.w_size&&(E===0&&(J(k.head),k.strstart=0,k.block_start=0,k.insert=0),le=new o.Buf8(k.w_size),o.arraySet(le,se,fe-k.w_size,k.w_size,0),se=le,fe=k.w_size),B=S.avail_in,Z=S.next_in,z=S.input,S.avail_in=fe,S.next_in=0,S.input=se,K(k);k.lookahead>=I;){for(d=k.strstart,f=k.lookahead-(I-1);k.ins_h=(k.ins_h<<k.hash_shift^k.window[d+I-1])&k.hash_mask,k.prev[d&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=d,d++,--f;);k.strstart=d,k.lookahead=I-1,K(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=I-1,k.match_available=0,S.next_in=Z,S.input=z,S.avail_in=B,k.wrap=E,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var l,c,u,p,g,y,m,b,v,_,h,x,w,T,P,H,W,Q,I,ee,ce,M,te,A,V;l=a.state,c=a.next_in,A=a.input,u=c+(a.avail_in-5),p=a.next_out,V=a.output,g=p-(o-a.avail_out),y=p+(a.avail_out-257),m=l.dmax,b=l.wsize,v=l.whave,_=l.wnext,h=l.window,x=l.hold,w=l.bits,T=l.lencode,P=l.distcode,H=(1<<l.lenbits)-1,W=(1<<l.distbits)-1;e:do{w<15&&(x+=A[c++]<<w,w+=8,x+=A[c++]<<w,w+=8),Q=T[x&H];t:for(;;){if(x>>>=I=Q>>>24,w-=I,(I=Q>>>16&255)===0)V[p++]=65535&Q;else{if(!(16&I)){if(!(64&I)){Q=T[(65535&Q)+(x&(1<<I)-1)];continue t}if(32&I){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}ee=65535&Q,(I&=15)&&(w<I&&(x+=A[c++]<<w,w+=8),ee+=x&(1<<I)-1,x>>>=I,w-=I),w<15&&(x+=A[c++]<<w,w+=8,x+=A[c++]<<w,w+=8),Q=P[x&W];r:for(;;){if(x>>>=I=Q>>>24,w-=I,!(16&(I=Q>>>16&255))){if(!(64&I)){Q=P[(65535&Q)+(x&(1<<I)-1)];continue r}a.msg="invalid distance code",l.mode=30;break e}if(ce=65535&Q,w<(I&=15)&&(x+=A[c++]<<w,(w+=8)<I&&(x+=A[c++]<<w,w+=8)),m<(ce+=x&(1<<I)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(x>>>=I,w-=I,(I=p-g)<ce){if(v<(I=ce-I)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(te=h,(M=0)===_){if(M+=b-I,I<ee){for(ee-=I;V[p++]=h[M++],--I;);M=p-ce,te=V}}else if(_<I){if(M+=b+_-I,(I-=_)<ee){for(ee-=I;V[p++]=h[M++],--I;);if(M=0,_<ee){for(ee-=I=_;V[p++]=h[M++],--I;);M=p-ce,te=V}}}else if(M+=_-I,I<ee){for(ee-=I;V[p++]=h[M++],--I;);M=p-ce,te=V}for(;2<ee;)V[p++]=te[M++],V[p++]=te[M++],V[p++]=te[M++],ee-=3;ee&&(V[p++]=te[M++],1<ee&&(V[p++]=te[M++]))}else{for(M=p-ce;V[p++]=V[M++],V[p++]=V[M++],V[p++]=V[M++],2<(ee-=3););ee&&(V[p++]=V[M++],1<ee&&(V[p++]=V[M++]))}break}}break}}while(c<u&&p<y);c-=ee=w>>3,x&=(1<<(w-=ee<<3))-1,a.next_in=c,a.next_out=p,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=p<y?y-p+257:257-(p-y),l.hold=x,l.bits=w}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),l=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),p=1,g=2,y=0,m=-2,b=1,v=852,_=592;function h(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(M){var te;return M&&M.state?(te=M.state,M.total_in=M.total_out=te.total=0,M.msg="",te.wrap&&(M.adler=1&te.wrap),te.mode=b,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new a.Buf32(v),te.distcode=te.distdyn=new a.Buf32(_),te.sane=1,te.back=-1,y):m}function T(M){var te;return M&&M.state?((te=M.state).wsize=0,te.whave=0,te.wnext=0,w(M)):m}function P(M,te){var A,V;return M&&M.state?(V=M.state,te<0?(A=0,te=-te):(A=1+(te>>4),te<48&&(te&=15)),te&&(te<8||15<te)?m:(V.window!==null&&V.wbits!==te&&(V.window=null),V.wrap=A,V.wbits=te,T(M))):m}function H(M,te){var A,V;return M?(V=new x,(M.state=V).window=null,(A=P(M,te))!==y&&(M.state=null),A):m}var W,Q,I=!0;function ee(M){if(I){var te;for(W=new a.Buf32(512),Q=new a.Buf32(32),te=0;te<144;)M.lens[te++]=8;for(;te<256;)M.lens[te++]=9;for(;te<280;)M.lens[te++]=7;for(;te<288;)M.lens[te++]=8;for(u(p,M.lens,0,288,W,0,M.work,{bits:9}),te=0;te<32;)M.lens[te++]=5;u(g,M.lens,0,32,Q,0,M.work,{bits:5}),I=!1}M.lencode=W,M.lenbits=9,M.distcode=Q,M.distbits=5}function ce(M,te,A,V){var Y,D=M.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new a.Buf8(D.wsize)),V>=D.wsize?(a.arraySet(D.window,te,A-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):(V<(Y=D.wsize-D.wnext)&&(Y=V),a.arraySet(D.window,te,A-V,Y,D.wnext),(V-=Y)?(a.arraySet(D.window,te,A-V,V,0),D.wnext=V,D.whave=D.wsize):(D.wnext+=Y,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=Y))),0}i.inflateReset=T,i.inflateReset2=P,i.inflateResetKeep=w,i.inflateInit=function(M){return H(M,15)},i.inflateInit2=H,i.inflate=function(M,te){var A,V,Y,D,U,R,J,F,C,G,q,re,K,j,N,X,$,O,L,oe,S,se,k,d,f=0,E=new a.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return m;(A=M.state).mode===12&&(A.mode=13),U=M.next_out,Y=M.output,J=M.avail_out,D=M.next_in,V=M.input,R=M.avail_in,F=A.hold,C=A.bits,G=R,q=J,se=y;e:for(;;)switch(A.mode){case b:if(A.wrap===0){A.mode=13;break}for(;C<16;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(2&A.wrap&&F===35615){E[A.check=0]=255&F,E[1]=F>>>8&255,A.check=l(A.check,E,2,0),C=F=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&F)<<8)+(F>>8))%31){M.msg="incorrect header check",A.mode=30;break}if((15&F)!=8){M.msg="unknown compression method",A.mode=30;break}if(C-=4,S=8+(15&(F>>>=4)),A.wbits===0)A.wbits=S;else if(S>A.wbits){M.msg="invalid window size",A.mode=30;break}A.dmax=1<<S,M.adler=A.check=1,A.mode=512&F?10:12,C=F=0;break;case 2:for(;C<16;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(A.flags=F,(255&A.flags)!=8){M.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){M.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=F>>8&1),512&A.flags&&(E[0]=255&F,E[1]=F>>>8&255,A.check=l(A.check,E,2,0)),C=F=0,A.mode=3;case 3:for(;C<32;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}A.head&&(A.head.time=F),512&A.flags&&(E[0]=255&F,E[1]=F>>>8&255,E[2]=F>>>16&255,E[3]=F>>>24&255,A.check=l(A.check,E,4,0)),C=F=0,A.mode=4;case 4:for(;C<16;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}A.head&&(A.head.xflags=255&F,A.head.os=F>>8),512&A.flags&&(E[0]=255&F,E[1]=F>>>8&255,A.check=l(A.check,E,2,0)),C=F=0,A.mode=5;case 5:if(1024&A.flags){for(;C<16;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}A.length=F,A.head&&(A.head.extra_len=F),512&A.flags&&(E[0]=255&F,E[1]=F>>>8&255,A.check=l(A.check,E,2,0)),C=F=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(R<(re=A.length)&&(re=R),re&&(A.head&&(S=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),a.arraySet(A.head.extra,V,D,re,S)),512&A.flags&&(A.check=l(A.check,V,re,D)),R-=re,D+=re,A.length-=re),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(R===0)break e;for(re=0;S=V[D+re++],A.head&&S&&A.length<65536&&(A.head.name+=String.fromCharCode(S)),S&&re<R;);if(512&A.flags&&(A.check=l(A.check,V,re,D)),R-=re,D+=re,S)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(R===0)break e;for(re=0;S=V[D+re++],A.head&&S&&A.length<65536&&(A.head.comment+=String.fromCharCode(S)),S&&re<R;);if(512&A.flags&&(A.check=l(A.check,V,re,D)),R-=re,D+=re,S)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;C<16;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(F!==(65535&A.check)){M.msg="header crc mismatch",A.mode=30;break}C=F=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),M.adler=A.check=0,A.mode=12;break;case 10:for(;C<32;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}M.adler=A.check=h(F),C=F=0,A.mode=11;case 11:if(A.havedict===0)return M.next_out=U,M.avail_out=J,M.next_in=D,M.avail_in=R,A.hold=F,A.bits=C,2;M.adler=A.check=1,A.mode=12;case 12:if(te===5||te===6)break e;case 13:if(A.last){F>>>=7&C,C-=7&C,A.mode=27;break}for(;C<3;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}switch(A.last=1&F,C-=1,3&(F>>>=1)){case 0:A.mode=14;break;case 1:if(ee(A),A.mode=20,te!==6)break;F>>>=2,C-=2;break e;case 2:A.mode=17;break;case 3:M.msg="invalid block type",A.mode=30}F>>>=2,C-=2;break;case 14:for(F>>>=7&C,C-=7&C;C<32;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if((65535&F)!=(F>>>16^65535)){M.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&F,C=F=0,A.mode=15,te===6)break e;case 15:A.mode=16;case 16:if(re=A.length){if(R<re&&(re=R),J<re&&(re=J),re===0)break e;a.arraySet(Y,V,D,re,U),R-=re,D+=re,J-=re,U+=re,A.length-=re;break}A.mode=12;break;case 17:for(;C<14;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(A.nlen=257+(31&F),F>>>=5,C-=5,A.ndist=1+(31&F),F>>>=5,C-=5,A.ncode=4+(15&F),F>>>=4,C-=4,286<A.nlen||30<A.ndist){M.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;C<3;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}A.lens[B[A.have++]]=7&F,F>>>=3,C-=3}for(;A.have<19;)A.lens[B[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,k={bits:A.lenbits},se=u(0,A.lens,0,19,A.lencode,0,A.work,k),A.lenbits=k.bits,se){M.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;X=(f=A.lencode[F&(1<<A.lenbits)-1])>>>16&255,$=65535&f,!((N=f>>>24)<=C);){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if($<16)F>>>=N,C-=N,A.lens[A.have++]=$;else{if($===16){for(d=N+2;C<d;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(F>>>=N,C-=N,A.have===0){M.msg="invalid bit length repeat",A.mode=30;break}S=A.lens[A.have-1],re=3+(3&F),F>>>=2,C-=2}else if($===17){for(d=N+3;C<d;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}C-=N,S=0,re=3+(7&(F>>>=N)),F>>>=3,C-=3}else{for(d=N+7;C<d;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}C-=N,S=0,re=11+(127&(F>>>=N)),F>>>=7,C-=7}if(A.have+re>A.nlen+A.ndist){M.msg="invalid bit length repeat",A.mode=30;break}for(;re--;)A.lens[A.have++]=S}}if(A.mode===30)break;if(A.lens[256]===0){M.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,k={bits:A.lenbits},se=u(p,A.lens,0,A.nlen,A.lencode,0,A.work,k),A.lenbits=k.bits,se){M.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,k={bits:A.distbits},se=u(g,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,k),A.distbits=k.bits,se){M.msg="invalid distances set",A.mode=30;break}if(A.mode=20,te===6)break e;case 20:A.mode=21;case 21:if(6<=R&&258<=J){M.next_out=U,M.avail_out=J,M.next_in=D,M.avail_in=R,A.hold=F,A.bits=C,c(M,q),U=M.next_out,Y=M.output,J=M.avail_out,D=M.next_in,V=M.input,R=M.avail_in,F=A.hold,C=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;X=(f=A.lencode[F&(1<<A.lenbits)-1])>>>16&255,$=65535&f,!((N=f>>>24)<=C);){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(X&&!(240&X)){for(O=N,L=X,oe=$;X=(f=A.lencode[oe+((F&(1<<O+L)-1)>>O)])>>>16&255,$=65535&f,!(O+(N=f>>>24)<=C);){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}F>>>=O,C-=O,A.back+=O}if(F>>>=N,C-=N,A.back+=N,A.length=$,X===0){A.mode=26;break}if(32&X){A.back=-1,A.mode=12;break}if(64&X){M.msg="invalid literal/length code",A.mode=30;break}A.extra=15&X,A.mode=22;case 22:if(A.extra){for(d=A.extra;C<d;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}A.length+=F&(1<<A.extra)-1,F>>>=A.extra,C-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;X=(f=A.distcode[F&(1<<A.distbits)-1])>>>16&255,$=65535&f,!((N=f>>>24)<=C);){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(!(240&X)){for(O=N,L=X,oe=$;X=(f=A.distcode[oe+((F&(1<<O+L)-1)>>O)])>>>16&255,$=65535&f,!(O+(N=f>>>24)<=C);){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}F>>>=O,C-=O,A.back+=O}if(F>>>=N,C-=N,A.back+=N,64&X){M.msg="invalid distance code",A.mode=30;break}A.offset=$,A.extra=15&X,A.mode=24;case 24:if(A.extra){for(d=A.extra;C<d;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}A.offset+=F&(1<<A.extra)-1,F>>>=A.extra,C-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){M.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(J===0)break e;if(re=q-J,A.offset>re){if((re=A.offset-re)>A.whave&&A.sane){M.msg="invalid distance too far back",A.mode=30;break}K=re>A.wnext?(re-=A.wnext,A.wsize-re):A.wnext-re,re>A.length&&(re=A.length),j=A.window}else j=Y,K=U-A.offset,re=A.length;for(J<re&&(re=J),J-=re,A.length-=re;Y[U++]=j[K++],--re;);A.length===0&&(A.mode=21);break;case 26:if(J===0)break e;Y[U++]=A.length,J--,A.mode=21;break;case 27:if(A.wrap){for(;C<32;){if(R===0)break e;R--,F|=V[D++]<<C,C+=8}if(q-=J,M.total_out+=q,A.total+=q,q&&(M.adler=A.check=A.flags?l(A.check,Y,q,U-q):o(A.check,Y,q,U-q)),q=J,(A.flags?F:h(F))!==A.check){M.msg="incorrect data check",A.mode=30;break}C=F=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;C<32;){if(R===0)break e;R--,F+=V[D++]<<C,C+=8}if(F!==(4294967295&A.total)){M.msg="incorrect length check",A.mode=30;break}C=F=0}A.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return m}return M.next_out=U,M.avail_out=J,M.next_in=D,M.avail_in=R,A.hold=F,A.bits=C,(A.wsize||q!==M.avail_out&&A.mode<30&&(A.mode<27||te!==4))&&ce(M,M.output,M.next_out,q-M.avail_out)?(A.mode=31,-4):(G-=M.avail_in,q-=M.avail_out,M.total_in+=G,M.total_out+=q,A.total+=q,A.wrap&&q&&(M.adler=A.check=A.flags?l(A.check,Y,q,M.next_out-q):o(A.check,Y,q,M.next_out-q)),M.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(G==0&&q===0||te===4)&&se===y&&(se=-5),se)},i.inflateEnd=function(M){if(!M||!M.state)return m;var te=M.state;return te.window&&(te.window=null),M.state=null,y},i.inflateGetHeader=function(M,te){var A;return M&&M.state&&2&(A=M.state).wrap?((A.head=te).done=!1,y):m},i.inflateSetDictionary=function(M,te){var A,V=te.length;return M&&M.state?(A=M.state).wrap!==0&&A.mode!==11?m:A.mode===11&&o(1,te,V,0)!==A.check?-3:ce(M,te,V,V)?(A.mode=31,-4):(A.havedict=1,y):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(p,g,y,m,b,v,_,h){var x,w,T,P,H,W,Q,I,ee,ce=h.bits,M=0,te=0,A=0,V=0,Y=0,D=0,U=0,R=0,J=0,F=0,C=null,G=0,q=new a.Buf16(16),re=new a.Buf16(16),K=null,j=0;for(M=0;M<=15;M++)q[M]=0;for(te=0;te<m;te++)q[g[y+te]]++;for(Y=ce,V=15;1<=V&&q[V]===0;V--);if(V<Y&&(Y=V),V===0)return b[v++]=20971520,b[v++]=20971520,h.bits=1,0;for(A=1;A<V&&q[A]===0;A++);for(Y<A&&(Y=A),M=R=1;M<=15;M++)if(R<<=1,(R-=q[M])<0)return-1;if(0<R&&(p===0||V!==1))return-1;for(re[1]=0,M=1;M<15;M++)re[M+1]=re[M]+q[M];for(te=0;te<m;te++)g[y+te]!==0&&(_[re[g[y+te]]++]=te);if(W=p===0?(C=K=_,19):p===1?(C=o,G-=257,K=l,j-=257,256):(C=c,K=u,-1),M=A,H=v,U=te=F=0,T=-1,P=(J=1<<(D=Y))-1,p===1&&852<J||p===2&&592<J)return 1;for(;;){for(Q=M-U,ee=_[te]<W?(I=0,_[te]):_[te]>W?(I=K[j+_[te]],C[G+_[te]]):(I=96,0),x=1<<M-U,A=w=1<<D;b[H+(F>>U)+(w-=x)]=Q<<24|I<<16|ee|0,w!==0;);for(x=1<<M-1;F&x;)x>>=1;if(x!==0?(F&=x-1,F+=x):F=0,te++,--q[M]==0){if(M===V)break;M=g[y+_[te]]}if(Y<M&&(F&P)!==T){for(U===0&&(U=Y),H+=A,R=1<<(D=M-U);D+U<V&&!((R-=q[D+U])<=0);)D++,R<<=1;if(J+=1<<D,p===1&&852<J||p===2&&592<J)return 1;b[T=F&P]=Y<<24|D<<16|H-v|0}}return F!==0&&(b[H+F]=M-U<<24|64<<16|0),h.bits=Y,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,l=1;function c(f){for(var E=f.length;0<=--E;)f[E]=0}var u=0,p=29,g=256,y=g+1+p,m=30,b=19,v=2*y+1,_=15,h=16,x=7,w=256,T=16,P=17,H=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(y+2));c(ce);var M=new Array(2*m);c(M);var te=new Array(512);c(te);var A=new Array(256);c(A);var V=new Array(p);c(V);var Y,D,U,R=new Array(m);function J(f,E,B,Z,z){this.static_tree=f,this.extra_bits=E,this.extra_base=B,this.elems=Z,this.max_length=z,this.has_stree=f&&f.length}function F(f,E){this.dyn_tree=f,this.max_code=0,this.stat_desc=E}function C(f){return f<256?te[f]:te[256+(f>>>7)]}function G(f,E){f.pending_buf[f.pending++]=255&E,f.pending_buf[f.pending++]=E>>>8&255}function q(f,E,B){f.bi_valid>h-B?(f.bi_buf|=E<<f.bi_valid&65535,G(f,f.bi_buf),f.bi_buf=E>>h-f.bi_valid,f.bi_valid+=B-h):(f.bi_buf|=E<<f.bi_valid&65535,f.bi_valid+=B)}function re(f,E,B){q(f,B[2*E],B[2*E+1])}function K(f,E){for(var B=0;B|=1&f,f>>>=1,B<<=1,0<--E;);return B>>>1}function j(f,E,B){var Z,z,le=new Array(_+1),fe=0;for(Z=1;Z<=_;Z++)le[Z]=fe=fe+B[Z-1]<<1;for(z=0;z<=E;z++){var de=f[2*z+1];de!==0&&(f[2*z]=K(le[de]++,de))}}function N(f){var E;for(E=0;E<y;E++)f.dyn_ltree[2*E]=0;for(E=0;E<m;E++)f.dyn_dtree[2*E]=0;for(E=0;E<b;E++)f.bl_tree[2*E]=0;f.dyn_ltree[2*w]=1,f.opt_len=f.static_len=0,f.last_lit=f.matches=0}function X(f){8<f.bi_valid?G(f,f.bi_buf):0<f.bi_valid&&(f.pending_buf[f.pending++]=f.bi_buf),f.bi_buf=0,f.bi_valid=0}function $(f,E,B,Z){var z=2*E,le=2*B;return f[z]<f[le]||f[z]===f[le]&&Z[E]<=Z[B]}function O(f,E,B){for(var Z=f.heap[B],z=B<<1;z<=f.heap_len&&(z<f.heap_len&&$(E,f.heap[z+1],f.heap[z],f.depth)&&z++,!$(E,Z,f.heap[z],f.depth));)f.heap[B]=f.heap[z],B=z,z<<=1;f.heap[B]=Z}function L(f,E,B){var Z,z,le,fe,de=0;if(f.last_lit!==0)for(;Z=f.pending_buf[f.d_buf+2*de]<<8|f.pending_buf[f.d_buf+2*de+1],z=f.pending_buf[f.l_buf+de],de++,Z===0?re(f,z,E):(re(f,(le=A[z])+g+1,E),(fe=W[le])!==0&&q(f,z-=V[le],fe),re(f,le=C(--Z),B),(fe=Q[le])!==0&&q(f,Z-=R[le],fe)),de<f.last_lit;);re(f,w,E)}function oe(f,E){var B,Z,z,le=E.dyn_tree,fe=E.stat_desc.static_tree,de=E.stat_desc.has_stree,pe=E.stat_desc.elems,we=-1;for(f.heap_len=0,f.heap_max=v,B=0;B<pe;B++)le[2*B]!==0?(f.heap[++f.heap_len]=we=B,f.depth[B]=0):le[2*B+1]=0;for(;f.heap_len<2;)le[2*(z=f.heap[++f.heap_len]=we<2?++we:0)]=1,f.depth[z]=0,f.opt_len--,de&&(f.static_len-=fe[2*z+1]);for(E.max_code=we,B=f.heap_len>>1;1<=B;B--)O(f,le,B);for(z=pe;B=f.heap[1],f.heap[1]=f.heap[f.heap_len--],O(f,le,1),Z=f.heap[1],f.heap[--f.heap_max]=B,f.heap[--f.heap_max]=Z,le[2*z]=le[2*B]+le[2*Z],f.depth[z]=(f.depth[B]>=f.depth[Z]?f.depth[B]:f.depth[Z])+1,le[2*B+1]=le[2*Z+1]=z,f.heap[1]=z++,O(f,le,1),2<=f.heap_len;);f.heap[--f.heap_max]=f.heap[1],function(be,Ne){var ot,Ge,er,Pe,Fi,Bo,fr=Ne.dyn_tree,Pd=Ne.max_code,ax=Ne.stat_desc.static_tree,ox=Ne.stat_desc.has_stree,lx=Ne.stat_desc.extra_bits,Rd=Ne.stat_desc.extra_base,Ts=Ne.stat_desc.max_length,Di=0;for(Pe=0;Pe<=_;Pe++)be.bl_count[Pe]=0;for(fr[2*be.heap[be.heap_max]+1]=0,ot=be.heap_max+1;ot<v;ot++)Ts<(Pe=fr[2*fr[2*(Ge=be.heap[ot])+1]+1]+1)&&(Pe=Ts,Di++),fr[2*Ge+1]=Pe,Pd<Ge||(be.bl_count[Pe]++,Fi=0,Rd<=Ge&&(Fi=lx[Ge-Rd]),Bo=fr[2*Ge],be.opt_len+=Bo*(Pe+Fi),ox&&(be.static_len+=Bo*(ax[2*Ge+1]+Fi)));if(Di!==0){do{for(Pe=Ts-1;be.bl_count[Pe]===0;)Pe--;be.bl_count[Pe]--,be.bl_count[Pe+1]+=2,be.bl_count[Ts]--,Di-=2}while(0<Di);for(Pe=Ts;Pe!==0;Pe--)for(Ge=be.bl_count[Pe];Ge!==0;)Pd<(er=be.heap[--ot])||(fr[2*er+1]!==Pe&&(be.opt_len+=(Pe-fr[2*er+1])*fr[2*er],fr[2*er+1]=Pe),Ge--)}}(f,E),j(le,we,f.bl_count)}function S(f,E,B){var Z,z,le=-1,fe=E[1],de=0,pe=7,we=4;for(fe===0&&(pe=138,we=3),E[2*(B+1)+1]=65535,Z=0;Z<=B;Z++)z=fe,fe=E[2*(Z+1)+1],++de<pe&&z===fe||(de<we?f.bl_tree[2*z]+=de:z!==0?(z!==le&&f.bl_tree[2*z]++,f.bl_tree[2*T]++):de<=10?f.bl_tree[2*P]++:f.bl_tree[2*H]++,le=z,we=(de=0)===fe?(pe=138,3):z===fe?(pe=6,3):(pe=7,4))}function se(f,E,B){var Z,z,le=-1,fe=E[1],de=0,pe=7,we=4;for(fe===0&&(pe=138,we=3),Z=0;Z<=B;Z++)if(z=fe,fe=E[2*(Z+1)+1],!(++de<pe&&z===fe)){if(de<we)for(;re(f,z,f.bl_tree),--de!=0;);else z!==0?(z!==le&&(re(f,z,f.bl_tree),de--),re(f,T,f.bl_tree),q(f,de-3,2)):de<=10?(re(f,P,f.bl_tree),q(f,de-3,3)):(re(f,H,f.bl_tree),q(f,de-11,7));le=z,we=(de=0)===fe?(pe=138,3):z===fe?(pe=6,3):(pe=7,4)}}c(R);var k=!1;function d(f,E,B,Z){q(f,(u<<1)+(Z?1:0),3),function(z,le,fe,de){X(z),G(z,fe),G(z,~fe),a.arraySet(z.pending_buf,z.window,le,fe,z.pending),z.pending+=fe}(f,E,B)}i._tr_init=function(f){k||(function(){var E,B,Z,z,le,fe=new Array(_+1);for(z=Z=0;z<p-1;z++)for(V[z]=Z,E=0;E<1<<W[z];E++)A[Z++]=z;for(A[Z-1]=z,z=le=0;z<16;z++)for(R[z]=le,E=0;E<1<<Q[z];E++)te[le++]=z;for(le>>=7;z<m;z++)for(R[z]=le<<7,E=0;E<1<<Q[z]-7;E++)te[256+le++]=z;for(B=0;B<=_;B++)fe[B]=0;for(E=0;E<=143;)ce[2*E+1]=8,E++,fe[8]++;for(;E<=255;)ce[2*E+1]=9,E++,fe[9]++;for(;E<=279;)ce[2*E+1]=7,E++,fe[7]++;for(;E<=287;)ce[2*E+1]=8,E++,fe[8]++;for(j(ce,y+1,fe),E=0;E<m;E++)M[2*E+1]=5,M[2*E]=K(E,5);Y=new J(ce,W,g+1,y,_),D=new J(M,Q,0,m,_),U=new J(new Array(0),I,0,b,x)}(),k=!0),f.l_desc=new F(f.dyn_ltree,Y),f.d_desc=new F(f.dyn_dtree,D),f.bl_desc=new F(f.bl_tree,U),f.bi_buf=0,f.bi_valid=0,N(f)},i._tr_stored_block=d,i._tr_flush_block=function(f,E,B,Z){var z,le,fe=0;0<f.level?(f.strm.data_type===2&&(f.strm.data_type=function(de){var pe,we=4093624447;for(pe=0;pe<=31;pe++,we>>>=1)if(1&we&&de.dyn_ltree[2*pe]!==0)return o;if(de.dyn_ltree[18]!==0||de.dyn_ltree[20]!==0||de.dyn_ltree[26]!==0)return l;for(pe=32;pe<g;pe++)if(de.dyn_ltree[2*pe]!==0)return l;return o}(f)),oe(f,f.l_desc),oe(f,f.d_desc),fe=function(de){var pe;for(S(de,de.dyn_ltree,de.l_desc.max_code),S(de,de.dyn_dtree,de.d_desc.max_code),oe(de,de.bl_desc),pe=b-1;3<=pe&&de.bl_tree[2*ee[pe]+1]===0;pe--);return de.opt_len+=3*(pe+1)+5+5+4,pe}(f),z=f.opt_len+3+7>>>3,(le=f.static_len+3+7>>>3)<=z&&(z=le)):z=le=B+5,B+4<=z&&E!==-1?d(f,E,B,Z):f.strategy===4||le===z?(q(f,2+(Z?1:0),3),L(f,ce,M)):(q(f,4+(Z?1:0),3),function(de,pe,we,be){var Ne;for(q(de,pe-257,5),q(de,we-1,5),q(de,be-4,4),Ne=0;Ne<be;Ne++)q(de,de.bl_tree[2*ee[Ne]+1],3);se(de,de.dyn_ltree,pe-1),se(de,de.dyn_dtree,we-1)}(f,f.l_desc.max_code+1,f.d_desc.max_code+1,fe+1),L(f,f.dyn_ltree,f.dyn_dtree)),N(f),Z&&X(f)},i._tr_tally=function(f,E,B){return f.pending_buf[f.d_buf+2*f.last_lit]=E>>>8&255,f.pending_buf[f.d_buf+2*f.last_lit+1]=255&E,f.pending_buf[f.l_buf+f.last_lit]=255&B,f.last_lit++,E===0?f.dyn_ltree[2*B]++:(f.matches++,E--,f.dyn_ltree[2*(A[B]+g+1)]++,f.dyn_dtree[2*C(E)]++),f.last_lit===f.lit_bufsize-1},i._tr_align=function(f){q(f,2,3),re(f,w,ce),function(E){E.bi_valid===16?(G(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}(f)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,l){if(!o.setImmediate){var c,u,p,g,y=1,m={},b=!1,v=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,c={}.toString.call(o.process)==="[object process]"?function(T){je.nextTick(function(){x(T)})}:function(){if(o.postMessage&&!o.importScripts){var T=!0,P=o.onmessage;return o.onmessage=function(){T=!1},o.postMessage("","*"),o.onmessage=P,T}}()?(g="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(T){o.postMessage(g+T,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(T){x(T.data)},function(T){p.port2.postMessage(T)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(T){var P=v.createElement("script");P.onreadystatechange=function(){x(T),P.onreadystatechange=null,u.removeChild(P),P=null},u.appendChild(P)}):function(T){setTimeout(x,0,T)},_.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var P=new Array(arguments.length-1),H=0;H<P.length;H++)P[H]=arguments[H+1];var W={callback:T,args:P};return m[y]=W,c(y),y++},_.clearImmediate=h}function h(T){delete m[T]}function x(T){if(b)setTimeout(x,0,T);else{var P=m[T];if(P){b=!0;try{(function(H){var W=H.callback,Q=H.args;switch(Q.length){case 0:W();break;case 1:W(Q[0]);break;case 2:W(Q[0],Q[1]);break;case 3:W(Q[0],Q[1],Q[2]);break;default:W.apply(l,Q)}})(P)}finally{h(T),b=!1}}}}function w(T){T.source===o&&typeof T.data=="string"&&T.data.indexOf(g)===0&&x(+T.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof lr<"u"?lr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(rx);var Tj=rx.exports;const Ij=Hg(Tj);var ao={exports:{}},Pj={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Rj(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(e,r){return Pj[r]}):t}var Oj=Rj,gu=Oj,lm=vd.Stream,Fj="    ";function Dj(t,e){typeof e!="object"&&(e={indent:e});var r=e.stream?new lm:null,n="",i=!1,a=e.indent?e.indent===!0?Fj:e.indent:"",o=!0;function l(y){o?je.nextTick(y):y()}function c(y,m){if(m!==void 0&&(n+=m),y&&!i&&(r=r||new lm,i=!0),y&&i){var b=n;l(function(){r.emit("data",b)}),n=""}}function u(y,m){Id(c,oo(y,a,a?1:0),m)}function p(){if(r){var y=n;l(function(){r.emit("data",y),r.emit("end"),r.readable=!1,r.emit("close")})}}function g(y){var m=y.encoding||"UTF-8",b={version:"1.0",encoding:m};y.standalone&&(b.standalone=y.standalone),u({"?xml":{_attr:b}}),n=n.replace("/>","?>")}return l(function(){o=!1}),e.declaration&&g(e.declaration),t&&t.forEach?t.forEach(function(y,m){var b;m+1===t.length&&(b=p),u(y,b)}):u(t,p),r?(r.readable=!0,r):n}function Lj(){var t=Array.prototype.slice.call(arguments),e={_elem:oo(t)};return e.push=function(r){if(!this.append)throw new Error("not assigned to a parent!");var n=this,i=this._elem.indent;Id(this.append,oo(r,i,this._elem.icount+(i?1:0)),function(){n.append(!0)})},e.close=function(r){r!==void 0&&this.push(r),this.end&&this.end()},e}function Bj(t,e){return new Array(e||0).join(t||"")}function oo(t,e,r){r=r||0;var n=Bj(e,r),i,a=t,o=!1;if(typeof t=="object"){var l=Object.keys(t);if(i=l[0],a=t[i],a&&a._elem)return a._elem.name=i,a._elem.icount=r,a._elem.indent=e,a._elem.indents=n,a._elem.interrupt=a,a._elem}var c=[],u=[],p;function g(y){var m=Object.keys(y);m.forEach(function(b){c.push(Mj(b,y[b]))})}switch(typeof a){case"object":if(a===null)break;a._attr&&g(a._attr),a._cdata&&u.push(("<![CDATA["+a._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),a.forEach&&(p=!1,u.push(""),a.forEach(function(y){if(typeof y=="object"){var m=Object.keys(y)[0];m=="_attr"?g(y._attr):u.push(oo(y,e,r+1))}else u.pop(),p=!0,u.push(gu(y))}),p||u.push(""));break;default:u.push(gu(a))}return{name:i,interrupt:o,attributes:c,content:u,icount:r,indents:n,indent:e}}function Id(t,e,r){if(typeof e!="object")return t(!1,e);var n=e.interrupt?1:e.content.length;function i(){for(;e.content.length;){var o=e.content.shift();if(o!==void 0){if(a(o))return;Id(t,o)}}t(!1,(n>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!r?`
`:"")),r&&r()}function a(o){return o.interrupt?(o.interrupt.append=t,o.interrupt.end=i,o.interrupt=!1,t(!0),!0):!1}if(t(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(n?e.name?">":"":e.name?"/>":"")+(e.indent&&n>1?`
`:"")),!n)return t(!1,e.indent?`
`:"");a(e)||i()}function Mj(t,e){return t+'="'+gu(e)+'"'}ao.exports=Dj;ao.exports.element=ao.exports.Element=Lj;var Uj=ao.exports;const qe=Hg(Uj),cm=0,um=32,zj=32,$j=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==zj)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const o=t.slice(cm,um).map((c,u)=>c^i[u%i.length]);return Buffer.concat([t.slice(0,cm),o,t.slice(um)])};class Vj{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Wj{replace(e,r,n){let i=e;return r.forEach((a,o)=>{i=i.replace(new RegExp(`{${a.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class Hj{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class Gj{constructor(){ae(this,"formatter"),ae(this,"imageReplacer"),ae(this,"numberingReplacer"),this.formatter=new Vj,this.imageReplacer=new Wj,this.numberingReplacer=new Hj}compile(e,r){const n=new Ij,i=this.xmlifyFile(e,r),a=new Map(Object.entries(i));for(const[,o]of a)if(Array.isArray(o))for(const l of o)n.file(l.path,l.data);else n.file(o.path,o.data);for(const{stream:o,fileName:l}of e.Media.Array)n.file(`word/media/${l}`,o);for(const{data:o,name:l,fontKey:c}of e.FontTable.fontOptionsWithKey){const[u]=l.split(".");n.file(`word/fonts/${u}.odttf`,$j(o,c))}return n}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=qe(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(a.forEach((o,l)=>{e.Document.Relationships.createRelationship(n+l,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${o.fileName}`)}),qe(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const o=this.imageReplacer.replace(i,a,n);return this.numberingReplacer.replace(o,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const o=qe(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(o,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:qe(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:qe(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:qe(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((o,l)=>{const c=qe(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((p,g)=>{o.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:qe(this.formatter.format(o.Relationships,{viewWrapper:o,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${l+1}.xml.rels`}}),FooterRelationships:e.Footers.map((o,l)=>{const c=qe(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((p,g)=>{o.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:qe(this.formatter.format(o.Relationships,{viewWrapper:o,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${l+1}.xml.rels`}}),Headers:e.Headers.map((o,l)=>{const c=qe(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(c,e.Media),p=this.imageReplacer.replace(c,u,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/header${l+1}.xml`}}),Footers:e.Footers.map((o,l)=>{const c=qe(this.formatter.format(o.View,{viewWrapper:o,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(c,e.Media),p=this.imageReplacer.replace(c,u,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/footer${l+1}.xml`}}),ContentTypes:{data:qe(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:qe(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:qe(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:qe(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:qe(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:qe(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:qe(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:qe(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:qe(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const qj={WITH_2_BLANKS:"  "},Ws=t=>t===!0?qj.WITH_2_BLANKS:t===!1?void 0:t;class nx{static toString(e,r){return ta(this,null,function*(){return yield this.compiler.compile(e,Ws(r)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,r){return ta(this,null,function*(){return yield this.compiler.compile(e,Ws(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,r){return ta(this,null,function*(){return yield this.compiler.compile(e,Ws(r)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,r){return ta(this,null,function*(){return yield this.compiler.compile(e,Ws(r)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,r){const n=new vd.Stream;return this.compiler.compile(e,Ws(r)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{n.emit("data",a),n.emit("end")}),n}}ae(nx,"compiler",new Gj);var sx={exports:{}};(function(t,e){(function(r,n){n()})(Ps,function(){function r(u,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,p,g){var y=new XMLHttpRequest;y.open("GET",u),y.responseType="blob",y.onload=function(){c(y.response,p,g)},y.onerror=function(){console.error("could not download file")},y.send()}function i(u){var p=new XMLHttpRequest;p.open("HEAD",u,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ps=="object"&&Ps.global===Ps?Ps:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,p,g){var y=o.URL||o.webkitURL,m=document.createElement("a");p=p||u.name||"download",m.download=p,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?a(m):i(m.href)?n(u,p,g):a(m,m.target="_blank")):(m.href=y.createObjectURL(u),setTimeout(function(){y.revokeObjectURL(m.href)},4e4),setTimeout(function(){a(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,p,g){if(p=p||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,g),p);else if(i(u))n(u,p,g);else{var y=document.createElement("a");y.href=u,y.target="_blank",setTimeout(function(){a(y)})}}:function(u,p,g,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof u=="string")return n(u,p,g);var m=u.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||m&&b||l)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var w=_.result;w=v?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=w:location=w,y=null},_.readAsDataURL(u)}else{var h=o.URL||o.webkitURL,x=h.createObjectURL(u);y?y.location=x:location.href=x,y=null,setTimeout(function(){h.revokeObjectURL(x)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})})(sx);var Kj=sx.exports;const Yj=async t=>{const e=l=>{try{const c=l.split(",")[1],u=atob(c),p=new Uint8Array(u.length);for(let g=0;g<u.length;g++)p[g]=u.charCodeAt(g);return p}catch(c){return console.error("Error converting base64 to buffer:",c),new Uint8Array(0)}},r=l=>{if(!l)return{images:[],text:""};const c=l.split(`
`),u=[],p=[];for(const g of c)if(g.startsWith("IMAGE_DATA:"))try{const y=g.replace("IMAGE_DATA:",""),m=JSON.parse(y);u.push(m)}catch(y){console.error("Error parsing image data:",y)}else g.trim()&&!g.startsWith("[Imagem ")&&p.push(g);return{images:u,text:p.join(`
`)}},n=l=>{if(!l||!l.includes("=== DADOS EXTRADOS POR IA ==="))return null;const c=l.split("=== DADOS EXTRADOS POR IA ===")[1];if(!c)return null;const u=c.match(/Processo Elementar: (\w+) \(([^)]+)\)/),p=c.match(/Complexidade: (\w+)/),g=c.match(/Total de Pontos de Funo: (\d+)/);return!u||!p||!g?null:{processType:u[1],processTypeDescription:u[2],complexity:p[1],totalFunctionPoints:parseInt(g[1],10)}},i=new Aj({styles:{paragraphStyles:[{id:"title",name:"Title",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:32,bold:!0,color:"2563EB"},paragraph:{spacing:{after:300},alignment:ut.CENTER}},{id:"subtitle",name:"Subtitle",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:16,color:"6B7280"},paragraph:{spacing:{after:400},alignment:ut.CENTER}},{id:"heading1",name:"Heading 1",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:24,bold:!0,color:"1F2937"},paragraph:{spacing:{before:240,after:120}}},{id:"heading2",name:"Heading 2",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:20,bold:!0,color:"374151"},paragraph:{spacing:{before:200,after:100}}}]},sections:[{properties:{},children:[new ge({text:t.title||"Anlise de Impacto",style:"title"}),new ge({text:"Documento de Anlise de Impacto",style:"subtitle"}),new ua({width:{size:100,type:Ke.PERCENTAGE},borders:{top:{style:Fe.SINGLE,size:1,color:"CCCCCC"},bottom:{style:Fe.SINGLE,size:1,color:"CCCCCC"},left:{style:Fe.SINGLE,size:1,color:"CCCCCC"},right:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideHorizontal:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideVertical:{style:Fe.SINGLE,size:1,color:"CCCCCC"}},rows:[new Ot({children:[new Se({children:[new ge({children:[new Ae({text:"Nmero da PA:",bold:!0})]})],width:{size:25,type:Ke.PERCENTAGE},shading:{fill:"F3F4F6"}}),new Se({children:[new ge(t.title||"N/A")],width:{size:25,type:Ke.PERCENTAGE}}),new Se({children:[new ge({children:[new Ae({text:"Projeto:",bold:!0})]})],width:{size:25,type:Ke.PERCENTAGE},shading:{fill:"F3F4F6"}}),new Se({children:[new ge(t.project||"N/A")],width:{size:25,type:Ke.PERCENTAGE}})]}),new Ot({children:[new Se({children:[new ge({children:[new Ae({text:"Autor:",bold:!0})]})],shading:{fill:"F3F4F6"}}),new Se({children:[new ge(t.author||"N/A")]}),new Se({children:[new ge({children:[new Ae({text:"Data:",bold:!0})]})],shading:{fill:"F3F4F6"}}),new Se({children:[new ge(new Date(t.date).toLocaleDateString("pt-BR")||"N/A")]})]}),new Ot({children:[new Se({children:[new ge({children:[new Ae({text:"Verso:",bold:!0})]})],shading:{fill:"F3F4F6"}}),new Se({children:[new ge(t.version||"N/A")]}),new Se({children:[new ge("")]}),new Se({children:[new ge("")]})]})]}),new ge({text:"",spacing:{after:400}}),...t.description?[new ge({text:"1. Descrio",style:"heading1"}),new ge({text:t.description,spacing:{after:300}})]:[],new ge({text:"2. Escopo",style:"heading1"}),...t.scope.processes.length>0?[new ge({text:"2.1 Funcionalidades Impactadas",style:"heading2"}),...t.scope.processes.flatMap((l,c)=>{const u=[],{images:p,text:g}=r(l.screenshots||""),y=n(l.workDetails);u.push(new ge({children:[new Ae({text:`Funcionalidade ${c+1}: ${l.name}`,bold:!0})],spacing:{before:200,after:100}}));const m=[new Ot({children:[new Se({children:[new ge({children:[new Ae({text:"Campo",bold:!0})]})],width:{size:30,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Informao",bold:!0})]})],width:{size:70,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}})]}),new Ot({children:[new Se({children:[new ge("Status")]}),new Se({children:[new ge(l.status.charAt(0).toUpperCase()+l.status.slice(1))]})]})];if(l.status==="alterada"&&l.websisCreated!==void 0&&m.push(new Ot({children:[new Se({children:[new ge("Websis Criou/Alterou Antes")]}),new Se({children:[new ge(l.websisCreated?"SIM":"NO")]})]})),y&&m.push(new Ot({children:[new Se({children:[new ge("Anlise de Pontos de Funo")]}),new Se({children:[new ge({children:[new Ae({text:"Processo Elementar: ",bold:!0}),new Ae(`${y.processType} (${y.processTypeDescription})`)]}),new ge({children:[new Ae({text:"Complexidade: ",bold:!0}),new Ae(y.complexity)]}),new ge({children:[new Ae({text:"Total de Pontos de Funo: ",bold:!0}),new Ae(`${y.totalFunctionPoints}`)]})]})]})),l.workDetails&&l.workDetails.trim()){let b=l.workDetails;b.includes("=== DADOS EXTRADOS POR IA ===")&&(b=b.split("=== DADOS EXTRADOS POR IA ===")[0].trim()),b&&m.push(new Ot({children:[new Se({children:[new ge("Detalhamento do Trabalho")]}),new Se({children:[new ge(b)]})]}))}return u.push(new ua({width:{size:100,type:Ke.PERCENTAGE},borders:{top:{style:Fe.SINGLE,size:1,color:"CCCCCC"},bottom:{style:Fe.SINGLE,size:1,color:"CCCCCC"},left:{style:Fe.SINGLE,size:1,color:"CCCCCC"},right:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideHorizontal:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideVertical:{style:Fe.SINGLE,size:1,color:"CCCCCC"}},rows:m})),l.screenshots&&l.screenshots.trim()&&(g.trim()||p.length>0)&&(u.push(new ge({children:[new Ae({text:"Prints das Telas:",bold:!0})],spacing:{before:150,after:100}})),g.trim()&&u.push(new ge({text:g,spacing:{after:100}})),p.forEach((b,v)=>{try{const _=e(b.base64);_.length>0&&(u.push(new ge({children:[new JE({data:_,transformation:{width:400,height:300}})],spacing:{after:100},alignment:ut.CENTER})),u.push(new ge({text:b.name,spacing:{after:150},alignment:ut.CENTER,run:{italics:!0,size:18,color:"666666"}})))}catch(_){console.error("Error processing image:",_),u.push(new ge({text:`[${b.name} - Erro ao processar imagem]`,spacing:{after:100},alignment:ut.CENTER,run:{italics:!0,color:"FF0000"}}))}})),u.push(new ge({text:"",spacing:{after:200}})),u})]:[new ge({text:"Nenhuma funcionalidade definida no escopo.",spacing:{after:300}})],new ge({text:"3. Anlise de Impactos",style:"heading1"}),...Xj(t),...t.risks.length>0?[new ge({text:"4. Matriz de Riscos",style:"heading1"}),new ua({width:{size:100,type:Ke.PERCENTAGE},borders:{top:{style:Fe.SINGLE,size:1,color:"CCCCCC"},bottom:{style:Fe.SINGLE,size:1,color:"CCCCCC"},left:{style:Fe.SINGLE,size:1,color:"CCCCCC"},right:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideHorizontal:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideVertical:{style:Fe.SINGLE,size:1,color:"CCCCCC"}},rows:[new Ot({children:[new Se({children:[new ge({children:[new Ae({text:"Descrio do Risco",bold:!0})]})],width:{size:40,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Impacto",bold:!0})]})],width:{size:15,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Probabilidade",bold:!0})]})],width:{size:15,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Mitigao",bold:!0})]})],width:{size:30,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}})]}),...t.risks.map(l=>new Ot({children:[new Se({children:[new ge(l.description)]}),new Se({children:[new ge(l.impact.charAt(0).toUpperCase()+l.impact.slice(1))]}),new Se({children:[new ge(l.probability.charAt(0).toUpperCase()+l.probability.slice(1))]}),new Se({children:[new ge(l.mitigation||"N/A")]})]}))]})]:[],...t.mitigations.length>0?[new ge({text:"5. Plano de Mitigao",style:"heading1"}),new ua({width:{size:100,type:Ke.PERCENTAGE},borders:{top:{style:Fe.SINGLE,size:1,color:"CCCCCC"},bottom:{style:Fe.SINGLE,size:1,color:"CCCCCC"},left:{style:Fe.SINGLE,size:1,color:"CCCCCC"},right:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideHorizontal:{style:Fe.SINGLE,size:1,color:"CCCCCC"},insideVertical:{style:Fe.SINGLE,size:1,color:"CCCCCC"}},rows:[new Ot({children:[new Se({children:[new ge({children:[new Ae({text:"Ao",bold:!0})]})],width:{size:40,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Responsvel",bold:!0})]})],width:{size:25,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Prazo",bold:!0})]})],width:{size:20,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}}),new Se({children:[new ge({children:[new Ae({text:"Prioridade",bold:!0})]})],width:{size:15,type:Ke.PERCENTAGE},shading:{fill:"E5E7EB"}})]}),...t.mitigations.map(l=>new Ot({children:[new Se({children:[new ge(l.action)]}),new Se({children:[new ge(l.responsible)]}),new Se({children:[new ge(new Date(l.deadline).toLocaleDateString("pt-BR"))]}),new Se({children:[new ge(l.priority.charAt(0).toUpperCase()+l.priority.slice(1))]})]}))]})]:[],...t.conclusions.summary||t.conclusions.recommendations.length>0||t.conclusions.nextSteps.length>0?[new ge({text:"6. Concluses e Recomendaes",style:"heading1"}),...t.conclusions.summary?[new ge({text:"6.1 Resumo Executivo",style:"heading2"}),new ge({text:t.conclusions.summary,spacing:{after:200}})]:[],...t.conclusions.recommendations.length>0?[new ge({text:"6.2 Recomendaes",style:"heading2"}),...t.conclusions.recommendations.map(l=>new ge({text:` ${l}`,spacing:{after:100}}))]:[],...t.conclusions.nextSteps.length>0?[new ge({text:"6.3 Prximos Passos",style:"heading2"}),...t.conclusions.nextSteps.map(l=>new ge({text:` ${l}`,spacing:{after:100}}))]:[]]:[],new ge({text:"",spacing:{before:400}}),new ge({text:"NuPTechs - Sua fbrica de softwares inteligentes",alignment:ut.CENTER,spacing:{before:200},run:{italics:!0,color:"6B7280"}})]}]}),a=await nx.toBlob(i),o=`${t.title||"Analise_de_Impacto"}_${new Date().toISOString().split("T")[0]}.docx`;Kj.saveAs(a,o)};function Xj(t){const e=[],r={business:"Impactos de Negcio",technical:"Impactos Tcnicos",operational:"Impactos Operacionais",financial:"Impactos Financeiros"};let n=1;return Object.entries(r).forEach(([i,a])=>{const o=t.impacts[i];o.length>0&&(e.push(new ge({text:`3.${n} ${a}`,style:"heading2"})),o.forEach((l,c)=>{e.push(new ge({text:` ${l.description}`,spacing:{after:50}}),new ge({children:[new Ae({text:"  Severidade: ",bold:!0}),new Ae({text:l.severity.charAt(0).toUpperCase()+l.severity.slice(1)}),new Ae({text:" | "}),new Ae({text:"Probabilidade: ",bold:!0}),new Ae({text:l.probability.charAt(0).toUpperCase()+l.probability.slice(1)})],spacing:{after:100}}))}),e.push(new ge({text:"",spacing:{after:200}})),n++)}),e}const dm=()=>{const t=Dg();return new Date().getFullYear(),{id:mr(),title:"PA",description:"",author:"",date:new Date().toISOString().split("T")[0],version:"1.0",project:(t==null?void 0:t.name)||"",scope:{processes:[]},impacts:{business:[],technical:[],operational:[],financial:[]},risks:[],mitigations:[],conclusions:{summary:"",recommendations:[],nextSteps:[]},customFieldsValues:{}}},Qj=()=>{const{isAuthenticated:t,hasPermission:e,logout:r}=Tn(),[n,i]=ne.useState(dm()),[a,o]=ne.useState({}),[l,c]=ne.useState(!1),[u,p]=ne.useState(!1),[g,y]=ne.useState("form"),[m,b]=ne.useState({}),[v,_]=ne.useState(!1),[h,x]=ne.useState(null),[w,T]=ne.useState(!1),[P,H]=ne.useState("login"),[W,Q]=ne.useState(null),[I,ee]=ne.useState(!1);ne.useEffect(()=>{const C=new URLSearchParams(window.location.hash.split("?")[1]||"").get("token");C?(Q(C),H("verify-email")):H(t?"app":"login")},[t]),ne.useEffect(()=>{t&&Wg().catch(F=>{console.error("Failed to register custom fields sections:",F)})},[t]);const ce=()=>{localStorage.setItem("nup_aim_last_activity",Date.now().toString()),ee(!1)},M=()=>{r(),ee(!1)};if(P==="verify-email")return s.jsx(ov,{token:W||void 0,onBackToLogin:()=>{H("login"),Q(null),window.location.hash=""}});if(!t)return s.jsx(av,{});const te=F=>{i(C=>({...C,...F}))},A=async()=>{if(!e("ANALYSIS","EXPORT")){alert("Voc no tem permisso para exportar anlises.");return}c(!0);try{await Yj(n)}catch(F){console.error("Erro ao exportar documento:",F),alert("Erro ao exportar o documento. Tente novamente.")}finally{c(!1)}},V=async()=>{if(!e("ANALYSIS","CREATE")&&!e("ANALYSIS","EDIT")){alert("Voc no tem permisso para salvar anlises.");return}p(!0);let F=!0,C=[];try{const G={...n,customFieldsValues:a};Lg(G);const{getCustomFieldsSDK:q}=await wr(async()=>{const{getCustomFieldsSDK:j}=await Promise.resolve().then(()=>zv);return{getCustomFieldsSDK:j}},void 0),re=q();for(const[j,N]of Object.entries(a))if(Object.keys(N).length>0)try{await re.saveValues(n.id,j,N)}catch(X){F=!1,C.push(j),console.warn(`Failed to save custom fields for section ${j}:`,X)}x(new Date);const K=document.createElement("div");K.className=`fixed top-4 right-4 px-4 py-2 rounded-lg shadow-lg z-50 ${F?"bg-green-500":"bg-yellow-500"} text-white`,F?K.textContent="Anlise salva com sucesso!":K.innerHTML=`
          <div><strong>Anlise salva localmente</strong></div>
          <div class="text-sm">Alguns campos personalizados no foram salvos no servidor.</div>
          <div class="text-xs mt-1">Sees afetadas: ${C.join(", ")}</div>
        `,document.body.appendChild(K),setTimeout(()=>{document.body.contains(K)&&document.body.removeChild(K)},F?3e3:5e3)}catch(G){console.error("Erro ao salvar anlise:",G),alert("Erro ao salvar a anlise. Tente novamente.")}finally{p(!1)}},Y=F=>{if(!e("ANALYSIS","VIEW")){alert("Voc no tem permisso para visualizar anlises.");return}i(F),o(F.customFieldsValues||{}),y("form"),_(!1)},D=()=>{if(!e("ANALYSIS","CREATE")){alert("Voc no tem permisso para criar anlises.");return}i(dm()),o({}),y("form"),b({}),x(null),T(!1)},U=F=>{b(C=>({...C,[F]:!C[F]}))},R=()=>n.title.trim()&&n.title!=="PA"&&n.project.trim()&&n.author.trim()&&n.description.trim(),J=e("ANALYSIS","VIEW")||e("ANALYSIS","EDIT")||e("ANALYSIS","DELETE");return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($v,{onExport:A,isExporting:l}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-8 max-w-md mx-auto",children:[s.jsx("button",{onClick:()=>y("form"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${g==="form"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Formulrio"}),s.jsx("button",{onClick:()=>y("preview"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${g==="preview"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Visualizao"})]}),g==="form"?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(Fn,{title:"Informaes Bsicas",required:!0,isCollapsed:m.basic,onToggle:()=>U("basic"),children:s.jsx(Wv,{data:n,onChange:te,customFieldsValues:a.basic_info||{},onCustomFieldsChange:F=>{o(C=>({...C,basic_info:F}))}})}),s.jsx(Fn,{title:"Escopo",isCollapsed:m.scope,onToggle:()=>U("scope"),children:s.jsx(Gv,{data:n,onChange:te,customFieldsValues:a.scope||{},onCustomFieldsChange:F=>{o(C=>({...C,scope:F}))}})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informaes Adicionais"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:F=>T(F.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Incluir sees adicionais"})]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Marque esta opo para incluir as sees de Anlise de Impactos, Matriz de Riscos, Plano de Mitigao e Concluses."})]}),w&&s.jsxs(s.Fragment,{children:[s.jsx(Fn,{title:"Anlise de Impactos",isCollapsed:m.impacts,onToggle:()=>U("impacts"),children:s.jsx(qv,{data:n,onChange:te,customFieldsValues:a.impacts||{},onCustomFieldsChange:F=>{o(C=>({...C,impacts:F}))}})}),s.jsx(Fn,{title:"Matriz de Riscos",isCollapsed:m.risks,onToggle:()=>U("risks"),children:s.jsx(Kv,{data:n,onChange:te,customFieldsValues:a.risks||{},onCustomFieldsChange:F=>{o(C=>({...C,risks:F}))}})}),s.jsx(Fn,{title:"Plano de Mitigao",isCollapsed:m.mitigations,onToggle:()=>U("mitigations"),children:s.jsx(Yv,{data:n,onChange:te,customFieldsValues:a.mitigations||{},onCustomFieldsChange:F=>{o(C=>({...C,mitigations:F}))}})}),s.jsx(Fn,{title:"Concluses e Recomendaes",isCollapsed:m.conclusions,onToggle:()=>U("conclusions"),children:s.jsx(Xv,{data:n,onChange:te,customFieldsValues:a.conclusions||{},onCustomFieldsChange:F=>{o(C=>({...C,conclusions:F}))}})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[(e("ANALYSIS","CREATE")||e("ANALYSIS","EDIT"))&&s.jsxs("button",{onClick:V,disabled:u||!R(),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Tg,{className:"w-4 h-4 mr-2"}),u?"Salvando...":"Salvar Anlise"]}),J&&s.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center px-4 py-3 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:[s.jsx(Zw,{className:"w-4 h-4 mr-2"}),"Gerenciar Anlises"]})]}),h&&s.jsxs("div",{className:"text-sm text-gray-500",children:["ltima alterao salva: ",h.toLocaleTimeString("pt-BR")]})]}),!R()&&(e("ANALYSIS","CREATE")||e("ANALYSIS","EDIT"))&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Ateno:"})," Preencha os campos obrigatrios (Nmero da PA, Projeto, Autor e Descrio) para salvar a anlise."]})})]})]}):s.jsx(Qv,{data:n})]}),v&&J&&s.jsx(Zv,{onLoadAnalysis:Y,onNewAnalysis:D,onClose:()=>_(!1)}),I&&s.jsx(lv,{onExtendSession:ce,onLogout:M})]})};function Jj(){return s.jsx(Hw,{children:s.jsx(Qj,{})})}class Zj extends rr.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("React Error Boundary caught an error:",e,r)}render(){var e;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-red-600 text-2xl",children:""})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erro na Aplicao"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado. Tente recarregar a pgina."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Recarregar Pgina"}),s.jsxs("details",{className:"mt-4 text-left",children:[s.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"Detalhes do erro"}),s.jsx("pre",{className:"mt-2 text-xs text-gray-600 bg-gray-100 p-2 rounded overflow-auto",children:(e=this.state.error)==null?void 0:e.toString()})]})]})}):this.props.children}}const ix=document.getElementById("root");if(!ix)throw new Error("Root element not found");const e_=Sg(ix);document.body.classList.add("app-loaded");e_.render(s.jsx(ne.StrictMode,{children:s.jsx(Zj,{children:s.jsx(Jj,{})})}));
